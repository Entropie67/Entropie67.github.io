var tmpl=function(){String.prototype.encodeHTML=function(){var a={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},b=/&(?!#?w+;)|<|>|"|'|\//g;return function(){return this?this.replace(b,function(b){return a[b]||b}):this}}();var a={};return a._list_item=function(a){var b='<li class="list__item ';if(a.item.selected&&!a.item.label.match(/^grid:/)&&(b+=" selected "),a.item.label.match(/^grid:/)&&(b+=" list__item__grid "),b+='">',a.item.selected&&!a.norefresh){if(a.item.label.match(/^grid:/))a.item.label.match(/^grid:color:/)&&(b+='<a href="#" class="dropdown__item__grid__link"><span class="dropdown__item__grid"><span class="dropdown__item__grid__div filter__color--'+a.item.label.match(/^grid:color:([a-z]+)/)[1]+'"></span></span></a>');else if(b+='<span class="list__item__label selected">'+a.item.label+"</span>",a.item.subitems){b+='<ul class="list__subitems">';var c=a.item.subitems;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<li class="list__item"><a id="'+actionManager.addClickListener(a.list,a.list.select,{index:e,depth:a.list.getHeaderItemsCount()})+'" href="#" class="list__item__label ',d.selected&&(b+=" selected "),b+='">'+d.label,a.list.mustDisplayItemCount()&&d.count&&!d.subitems&&(b+='<span class="list__item__count">&nbsp;('+d.count+")</span>"),b+="</a></li>";b+="</ul>"}}else a.item.label.match(/^grid:/)?a.item.label.match(/^grid:color:/)&&(b+='<a id="'+actionManager.addClickListener(a.list,a.list.select,{index:a.index})+'" href="#" class="dropdown__item__grid__link"><span class="dropdown__item__grid"><span class="dropdown__item__grid__div filter__color--'+a.item.label.match(/^grid:color:([a-z]+)/)[1]+'"></span></span></a>'):(b+='<a id="'+actionManager.addClickListener(a.list,a.list.select,{index:a.index})+'" class="list__item__label ',a.item.selected&&(b+=" selected "),b+='" href="#">'+a.item.label,a.list.mustDisplayItemCount()&&a.item.count&&(b+='<span class="list__item__count">&nbsp;('+a.item.count+")</span>"),b+="</a>");return b+="</li>"},a._list_with_checkboxes_item=function(a){var b="<li "+(a.item.selected?'class="selected"':"")+">";return uxVersions.indexOf("v4")>-1&&(b+='<div class="settings__form__option__checkbox--container"><input id="'+a.listenerId+'" value="'+a.item.value+'" type="checkbox" ',a.item.selected&&(b+='checked="true"'),b+='><span class="account_overlay__checkmark"></span></div>'),b+='<label class="list__item__label list_checkbox__input_label" for="'+a.listenerId+'">'+a.item.label+"</label></li>"},a._list_with_radios_item=function(a){var b="<li "+(a.item.selected?'class="selected"':"")+">";return uxVersions.indexOf("v4")>-1&&(b+='<div class="settings__form__option__checkbox--container"><input name="'+a.name+'" id="'+a.listenerId+'" value="'+a.item.value+'" type="radio" ',a.item.selected&&(b+='checked="true"'),b+='><span class="account_overlay__radio"></span></div>'),b+='<label class="list__item__label list_checkbox__input_label" for="'+a.listenerId+'">'+a.item.label+"</label></li>"},a.drop_down=function(a){var b='<div id="'+this.id+'" class="wrapper-dropdown '+this.classname+'" role="'+_("dropdown","role")+'"><div class="select-placeholder">';this.placeholder.icon&&(b+='<span class="icon '+this.placeholder.icon+'"></span>'),b+=this.placeholder.label+'</div><span class="wrapper-dropdown__icon icon icon-'+this.iconType+'"></span><div class="dropdown">';var c=this.items;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],d.label.match(/^grid:/)?(this.gridLineBreak>0&&this.gridIndex%this.gridLineBreak==0&&(b+='<div class="dropdown__item__grid__row">'),this.gridIndex++,d.label.match(/^grid:color:/)&&(b+='<div class="dropdown__item__grid" id="'+actionManager.addClickListener(this,this.select,{index:e})+'"><div class="dropdown__item__grid__div filter__color--'+d.label.match(/^grid:color:([a-z]+)/)[1]+'"></div></div>'),this.gridLineBreak>0&&this.gridIndex%this.gridLineBreak==0&&(b+="</div>")):(b+='<div class="dropdown__item ',null!==this.value&&(this.value===d.value||this.value[0]&&this.value[0].value===d.value)&&(b+="dropdown__item__selected"),b+='" id="'+actionManager.addClickListener(this,this.select,{index:e})+'">',d.icon&&(b+='<span class="icon '+d.icon+'"></span>'),d.image&&(b+='<img class="dropdown__item_image" src="'+d.image+'" alt="',d.alt?b+=""+d.alt:b+=""+d.label,b+='"></span>'),b+=d.label+"</div>");return b+="</div></div>"},a.list=function(a){var b='<div class="wrapper-list" id="'+this.id+'">';if(this.getHeaderItemsCount()>0){b+='<ul class="list">';var c=this.headerItems;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<li class="list__item"><a id="'+actionManager.addClickListener(this,this.select,{depth:e})+'"><span class="icon icon-nav-selector-icon-small"></span><span class="list__item--title">'+d+"</span></a></li>";b+="</ul>"}b+="<div ",this.isExpandButtonVisible()&&(b+='class="expandable_list_container"'),b+=" ",this.isExpanded()&&(b+='style="max-height: 2000px"'),b+='><ul class="list ',this.getHeaderItemsCount()>0&&(b+="indented_list"),b+='">';var g=this.getInitialItems();if(g)for(var d,e=-1,h=g.length-1;e<h;)d=g[e+=1],b+=""+Component.renderPartial("list_item",{list:this,item:d,index:e,norefresh:this.norefresh});if(b+="</ul>",this.partialDisplayEnabled()){b+='<ul class="list__additional ',this.getHeaderItemsCount()>0&&(b+="indented_list"),b+=" ",this.isExpanded()||(b+="list__additional--hidden"),b+='">';var i=this.getRemainingItems();if(i)for(var d,e=-1,j=i.length-1;e<j;){d=i[e+=1];var k=e+this.getInitialCount();b+=""+Component.renderPartial("list_item",{list:this,item:d,index:k,norefresh:this.norefresh})}b+="</ul>"}return b+="</div>",this.isExpandButtonVisible()&&(b+='<div class="list__items_toggle ',this.isExpanded()&&(b+="list__items_toggle--retract"),b+='" id="'+actionManager.addClickListener(this,this.toggleFilterItems)+'"><span class="icon icon-dropdown"></span>',this.options.dropdownLabel&&(b+='<span class="label-expand">'+this.options.dropdownLabel+'</span><span class="label-retract">'+_("Hide","filters")+"</span>"),b+="</div>"),b+="</div>"},a.list_with_checkboxes=function(a){var b='<div class="wrapper-list" id="'+this.id+'"><div id="'+this.options.filterName+'" ';this.isExpandButtonVisible()&&(b+='class="expandable_list_container"'),b+=" ",this.isExpanded()&&(b+='style="max-height: 2000px"'),b+='><ul class="list">';var c=this.getInitialItems();if(c)for(var d,e=-1,f=c.length-1;e<f;){d=c[e+=1];var g=actionManager.addClickListener(this,this.toggle,{propagate:!0,value:d.value});b+=""+Component.renderPartial("list_with_checkboxes_item",{item:d,listenerId:g})}if(b+="</ul>",this.partialDisplayEnabled()){b+='<ul class="list__additional ',this.isExpanded()||(b+="list__additional--hidden"),b+='">';var h=this.getRemainingItems();if(h)for(var d,i=-1,j=h.length-1;i<j;){d=h[i+=1];var g=actionManager.addClickListener(this,this.toggle,{propagate:!0,value:d.value});b+=""+Component.renderPartial("list_with_checkboxes_item",{item:d,listenerId:g})}b+="</ul>"}return b+="</div>",this.isExpandButtonVisible()&&(b+='<div class="list__items_toggle ',this.isExpanded()&&(b+="list__items_toggle--retract"),b+='" id="'+actionManager.addClickListener(this,this.toggleFilterItems)+'"><span class="icon icon-dropdown"></span>',this.options.expandLabel&&this.options.retractLabel&&(b+='<span class="label-expand">'+this.options.expandLabel+'</span><span class="label-retract">'+this.options.retractLabel+"</span>"),b+="</div>"),b+="</div>"},a.list_with_radios=function(a){var b='<div class="wrapper-list" id="'+this.id+'"><div id="'+this.options.filterName+'" ';this.isExpandButtonVisible()&&(b+='class="expandable_list_container"'),b+=" ",this.isExpanded()&&(b+='style="max-height: 2000px"'),b+='><ul class="list">';var c=this.getInitialItems();if(c)for(var d,e=-1,f=c.length-1;e<f;){d=c[e+=1];var g=actionManager.addClickListener(this,this.toggle,{propagate:!0,value:d.value});b+=""+Component.renderPartial("list_with_radios_item",{item:d,listenerId:g,name:this.name})}if(b+="</ul>",this.partialDisplayEnabled()){b+='<ul class="list__additional ',this.isExpanded()||(b+="list__additional--hidden"),b+='">';var h=this.getRemainingItems();if(h)for(var d,i=-1,j=h.length-1;i<j;){d=h[i+=1];var g=actionManager.addClickListener(this,this.toggle,{propagate:!0,value:d.value});b+=""+Component.renderPartial("list_with_radios_item",{item:d,listenerId:g,name:this.name})}b+="</ul>"}return b+="</div>",this.isExpandButtonVisible()&&(b+='<div class="list__items_toggle ',this.isExpanded()&&(b+="list__items_toggle--retract"),b+='" id="'+actionManager.addClickListener(this,this.toggleFilterItems)+'"><span class="icon icon-dropdown"></span>',this.options.expandLabel&&this.options.retractLabel&&(b+='<span class="label-expand">'+this.options.expandLabel+'</span><span class="label-retract">'+this.options.retractLabel+"</span>"),b+="</div>"),b+="</div>"},a.local_filter_with_checkboxes=function(a){var b='<div class="result_filters_container__box"><div class="result_filters_container__filters" id="result_filters_container__filters"><div class="result_filter__item result_filter__item--list result_filter__item--local"><span class="result_filter__item__label" id="'+actionManager.addClickListener(this,this.toggleFilterItems,{clickOutHandler:this.close})+'">'+this.label+'</span><div class="wrapper-list" id="'+this.id+'"><div id="'+this.options.filterName+'" ';if(this.isExpandButtonVisible()&&(b+='class="expandable_list_container"'),b+=" ",this.isExpanded()&&(b+='style="max-height: 2000px"'),b+=">",this.partialDisplayEnabled()){b+='<ul class="list__additional ',this.isExpanded()||(b+="list__additional--hidden"),b+='">';var c=this.getRemainingItems();if(c)for(var d,e=-1,f=c.length-1;e<f;){d=c[e+=1];var g=actionManager.addClickListener(this,this.toggle,{propagate:!0,value:d.value});b+=""+Component.renderPartial("list_with_checkboxes_item",{item:d,listenerId:g})}b+="</ul>"}return b+="</div>",this.isExpandButtonVisible()&&(b+='<div class="list__items_toggle ',this.isExpanded()&&(b+="list__items_toggle--retract"),b+='" id="'+actionManager.addClickListener(this,this.toggleFilterItems)+'"><span class="icon icon-dropdown"></span></div>'),b+='</div></div></div><div class="result_filters_container__triangle_shadow"></div><div class="result_filters_container__triangle"></div></div>'},a.account_overlay=function(a){var b="";return a.display&&(b+='<div class="account_overlay--container"><div id="'+actionManager.addClickListener(this,this.removeAccountOverlay)+"\" class=\"account_overlay__background\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'account_overlay_close', component : 'form', context: 'login', t: 'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"></div><div class=\"account_overlay__main account_overlay__main--"+a.step+'"><div class="account_overlay__banner"></div><span id="'+actionManager.addClickListener(this,this.removeAccountOverlay)+"\" class=\"account_overlay__close icon icon-switch-close\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'account_overlay_close_icon', component : 'form', context: 'login', t: 'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"></span>","login"===a.step?(b+='<h1 class="account_overlay__title">'+_("Log in","login")+'</h1><form id="login__form" method="post"><label class="account_overlay__label" for="login">'+_("Email or username","login")+'</label><input class="account_overlay__input" name="login" id="login" type="text" ',BrowserHelper.isTabletOrMobile||(b+="autofocus"),b+=' required placeholder="'+_("Email or username","login")+'"><label class="account_overlay__label" for="password">'+_("Password","login")+'</label><input class="account_overlay__input" name="password" id="password" type="password" value="" required placeholder="'+_("Password","login")+'"><button class="account_overlay__button account_overlay__button--blue button button--blue login_button__processing" id="button--login" type="submit" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event:\'click\', zone: \'confirm\', component : \'form\', context: \'login\', t: \'default\'})" onclick="LinkHelper.mouseUpHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Log in","login")+'</button></form><div class="account_overlay__lost_password"><span class="icon icon-information"></span><span id="'+actionManager.addClickListener(this,this.goTo,{step:"password_lost"})+'" class="account_overlay__lost_password__text">'+_("Forgot your password?","login")+'</span></div><h1 class="account_overlay__title account_overlay__register__title">'+_("Register","login")+'</h1><div class="account_overlay__register__text">'+_("By creating your Qwant account, you will be able to keep your display <b>preferences</b> from one device to another.","login").replace(/<b>/g,"").replace(/<\/b>/g,"")+'</div><div class="account_overlay__register__more">'+_('<a href="https://help.qwant.com/help/qwant-search/my-account/why-create-a-qwant-account/"> Learn More</a>',"login")+'</div><button id="'+actionManager.addClickListener(this,this.goTo,{step:"register"})+"\" class=\"account_overlay__button--medium_marge button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'register', component: 'form', context: 'login', t: 'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Register","login")+"</button>"):"register"===a.step?b+='<h1 class="account_overlay__title"><svg id="'+actionManager.addClickListener(this,this.goTo,{step:"login"})+'" class="account_overlay__title__icon" width="24" height="24" viewBox="0 0 24 24" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone: \'previous\', component: \'form\', context: \'register\', t: \'default\'})" onclick="LinkHelper.mouseUpHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#arrow-left"></use></svg>'+_("Register","user")+'<span class="account_overlay__title__step">(1/2)</span></h1><span class="account_overlay__required">* '+_("Required fields","account_overlay")+'</span><label class="account_overlay__label" for="email_f">'+_("Email","login")+"*</label>"+this.user.emailField("email",{classname:"account_overlay__input",validationCallback:this.user.isEmailAvailable,validationError:_("This email address is not available or incorrect","user"),component:this,placeholder:_("john@domain.com","user"),required:!0,minLength:5,maxLength:128})+'<label class="account_overlay__label" for="firstname_f">'+_("First name","user")+"</label>"+this.user.textField("firstname",{classname:"account_overlay__input",placeholder:_("John","user"),minLength:2,maxLength:64,validationCallback:this.user.validateName,component:this,validationError:_("This field must only contain alpha-numeric characters, dashes, single quotes, underscores or spaces","user")})+'<label class="account_overlay__label" for="lastname_f">'+_("Last name","user")+"</label>"+this.user.textField("lastname",{classname:"account_overlay__input",placeholder:_("Doe","user"),minLength:2,maxLength:64,validationCallback:this.user.validateName,component:this,validationError:_("This field must only contain alpha-numeric characters, dashes, single quotes, underscores or spaces","user")})+'<label class="account_overlay__label" for="username_f">'+_("User name","user")+"*</label>"+this.user.textField("username",{classname:"account_overlay__input",validationCallback:this.user.isUserAvailable,validationError:_("This username is not available","user"),component:this,placeholder:_("JohnDoe","user"),required:!0,minLength:4,maxLength:22,pattern:"^([-a-z0-9_.-])+$",patternError:_("The username can only contain letters, numbers, and these symbols : _ . - ","user")})+'<label class="account_overlay__label" for="'+this.id+'_f">'+_("Password","user")+"*</label>"+this.user.passwordField(this.id,{classname:"account_overlay__input password-field--strength-attached",validationCallback:this.user.doPasswordsMatch,passwordConfirmationField:"password_confirmation",validationError:_("The passwords do not match","user"),component:this,required:!0,maxLength:64})+a.passwordStrengthIndicator.render()+'<label class="account_overlay__label" for="password_confirmation_f">'+_("Password confirmation","user")+"*</label>"+this.user.passwordField("password_confirmation",{classname:"account_overlay__input",validationCallback:this.user.doPasswordsMatch,passwordField:this.id,validationError:_("The passwords do not match","user"),component:this,required:!0})+'<button id="'+actionManager.addClickListener(this,this.saveAndAdvance)+"\" class=\"account_overlay__button--medium_marge account_overlay__button--blue button button--blue\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'next', component: 'form', context: 'register', t: 'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Next","account_page")+"</button>":"register_end"===a.step?b+='<h1 class="account_overlay__title"><svg id="'+actionManager.addClickListener(this,this.goTo,{step:"register"})+'" class="account_overlay__title__icon" width="24" height="24" viewBox="0 0 24 24" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone: \'previous\', component: \'form\', context: \'register_last_step\', t: \'default\'})" onclick="LinkHelper.mouseUpHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#arrow-left"></use></svg>'+_("Register","user")+'<span class="account_overlay__title__step">(2/2)</span></h1><form id="register__form" method="post"><div class="account_overlay__checkbox--container"><label class="account_overlay__checkbox_label" for="tos_f">'+_('I accept the terms of service of <a href="{searchTosUrl}" target="_blank">Qwant Search</a>',"user",{searchTosUrl:UrlFactory.getTosUrlForApp("search")})+'*</label><input type="checkbox" class="account_overlay__checkbox" id="tos_f"><span class="account_overlay__checkmark"></span></div><div class="account_overlay__checkbox--container"><label class="account_overlay__checkbox_label" for="newsletter_f">'+_("I want to subscribe to the Qwant newsletter","user")+'</label><input type="checkbox" class="account_overlay__checkbox" id="newsletter_f"><span class="account_overlay__checkmark"></span></div><p class="account_overlay__privacy">'+_('The information you provide during registration is collected and processed only by Qwant, in accordance with the currently applicable data protection regulations. All fields marked with an asterisk (*) are required. Qwant guarantees not to sell or disclose the user’s data in any way. These information is strictly necessary to provide the service. You are entitled to access your personal information and to have it amended, updated or deleted, by contacting : <a class="edu__register_page__mailto" href="mailto:privacy@qwant.com">privacy@qwant.com</a>',"legal register")+'</p><input class="account_overlay__button--medium_marge account_overlay__button--blue button button--blue" id="button--register" type="submit" value="'+_("Sign up","user")+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'register', t: 'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"></form>":"register_completed"===a.step?b+='<div class="account_overlay__complete"><svg class="account_overlay__complete__check" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#check-circle"></use></svg><div class="account_overlay__complete__title">'+_("Sign up done","account_page")+'</div><div class="account_overlay__complete__subtitle">'+_("Back to your search in a few seconds","account_page")+"</div></div>":"password_lost"===a.step?b+='<h1 class="account_overlay__title"><svg id="'+actionManager.addClickListener(this,this.goTo,{step:"login"})+'" class="account_overlay__title__icon" width="24" height="24" viewBox="0 0 24 24" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone: \'previous\', component: \'form\', context: \'password_lost\', t: \'default\'})" onclick="LinkHelper.mouseUpHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#arrow-left"></use></svg>'+_("Password lost","user")+'</h1><div class="account_overlay__lost_password__info">'+_("We will send you an email containing the link to reset your password.","user")+'</div><form id="password_lost"><input class="account_overlay__input" name="email" id="email" type="email" required placeholder="'+_("E-mail address","user")+'"><button class="account_overlay__button account_overlay__button--blue button button--blue" type="submit" value="'+_("Reset password","user")+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'password_lost', t: 'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Reset password","user")+'</button><button class="account_overlay__button--small_marge button button--grey" id="'+actionManager.addClickListener(this,this.goTo,{step:"login"})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'password_lost', t: 'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Cancel","form")+"</button></form>":"change_password"===a.step?b+='<h1 class="account_overlay__title">'+_("Change password","user")+'</h1><form id="change_password_form" method="post"><label class="account_overlay__label" for="old_password_f">'+_("Old password","user")+"</label>"+this.user.passwordField("old_password",{classname:"account_overlay__input",required:!0})+'<label class="account_overlay__label" for="'+this.id+'_f">'+_("New password","user")+"</label>"+this.user.passwordField(this.id,{classname:"account_overlay__input password-field--strength-attached",validationCallback:this.user.doPasswordsMatch,passwordConfirmationField:"password_confirmation",validationError:_("The passwords do not match","user"),component:this,required:!0,maxLength:64})+a.passwordStrengthIndicator.render()+'<label class="account_overlay__label" for="password_confirmation_f">'+_("Repeat new password","user")+"</label>"+this.user.passwordField("password_confirmation",{classname:"account_overlay__input",validationCallback:this.user.doPasswordsMatch,passwordField:this.id,validationError:_("The passwords do not match","user"),component:this,required:!0})+"<button type=\"submit\" class=\"account_overlay__button--blue button button--blue\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'change-password', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Save","user")+'</button><input type="reset" value="'+_("Cancel","user")+'" id="'+actionManager.addClickListener(this,this.removeAccountOverlay)+"\" class=\"account_overlay__button--small_marge button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'change-password', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"></form>":"change_lost_password"===a.step?b+='<h1 class="account_overlay__title">'+_("Create a new password","user")+'</h1><form id="change_lost_password_form" method="post"><label class="account_overlay__label" for="new_password_f">'+_("New Password","user")+"</label>"+this.user.passwordField(this.id,{classname:"account_overlay__input password-field--strength-attached",validationCallback:this.user.doPasswordsMatch,passwordConfirmationField:"password_confirmation",validationError:_("The passwords do not match","user"),component:this,required:!0,maxLength:64})+a.passwordStrengthIndicator.render()+'<label class="account_overlay__label" for="password_confirmation_f">'+_("Repeat new password","user")+"</label>"+this.user.passwordField("password_confirmation",{classname:"account_overlay__input",validationCallback:this.user.doPasswordsMatch,passwordField:this.id,validationError:_("The passwords do not match","user"),component:this,required:!0})+"<button type=\"submit\" class=\"account_overlay__button--blue button button--blue\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'save', component : 'form', context: 'change-lost-password', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Save","user")+'</button><input type="reset" value="'+_("Cancel","user")+'" id="'+actionManager.addClickListener(this,this.removeAccountOverlay)+"\" class=\"account_overlay__button--small_marge button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'change-lost-password', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"></form>":"change_email"===a.step?b+='<h1 class="account_overlay__title">'+_("Change email","user")+'</h1><form id="change_email_form" method="post"><label class="account_overlay__label" for="password_f">'+_("Password","user")+"</label>"+this.user.passwordField("password",{classname:"account_overlay__input",required:!0})+'<label class="account_overlay__label" for="new_email_f">'+_("New email","user")+"</label>"+this.user.emailField("new_email",{classname:"account_overlay__input",validationCallback:this.user.isEmailAvailable,validationError:_("This email address is not available or incorrect","user"),component:this,required:!0,minLength:5,maxLength:128})+"<button type=\"submit\" class=\"account_overlay__button--blue button button--blue\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'change-email', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Save","user")+'</button><input type="reset" value="'+_("Cancel","user")+'" id="'+actionManager.addClickListener(this,this.removeAccountOverlay)+"\" class=\"account_overlay__button--small_marge button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'change-email', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"></form>":"delete_account"===a.step&&(b+='<h1 class="account_overlay__title">'+_("Close your qwant.com account","user")+'</h1><b class="account_overlay__lost_password__info">'+_("Please read carefully the information below","user")+'</b><p class="account_overlay__lost_password__info">'+_("You are about to delete your qwant.com account that allows you to make full use of our services and features.","user")+'</p><p class="account_overlay__lost_password__info">'+_("Click the button below to confirm the deletion of your account and all your related information (features, backup bookmarks and any personal data).","user")+'</p><form id="delete_account_form" method="post"><label class="account_overlay__label" for="password_f">'+_("Please confirm your password","user")+"</label>"+this.user.passwordField("password",{classname:"account_overlay__input",required:!0})+"<button type=\"submit\" class=\"account_overlay__button--blue button button--blue\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'delete-account', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Delete my account","user")+'</button><input type="reset" value="'+_("Cancel","user")+'" id="'+actionManager.addClickListener(this,this.removeAccountOverlay)+"\" class=\"account_overlay__button--small_marge button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'delete-account', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"></form>"),b+="</div></div>"),b},a.account_page=function(a){return'<div class="form_page"><h1>'+_("Qwant profile","user")+'</h1><form class="noselect" id="'+actionManager.addSubmitListener(this,this.update)+'"><table class="account_page__picture"><tr><td class="account_page__picture__cell"><div class="account_page__picture__container" class="noselect">'+a.cropper.render()+'</div></td><td class="account_page__picture--desktop"><input type="file" id="account_page__picture__file_uploader--desktop" accept="image/x-png,image/gif,image/jpeg,image/png"><label for="account_page__picture__file_uploader--desktop" id="account_page__picture__label--desktop" class="account_page__picture__label--desktop--active button button--blue button--icon"><span class="icon icon-upload"></span><span>'+_("Update my picture","user")+'</span></label><div id="account_page__picture__buttons--desktop" class="account_page__picture__buttons--desktop--inactive"><a id="'+actionManager.addClickListener(this,this.validateCrop)+"\" class=\"button button--blue\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'change-profile-image', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Choose this image","user")+'</a><br><a id="'+actionManager.addClickListener(this,this.cancelCrop)+"\" class=\"button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'change-profile-image', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Cancel","user")+'</a></div></td></tr><tr><td class="account_page__picture--mobile" colspan=2><input type="file" id="account_page__picture__file_uploader--mobile"><label for="account_page__picture__file_uploader--mobile" id="account_page__picture__label--mobile" class="account_page__picture__label--mobile--active button button--blue button--icon"><span class="icon icon-upload"></span>'+_("Update my picture","user")+'</label><div id="account_page__picture__buttons--mobile" class="account_page__picture__buttons--mobile--inactive"><a id="'+actionManager.addClickListener(this,this.validateCrop)+'" class="button button--blue">'+_("Choose this image","user")+'</a><a id="'+actionManager.addClickListener(this,this.cancelCrop)+'" class="button button--grey">'+_("Cancel","user")+'</a></div></td></tr></table><table class="account_page__data"><tr><th>'+a.user.label("username",_("User name","user"))+"</th><td>"+a.user.textField("username",{classname:"input__text",disabled:!0})+"</td><tr><tr><th>"+a.user.label("password",_("Password","user"))+'</th><td><input disabled type="password"  value="**********" class="input__text"></td><tr><tr class="account_page__data__link_row"><th></th><td><a href="account/change_password">'+_("Change password","user")+"</a></td></tr><tr><th>"+a.user.label("email",_("E-mail","user"))+"</th><td>"+a.user.textField("email",{classname:"input__text",disabled:!0
})+'</td></tr><tr class="account_page__data__link_row"><th></th><td><a href="account/change_email">'+_("Change email","user")+'</a></td></tr></table><hr><table class="account_page__fields"><tr><th>'+a.user.label("website",_("Website","user"))+"</th><td>"+a.user.textField("website",{classname:"input__text",placeholder:"http://",validationCallback:a.user.validateUrl,validationError:_("Please enter a valid URL","user"),component:this,minLength:5,maxLength:255})+"</td></tr><tr><th>"+a.user.label("location",_("Location","user"))+"</th><td>"+a.user.textField("location",{classname:"input__text",minLength:2,maxLength:64})+"</td></tr><tr><th>"+a.user.label("about",_("Favourite quote","user"))+"</th><td>"+a.user.textArea("about",{classname:"input__textarea",placeholder:_("My favourite quote","profile"),minLength:2,maxLength:255})+"</td></tr><tr><th>"+a.user.label("firstName",_("First name","user"))+"</th><td>"+a.user.textField("firstname",{classname:"input__text",placeholder:_("John","profile"),minLength:2,maxLength:64,validationCallback:a.user.validateName,component:this,validationError:_("This field must only contain alpha-numeric characters, dashes, single quotes, underscores or spaces","user")})+"</td></tr><tr><th>"+a.user.label("lastName",_("Last name","user"))+"</th><td>"+a.user.textField("lastname",{classname:"input__text",placeholder:_("Doe","profile"),minLength:2,maxLength:64,validationCallback:a.user.validateName,component:this,validationError:_("This field must only contain alpha-numeric characters, dashes, single quotes, underscores or spaces","user")})+'</td></tr></table><div class="centered-left-outer"><div class="centered-left-inner"><div class="toggle-switch">'+a.user.checkbox("qwant_update")+a.user.label("qwant_update",_("I want to subscribe to the Qwant newsletter","user"))+"&nbsp; &nbsp;<span>"+_("I want to subscribe to the Qwant newsletter","user")+'</span></div></div></div><br><br><div class="account_page__buttons--container"><input type="reset" value="'+_("Cancel","user")+'" id="'+actionManager.addClickListener(this,this.cancel)+"\" class=\"button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'account', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><button type=\"submit\" value=\""+_("Update","user")+"\" class=\"button button--blue button--icon\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'account', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><span class=\"icon icon-success\"></span>"+_("Save","user")+'</button></div><hr><div class="account_page__delete"><h3>'+_("About my account","user")+'</h3><a class="account_page__link" href="unregister"><i class="icon icon-delete"></i><span>'+_("Delete my account","user")+'</span></a><span id="'+actionManager.addClickListener(this,this.getInfo)+"\" class=\"account_page_get_info_button\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'getInfo', component : 'form', context: 'account', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><i class=\"icon icon-download-icon\"></i><span>"+_("Receive a copy of my data","user")+'</span></span><div class="account_page_get_info_success">'+_("An e-mail has been sent for you to download your data. If you do not receive this email, please check your spam folder.","user")+'</div><div class="account_page_get_info_fail">'+_("For security reasons, you must wait 12 hours before making a new request.","user")+'</div></div></form><br><br><br><p class="account_page__legal_text">'+_('The information you provide is collected and processed only by Qwant, in accordance with the currently applicable data protection regulations. All fields marked with an asterisk (*) are required. Qwant guarantees not to sell or disclose the user’s data in any way. You are entitled to access your personal information and to have it amended, updated or deleted, by contacting : <a class="edu__register_page__mailto" href="mailto:privacy@qwant.com">privacy@qwant.com</a>',"legal account")+"</p></div>"},a.account_page_v4=function(a){return a.header.render()+'<div class="account_page--container"><form id="'+actionManager.addSubmitListener(this,this.update)+'"><div class="account_page__picture--container"><input type="file" id="account_page__picture__file_uploader--desktop" accept="image/x-png,image/gif,image/jpeg,image/png"><input type="file" id="account_page__picture__file_uploader--mobile">'+a.cropper.render()+'<label for="account_page__picture__file_uploader--mobile" id="account_page__picture__label--mobile" class="account_page__picture__label--mobile--active account_page__button account_page__button--blue account_page__button--icon button button--blue" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event:\'click\', zone: \'update\', component : \'form\', context: \'change-profile-image\', t:\'default\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><polygon points="16 3 21 8 8 21 3 21 3 16 16 3"></polygon></svg><span>'+_("Update my picture","user")+'</span></label><label for="account_page__picture__file_uploader--desktop" id="account_page__picture__label--desktop" class="account_page__picture__label--desktop--active account_page__button account_page__button--blue account_page__button--icon button button--blue" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event:\'click\', zone: \'update\', component : \'form\', context: \'change-profile-image\', t:\'default\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><polygon points="16 3 21 8 8 21 3 21 3 16 16 3"></polygon></svg><span>'+_("Update my picture","user")+'</span></label><div id="account_page__picture__buttons--desktop" class="account_page__picture__buttons--desktop--inactive"><a id="'+actionManager.addClickListener(this,this.validateCrop)+"\" class=\"account_page__button account_page__button--blue  account_page__button--block button button--blue\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'change-profile-image', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Choose this image","user")+'</a><a id="'+actionManager.addClickListener(this,this.cancelCrop)+"\" class=\"account_page__button account_page__button--grey  account_page__button--block button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'change-profile-image', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Cancel","user")+'</a></div><div id="account_page__picture__buttons--mobile" class="account_page__picture__buttons--mobile--inactive"><a id="'+actionManager.addClickListener(this,this.validateCrop)+"\" class=\"account_page__button account_page__button--blue button button--blue\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'change-profile-image', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Choose this image","user")+'</a><a id="'+actionManager.addClickListener(this,this.cancelCrop)+"\" class=\"account_page__button account_page__button--grey button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'change-profile-image', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Cancel","user")+'</a></div></div><div class="account_page__main__info"><label class="account_page__label" for="username_f">'+_("User name","user")+"</label>"+a.user.textField("username",{classname:"",disabled:!0})+'<label class="account_page__label account_page__label__main">'+_("Password","user")+'</label><input type="password" value="**********" disabled><span id="'+actionManager.addClickListener(Application.rootComponent.state.account_overlay,Application.rootComponent.state.account_overlay.displayAccountOverlay,{step:"change_password"})+'" class="account_page__link">'+_("Change password","user")+'</span><label class="account_page__label account_page__label__main" for="username_f">'+_("Email","user")+"</label>"+a.user.textField("email",{classname:"",disabled:!0})+'<span id="'+actionManager.addClickListener(Application.rootComponent.state.account_overlay,Application.rootComponent.state.account_overlay.displayAccountOverlay,{step:"change_email"})+'" class="account_page__link">'+_("Change email","user")+"</span></div><h3>"+_("Informations","user")+'</h3><div class="account_page__sub__info"><div class="account_page__input--container"><label class="account_page__label" for="firstName_f">'+_("First name","user")+"</label>"+a.user.textField("firstname",{classname:"account_page__input",placeholder:_("John","profile"),minLength:2,maxLength:64,validationCallback:a.user.validateName,component:this,validationError:_("This field must only contain alpha-numeric characters, dashes, single quotes, underscores or spaces","user")})+'</div><div class="account_page__input--container"><label class="account_page__label" for="lastName_f">'+_("Last name","user")+"</label>"+a.user.textField("lastname",{classname:"account_page__input",placeholder:_("Doe","profile"),minLength:2,maxLength:64,validationCallback:a.user.validateName,component:this,validationError:_("This field must only contain alpha-numeric characters, dashes, single quotes, underscores or spaces","user")})+'</div><div class="account_page__input--container"><label class="account_page__label" for="website_f">'+_("Website","user")+"</label>"+a.user.textField("website",{classname:"account_page__input",placeholder:"http://",validationCallback:a.user.validateUrl,validationError:_("Please enter a valid URL","user"),component:this,minLength:5,maxLength:255})+'</div><div class="account_page__input--container"><label class="account_page__label" for="location_f">'+_("Location","user")+"</label>"+a.user.textField("location",{classname:"account_page__input",minLength:2,maxLength:64})+'</div><label class="account_page__label" for="about_f">'+_("Favourite quote","user")+"</label>"+a.user.textArea("about",{classname:"",placeholder:_("My favourite quote","profile"),minLength:2,maxLength:255})+'</div><div class="account_page__newsletter"><label class="account_page__checkbox_label" for="qwant_update_f">'+_("I want to subscribe to the Qwant newsletter","user")+'</label><div class="account_page__checkbox--container">'+a.user.checkbox("qwant_update")+'<span class="account_page__checkmark"></span></div></div><button type="reset"id="'+actionManager.addClickListener(this,this.cancel)+"\" class=\"account_page__button account_page__button--grey account_page__button--inline button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'account', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Cancel","user")+'</button><button type="submit" value="'+_("Update","user")+"\" class=\"account_page__button account_page__button--blue account_page__button--inline button button--blue\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'account', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Save","user")+"</button></form><h3>"+_("About my account","user")+'</h3><div class="account_page__about"><span id="'+actionManager.addClickListener(Application.rootComponent.state.account_overlay,Application.rootComponent.state.account_overlay.displayAccountOverlay,{step:"delete_account"})+'" class="account_page__button account_page__button--grey account_page__button--inline account_page__button--icon button button--grey" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event:\'click\', zone: \'delete_account\', component : \'form\', context: \'account\', t:\'default\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg><span>'+_("Delete my account","user")+'</span></span><br/><span id="'+actionManager.addClickListener(this,this.getInfo)+'" class="account_page__button account_page__button--grey account_page__button--inline account_page__button--icon account_page_get_info_button button button--grey" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event:\'click\', zone: \'getInfo\', component : \'form\', context: \'account\', t:\'default\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg><span>'+_("Receive a copy of my data","user")+'</span></span></div><div class="account_page_get_info_success">'+_("An e-mail has been sent for you to download your data. If you do not receive this email, please check your spam folder.","user")+'</div><div class="account_page_get_info_fail">'+_("For security reasons, you must wait 12 hours before making a new request.","user")+'</div><p class="account_page__legal__text">'+_('The information you provide is collected and processed only by Qwant, in accordance with the currently applicable data protection regulations. All fields marked with an asterisk (*) are required. Qwant guarantees not to sell or disclose the user’s data in any way. You are entitled to access your personal information and to have it amended, updated or deleted, by contacting : <a class="edu__register_page__mailto" href="mailto:privacy@qwant.com">privacy@qwant.com</a>',"legal account")+"</p></div>"},a.change_email=function(a){return'<div class="form_page"><h1>'+_("Change email","user")+'</h1><form id="'+this.formId+'"><table class="change_email__fields"><tr><th>'+a.user.label("password",_("Password","user"))+" *</th><td>"+a.user.passwordField("password",{classname:"input__text",required:!0})+"</td></tr><tr><th>"+a.user.label("new_email",_("New email","user"))+" *</th><td>"+a.user.emailField("new_email",{classname:"input__text",validationCallback:a.user.isEmailAvailable,validationError:_("This email address is not available or incorrect","user"),component:this,required:!0,minLength:5,maxLength:128})+'</td></tr></table><input type="reset" value="'+_("Cancel","user")+'" id="'+actionManager.addClickListener(this,this.cancel)+"\" class=\"button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'change-email', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><button type=\"submit\" value=\""+_("Change","user")+"\" class=\"button button--blue button--icon\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'change-email', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><span class=\"icon icon-success\"></span>"+_("Save","user")+"</button></form></div>"},a.change_lost_password=function(a){var b='<div class="form_page"><br><br><br><br><br><h1>'+_("Create a new password","user")+"</h1>";return a.token?applicationState.user.isLogged?b+="<p>"+_("Please log out first.","change password")+"</p>":b+='<form id="'+this.formId+'"><table class="change_password__fields"><tr><th>'+_("New Password","user")+' *</th><td><input type="password" style="display:none">'+a.user.passwordField(this.id,{classname:"input__text password-field--strength-attached",validationCallback:a.user.doPasswordsMatch,passwordConfirmationField:"password_confirmation",validationError:_("The passwords do not match","user"),component:this,required:!0,maxLength:64})+a.passwordStrengthIndicator.render()+"</td></tr><tr><th>"+_("Repeat new password","user")+" *</th><td>"+a.user.passwordField("password_confirmation",{classname:"input__text",validationCallback:a.user.doPasswordsMatch,passwordField:this.id,validationError:_("The passwords do not match","user"),component:this,required:!0})+'</td></tr></table><input type="reset" value="'+_("Cancel","user")+'" id="'+actionManager.addClickListener(this,this.cancel)+"\" class=\"button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'change-lost-password', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><button type=\"submit\" value=\""+_("Save","user")+"\" class=\"button button--blue button--icon\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'change-lost-password', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><span class=\"icon icon-success\"></span>"+_("Save","user")+"</button></form>":b+="<p>"+_("Invalid URL.","change password")+"</p>",b+="</div>"},a.change_password=function(a){return'<div class="form_page"><h1>'+_("Change password","user")+'</h1><form id="'+this.formId+'"><table class="change_password__fields"><tr><th><br>'+_("Old password","user")+" *</th><td><br>"+a.user.passwordField("old_password",{classname:"input__text",required:!0})+"</td></tr><tr><th><br>"+_("New password","user")+' *</th><td><br><input type="password" style="display:none">'+a.user.passwordField(this.id,{classname:"input__text password-field--strength-attached",validationCallback:a.user.doPasswordsMatch,passwordConfirmationField:"password_confirmation",validationError:_("The passwords do not match","user"),component:this,maxLength:64})+a.passwordStrengthIndicator.render()+"</td></tr><tr><th>"+_("Repeat new password","user")+" *</th><td>"+a.user.passwordField("password_confirmation",{classname:"input__text",validationCallback:a.user.doPasswordsMatch,passwordField:this.id,validationError:_("The passwords do not match","user"),component:this,required:!0})+'</td></tr></table><input type="reset" value="'+_("Cancel","user")+'" id="'+actionManager.addClickListener(this,this.cancel)+"\" class=\"button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'change-password', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><button type=\"submit\" value=\""+_("Save","user")+"\" class=\"button button--blue button--icon\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'change-password', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><span class=\"icon icon-success\"></span>"+_("Save","user")+"</button></form></div>"},a.login_page=function(a){var b='<div class="form_page"><h1>'+_("Log in","login")+'</h1><form class="login__form" id="login__form" method="post"><input class="input__text" name="login" id="login" type="text" ';return a.email&&(b+=' value="'+sanitize(a.email)+'" '),b+=" ",BrowserHelper.isTabletOrMobile||(b+="autofocus"),b+=' required placeholder="'+_("Email or username","login")+'"><input class="input__text" name="password" id="password" type="password" value="" required placeholder="'+_("Password","login")+'"><input class="button button--blue" id="button--login" type="submit" value="'+_("Log in","login")+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'login', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><br><a class=\"button button--green\" href=\"register\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'register', component : 'form', context: 'login', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Register","login")+'</a></form><br><span class="login__lost-password-icon"></span> <a class="login__lost_password" href="password_lost">'+_("Forgot your password?","login")+'</a><div class="login__info-register"><img src="/img/common/icon-inscription-x',BrowserHelper.isRetina()?b+="2":b+="1",b+='.jpg" class="login__info-register--img"><p>'+_("By creating your Qwant account, you will be able to keep your display <b>preferences</b> from one device to another.","login")+_('<a href="https://help.qwant.com/help/qwant-search/my-account/why-create-a-qwant-account/"> Learn More</a>',"login")+"</p></div></div>"},a.password_lost=function(a){var b='<div class="form_page"><h1>'+_("Password lost","user")+"</h1><p>"+_("We will send you an email containing the link to reset your password.","user")+'</p><form id="password_lost"><input class="input__text" name="email" id="email" type="email" ';return BrowserHelper.isTabletOrMobile||(b+="autofocus"),b+=' required placeholder="'+_("E-mail address","user")+'"><button class="button button--grey" type="reset" id="'+actionManager.addClickListener(this,this.reset)+'">'+_("Cancel","form")+'</button><input class="button button--blue" type="submit" value="'+_("Reset password","user")+'"></form></div>'},a.register_page=function(a){return'<div class="form_page"><h1>'+_("Register","user")+'</h1><form id="'+this.formId+'"><table><tr><th>'+a.user.label("email",_("Email","user"))+" *</th><td>"+a.user.emailField("email",{classname:"input__text",validationCallback:a.user.isEmailAvailable,validationError:_("This email address is not available or incorrect","user"),component:this,placeholder:_("john@domain.com","user"),required:!0,minLength:5,maxLength:128})+"</td></tr><tr><th>"+a.user.label("firstname",_("First name","user"))+"</th><td>"+a.user.textField("firstname",{classname:"input__text",placeholder:_("John","user"),minLength:2,maxLength:64,validationCallback:a.user.validateName,component:this,validationError:_("This field must only contain alpha-numeric characters, dashes, single quotes, underscores or spaces","user")})+"</td></tr><tr><th>"+a.user.label("lastname",_("Last name","user"))+"</th><td>"+a.user.textField("lastname",{classname:"input__text",placeholder:_("Doe","user"),minLength:2,maxLength:64,validationCallback:a.user.validateName,component:this,validationError:_("This field must only contain alpha-numeric characters, dashes, single quotes, underscores or spaces","user")})+"</td></tr><tr><th>"+_("User name","user")+" *</th><td>"+a.user.textField("username",{classname:"input__text",validationCallback:a.user.isUserAvailable,validationError:_("This username is not available","user"),component:this,placeholder:_("JohnDoe","user"),required:!0,minLength:4,maxLength:22,pattern:"^([-a-z0-9_.-])+$",patternError:_("The username can only contain letters, numbers, and these symbols : _ . - ","user")})+"</td></tr><tr><th>"+_("Password","user")+" *</th><td>"+a.user.passwordField(this.id,{classname:"input__text password-field--strength-attached",validationCallback:a.user.doPasswordsMatch,passwordConfirmationField:"password_confirmation",validationError:_("The passwords do not match","user"),component:this,maxLength:64})+a.passwordStrengthIndicator.render()+"</td></tr><tr><th>"+a.user.label("password_confirmation",_("Password confirmation","user"))+" *</th><td>"+a.user.passwordField("password_confirmation",{classname:"input__text",validationCallback:a.user.doPasswordsMatch,passwordField:this.id,validationError:_("The passwords do not match","user"),component:this,required:!0})+'</td></tr></table><div class="centered-left-outer"><div class="centered-left-inner"><div class="toggle-switch">'+a.user.checkbox("term-of-use")+a.user.label("term-of-use","tos")+"&nbsp; &nbsp;<span>"+a.user.label("term-of-use",_('I accept the terms of service of <a href="{searchTosUrl}" target="_blank">Qwant Search</a>',"user",{searchTosUrl:UrlFactory.getTosUrlForApp("search")}))+' *</span></div><br><div class="toggle-switch">'+a.user.checkbox("newsletter")+a.user.label("newsletter","newsletter")+"&nbsp; &nbsp;<span>"+a.user.label("newsletter",_("I want to subscribe to the Qwant newsletter","user"))+"</span></div></div></div><br><button type=\"submit\" class=\"button button--blue button--icon\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'register', t:'default'})\" onclick=\"LinkHelper.mouseUpHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><span class=\"icon icon-success\"></span>"+_("Sign up","user")+'</button><br><br><br><p class="register_page__legal_text">'+_('The information you provide during registration is collected and processed only by Qwant, in accordance with the currently applicable data protection regulations. All fields marked with an asterisk (*) are required. Qwant guarantees not to sell or disclose the user’s data in any way. These information is strictly necessary to provide the service. You are entitled to access your personal information and to have it amended, updated or deleted, by contacting : <a class="edu__register_page__mailto" href="mailto:privacy@qwant.com">privacy@qwant.com</a>',"legal register")+'</p><br><span class="register__icon--privacy"></span><span class="register__privacy">'+_("Security, privacy and no tracking.","header")+' </span><a class="register_page__link" href="'+_("https://about.qwant.com/legal/privacy/","register")+'" '+SecurityHelper.targetBlank()+">"+_("Learn more","register")+"</a></form></div><br><br><br><br>"},a.unregister=function(a){return'<div class="form_page"><h1>'+_("Close your qwant.com account","user")+"</h1><h3>"+_("Please read carefully the information below","user")+"</h3><p>"+_("You are about to delete your Qwant.com account that allows you to make full use of our services and features.","user")+"</p><p>"+_("Click the button below to confirm the deletion of your account and all your related information (features, backup bookmarks and any personal data).","user")+'</p><form id="'+actionManager.addSubmitListener(this,this.unRegister)+'"><table><tr><th>'+a.user.label("password",_("Please confirm your password","user"))+"</th><td>"+a.user.passwordField("password",{classname:"input__text",required:!0})+'</td></tr></table><input type="reset" value="'+_("Cancel","user")+'" id="'+actionManager.addClickListener(this,this.cancel)+"\" class=\"button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'cancel', component : 'form', context: 'delete-account', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><button type=\"submit\" value=\""+_("Delete my account","user")+"\" class=\"button button--red\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'delete-account', t:'default'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Delete my account","user")+"</button></form></div>"},a._alert_confirm=function(a){return'<span class="alert__item--confirm--span">'+a.message+'</span><div class="alert__item--confirm--buttons_container"><button class="button alert__item__button button--grey" id="'+actionManager.addClickListener(a.options.component,a.options.onCancel)+'">'+_("Cancel","alert")+'</button><button class="button alert__item__button button--blue" id="'+actionManager.addClickListener(a.options.component,a.options.onValid)+'">'+_("Confirm","alert")+"</button></div>"},a._alert_error=function(a){return""+a.message},a._alert_info=function(a){return""+a.message},a._alert_success=function(a){return""+a.message},a.alert=function(a){var b="",c=a.messages;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div id="alert_'+d.messageId+'" class="alert__item alert__item--'+d.type+'"><div class="alert__item--subcontainer">',"info"===d.type?b+='<span class="icon icon-information"></span>':b+='<span class="icon icon-'+d.type+'"></span>',b+='<p class="alert__item__text">'+this.renderPartial("alert_"+d.type,d)+'</p><span class="alert__item__close" id=\''+actionManager.addClickListener(this,AlertComponent.removeMessage,{id:d.messageId,isPersistant:!0})+"'>&#10005;</span></div></div>";return b},a.anti_robot=function(a){var b='<div class="anti_robot__container"><span class="anti_robot__info"><span class="anti_robot__info__icon icon icon-information"></span><span class="anti_robot__info__label">'+_("information","anti_robot")+'</span></span><span class="anti_robot__message">'+_("A high amount of connections have been detected from your location and you have been blocked.","anti_robot")+'</span><span class="anti_robot__message anti_robot__message--emphasis">'+_("Please, validate the anti-robot below to be allowed access to the website.","anti_robot")+"</span>";return""!==a.imgSrc&&(b+='<form class="anti_robot__form">',a.errorMessage?b+='<span class="anti_robot__form__message anti_robot__error__message">'+_("You haven't clicked on the right symbol.","anti_robot")+"<br/>"+_("Please try again.","anti_robot")+"</span>":b+='<span class="anti_robot__form__message">'+_("Click on the only unique symbol.","anti_robot")+"</span>",b+='<img class="anti_robot__form__img" src="'+a.imgSrc+'"/></form>'),b+='<span class="anti_robot__message anti_robot__message--vpn">'+_("The use of a Virtual Private Network (VPN), a browser plugin or another program might be related to the current blocking. You might try uninstalling the VPN from your computer or network and see if that makes a difference.<br> Some VPNs send traffic that violates the law or websites' terms of service. When the abuse to Qwant's network stops, we automatically stop blocking the IP that were sending the bad traffic.<br> If you are unsure about a malicious usage of your network, <a href=\"http://adios-hola.org/\">this website</a> (english only) may be a good reference to start with.","anti_robot")+"</span></div>"},a.bottom_navigation=function(a){return"<a "+this.hover(_("Scroll to top","bottom navigation"),!1,!0)+'  id="'+actionManager.addClickListener(this,this.scrollToTop,{isPersistant:!0})+'" class="bottom_navigation__wrapper" href="#"><div class="scroll_to_top_icon"></div></a>'+this.tooltip.render()},a.breadcrumbs=function(a){
var b='<ol class="breadcrumbs">';this.hasHome&&(b+='<li class="breadcrumbs__element breadcrumbs__element--home"><a href="" class="breadcrumbs__element__link"><span class="icon-home"></span></a><span class="icon icon-selector"></span></li><li class="breadcrumbs__element"><a href="" class="breadcrumbs__element__link">'+_("Explorer","breadcrumbs")+'</a><span class="icon icon-selector"></span></li>');var c=this.items;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],1+e<this.items.length?b+='<li class="breadcrumbs__element"><a href="'+d.url+'" class="breadcrumbs__element__link">'+d.name+'</a><span class="icon icon-selector"></span></li>':b+='<li class="breadcrumbs__element"><p class="breadcrumbs__element__link">'+d.name+"</p></li>";return b+="</ol>"},a.image_cropper=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c="";return a.isEnabled?c+='<img alt="" src="'+b(a.imageUrl)+'" id="'+a.cropImage.id+'" class="image_cropper__user_picture--crop" style="max-width: '+a.cropImage.maxWidth+"px; max-height: "+a.cropImage.maxHeight+'px;"><canvas id="'+this.cropCanvasElementId+'" class="image_cropper__canvas" width="'+this.cropCanvasResultSize+'" height="'+this.cropCanvasResultSize+'"></canvas><div id="'+a.cropCanvasBorderId+'" class="image_cropper__crop_canvas_border"></div><div id="'+a.cropCanvasId+'" class="image_cropper__crop_canvas"><div id="'+a.cropHandleId+'" class="image_cropper__crop_handle"><div id="'+a.cropHandleIconId+'" class="image_cropper__crop_handle_icon"></div></div></div>':c+='<img alt="" src="'+b(a.imageUrl)+'" id="'+a.cropImage.id+'" class="image_cropper__user_picture--static"  style="max-width: '+a.cropImage.maxWidth+"px; max-height: "+a.cropImage.maxHeight+'px; border-radius: 50%;">',c},a.password_strength_indicator=function(a){return'<div class="password-strength-tooltip-container"><div class="password-strength-tooltip"><div class="password-strength-tooltip__triangle"></div><div class="password-strength-tooltip__info"></div><p>'+_("To be completely safe, your password must contain at least:","register")+'</p><ul><li class="password-strength-tooltip__test--ko" id="password-test-uppercase">'+_("1 uppercase letter","register")+'</li><li class="password-strength-tooltip__test--ko" id="password-test-lowercase">'+_("1 lowercase letter","register")+'</li><li class="password-strength-tooltip__test--ko" id="password-test-digit">'+_("1 digit","register")+'</li><li class="password-strength-tooltip__test--ko" id="password-test-specialchars">'+_("1 special character (#@!...)","register")+'</li><li class="password-strength-tooltip__test--ko" id="password-test-minchars">'+_("12 characters","register")+'</li></ul></div></div><div id="passwordStrengthContainer" class="password-strength-container"><div id="passwordStrengthIndicator" class="password-strength-indicator"><div id="password-strength-indicator-jauge" class="password-strength-indicator__jauge--weak"></div></div><div id="password-strength-message" class="password-strength-message"><span class=\'password_level\'>"'+_("Your password is too short","register")+"</span><span>"+_n("It must contain at least {minChar} character","It must contain at least {minChar} characters",a.minChar,"register",{minChar:a.minChar})+'</span></div><input type="checkbox" id="password-strength-ok" class=\'password-strength-ok\'></div>'},a.pagination=function(a){var b="";if("discography"==this.options.type){if(b+='<div class="pagination__navigation--page--container">',this.offset>2&&a.totalPage>3){b+='<a href="#" id="'+actionManager.addClickListener(this,this.goTo,{value:1})+'" class="pagination__navigation pagination__navigation--begin"><span class="icon icon-nav-selector-icon-2"></span></a>',parseInt(this.offset)==a.totalPage&&(b+='<a href="#" id="'+actionManager.addClickListener(this,this.goTo,{value:a.totalPage-2})+'" class="pagination__navigation pagination__navigation--goto pagination__navigation--goto">'+(a.totalPage-2)+"</a>");for(var c=parseInt(this.offset)-1;c<=parseInt(this.offset)+1&&c<=a.totalPage;c++)this.route.params.page==c?b+='<a href="#" id="'+actionManager.addClickListener(this,this.goTo,{value:c})+'" class="pagination__navigation pagination__navigation--goto pagination__navigation--goto-active">'+c+"</a>":b+='<a href="#" id="'+actionManager.addClickListener(this,this.goTo,{value:c})+'" class="pagination__navigation pagination__navigation--goto">'+c+"</a>"}else for(var c=1;c<a.totalPage+1&&c<4&&a.totalPage>1;c++)this.route.params.page==c||void 0===this.route.params.page&&1==c?b+='<a href="#" id="'+actionManager.addClickListener(this,this.goTo,{value:c})+'" class="pagination__navigation pagination__navigation--goto pagination__navigation--goto-active">'+c+"</a>":b+='<a href="#" id="'+actionManager.addClickListener(this,this.goTo,{value:c})+'" class="pagination__navigation pagination__navigation--goto">'+c+"</a>";a.totalPage>3&&(this.offset<a.totalPage-1||null==this.offset)&&(b+='<a href="#" id="'+actionManager.addClickListener(this,this.goTo,{value:a.totalPage})+'" class="pagination__navigation pagination__navigation--end"><span class="icon icon-nav-selector-icon-2"></span></a>'),b+="</div>"}else a.totalPage>1&&1!=a.current&&(b+='<a href="#" id="'+actionManager.addClickListener(this,this.previous)+'" class="pagination__navigation pagination__navigation--prev"><span class="icon icon-selector"></span>'+_("Previous","pagination")+"</a>"),a.totalPage>1&&a.totalPage>a.current&&(b+='<a href="#" id="'+actionManager.addClickListener(this,this.next)+'" class="pagination__navigation pagination__navigation--next"><span class="icon icon-selector"></span>'+_("Next","pagination")+"</a>");return b},a.panel=function(a){var b="";return a.loading&&(b+='<div class="panel__loading_overlay"><div class="panel__loading_image"></div></div>'),a.panelContent&&(b+=""+a.panelContent.render()),b+="<br><br><br>"},a.tooltip=function(a){return'<p id="tooltip--'+this.id+'" class="tooltip_container">'+a.message+"</p>"},a.ia_list=function(a){var b='<div class="ia_list"><div class="ia_list--header"><h4 class="ia_list--title">';a.iconTitle&&(b+='<svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#'+a.iconTitle+'"></use></svg>'),b+="<span>"+a.title+"</span></h4>",BrowserHelper.isTabletOrMobile||(b+='<div class="ia_list--nav"><button class="ia_list--nav_prev ia_list--nav_prev_'+this.id+'" disabled id="'+actionManager.addClickListener(this,IAHelper.listScroll,{position:"left",component:IAListComponent,type:this.id,numberOfItems:a.items.length,footstep:3})+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-up"></use></svg></button><button class="ia_list--nav_next ia_list--nav_next_'+this.id+'" id="'+actionManager.addClickListener(this,IAHelper.listScroll,{position:"right",component:IAListComponent,type:this.id,numberOfItems:a.items.length,footstep:3})+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-up"></use></svg></button></div>'),b+='</div><div class="ia_list--list ia_list--list_'+this.id+'"><div class="ia_list--content ia_list--content_'+this.id+'">';var c=a.items;if(c)for(var d,e=-1,f=c.length-1;e<f;){if(d=c[e+=1],a.logItem){a.logItem.category=d.name;var g=JSON.stringify(a.logItem)}a.noLink?(b+='<div class="ia_list--content-nolink ia_list--content-item_'+this.id+" ",a.onErrorRemoveImg&&(b+="ia_list-item_"+e),b+='">'):(b+='<a class="ia_list--content-link ia_list--content-item_'+this.id+" ",a.roundThumbnail&&(b+="roundThumbnail"),b+='" href="',a.qwantSearch?b+="/?q="+d.name:b+=""+d.link,b+='" ',a.qwantSearch||(b+=""+SecurityHelper.targetBlank()),b+=' alt="'+d.name+'" title="'+d.name+'"',a.logItem&&(b+=" onmousedown='LinkHelper.logHandler(this, Event, "+g+')\' onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"'),b+=">"),b+='<div class="ia_list--content-thumbnail">',d[a.imageField]?(b+='<img src="'+d[a.imageField]+'" ',a.onErrorRemoveImg&&(b+="onerror=\"removeParentByClassName(this, 'ia_list-item_"+e+"')\""),b+=">"):b+='<svg width="36" height="40" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#user"></use></svg>',b+="</div>",d.name&&(b+='<div class="ia_list--content-title">'+d.name+"</div>"),""!==a.subName&&d[a.subName]&&(b+='<div class="ia_list--content-subtitle">'+d[a.subName]+"</div>"),a.noLink?b+="</div>":b+="</a>"}return b+="</div></div></div>"},a._custom_video_event=function(a){var b='\x3c!-- do not remove this comment, it resolves a dotjs template bug --\x3e<video class="custom_video" poster="/img/welcome_page/default-video-picture.jpg" onclick="this.paused?this.play():this.pause();" controls>';return"fr"===applicationState.user.userSetting.getInterfaceLanguage().shorthand?(b+='<track label="French" kind="subtitles" srclang="fr" src="/subtitles/tv-fr.vtt"',isMobile&&(b+=" default"),b+=">"):"de"===applicationState.user.userSetting.getInterfaceLanguage().shorthand?(b+='<track label="German" kind="subtitles" srclang="de" src="/subtitles/tv-de.vtt"',isMobile&&(b+=" default"),b+=">"):(b+='<track label="English" kind="subtitles" srclang="en" src="/subtitles/tv-en.vtt"',isMobile&&(b+=" default"),b+=">"),b+='Qwant Video</video><div class="custom_video__video__share"><span class="custom_video__video__share__text">'+_("Share on","welcome_page")+'</span><a href="https://twitter.com/share?url=https://www.qwant.com/tv?l=fr&amp;text='+_("Why allowing from a <b>search engine</b> something you won't in real life?","welcome_page").replace("<b>","").replace("</b>","")+'&amp;hashtags=switchToQwant" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'custom_video_share_twitter\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-twitter"></span></a><a href="http://www.facebook.com/sharer.php?u=https://www.qwant.com/tv?l=fr" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'custom_video_share_facebook\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-facebook"></span></a></div><span class="custom_video--close icon icon-music-player-close" id="'+actionManager.addClickListener(this,TrendsComponent.closeCustomVideo)+'"></span><a href="javascript:;" tabindex="-1" class="custom_video_overlay" id="'+actionManager.addClickListener(this,TrendsComponent.closeCustomVideo)+'"></a>'},a._setting_block=function(a){return'<div class="settings__form__option settings__form__option--'+a.setting.key+'"><span class="settings__form__option__icon"></span><span class="toggle-switch"><input type="checkbox" '+(a.setting.value?'checked="checked"':"")+' id="'+a.setting.key+'" value="'+a.setting.value+'"><label id="'+actionManager.addClickListener(this,this.updateField,{propagate:!0,settingKey:a.setting.key})+'" for="'+a.setting.key+'" title="'+(a.setting.value?_("Enabled","switch"):_("Disabled","switch"))+'"></label><label class="settings__form__option__toggle-switch__label" for="'+a.setting.key+'">'+a.label+"</label></span></div>"},a._setting_block_dropdown=function(a){return'<div class="settings__form__option settings__form__option--dropdown settings__form__option--'+a.key+'"><span class="settings__form__option__icon"></span>'+new DropDownComponent(a.dropdownContent,{key:a.key,value:a.value,callback:this.updateDropDown,component:this}).render()+'<label class="settings__form__option__label">'+a.label+"</label></div>"},a.select_region=function(a){var b='<div class="form_page"><h1>'+_("Select a search region","setting")+'</h1><div class="region"><div class="region__continents">';for(var c in a.continents)b+='<a href="javascript:;" id="'+actionManager.addClickListener(this,this.selectContinent,{continentKey:c})+'" class="region__continents__continent region__continents__continent--'+c+" "+(this.isSelectedContinent(c)?"region__continents__continent--selected":"")+'">'+_(a.continents[c].name,"continent")+"</a>";b+="</div>";for(var c in a.continents){b+='<div class="region__countries region__countries--'+c+" "+(this.isSelectedContinent(c)?"region__countries--selected":"")+'">';var d=LanguageHelper.getContinentCountries(c);if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],b+='<a href="javascript:;" id="'+actionManager.addClickListener(this,this.selectCountry,{countryKey:e.code,continentKey:c})+'" class="country country--'+e.code+" country--key--"+e.code+" "+(this.isSelectedCountry(e.code)?"country--selected":"")+'"><span class="country__icon"></span><span class="country__name">'+_(e.name,"country")+"</span></a>";b+="</div>"}if(a.languages&&a.languages.length>0){b+='<div class="country__language__block"><h2>'+_("Choose your search language","setting")+"</h2>";var h=a.languages;if(h)for(var i,j=-1,k=h.length-1;j<k;)i=h[j+=1],b+='<a href="javascript:;" id="'+actionManager.addClickListener(this,this.selectSearchLanguage,{searchLanguageKey:i.code})+'" class="country '+(a.currentSearchLanguage===i.code?"country--selected":"")+" country--"+i.code+"_"+a.currentCountryKey+'"><span class="country__icon"></span><span class="country__name">'+i.name+"</span></a>";b+='</div><span class="country_thanks"></span>'}return b+='</div><div class="account_page__buttons--container"><button class="button button--grey" type="reset" id="'+actionManager.addClickListener(this,this.reset)+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction',event:'click',zone: 'cancel',component : 'form',context: 'regions',t:'default'})\"onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Cancel","form")+'</button><button class="button button--blue button--icon" type="submit" id="'+actionManager.addClickListener(this,this.save)+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction',event:'click',zone: 'confirm',component : 'form',context: 'regions',t:'default'})\"onclick=\"LinkHelper.clickHandler(this, Event)\"onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><span class=\"icon icon-success\"></span> "+_("Save","form")+"</button></div></div>"},a.settings_page=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="form_page settings"><form id="'+actionManager.addSubmitListener(this,this.update)+'" class="settings_form"><div class="settings__form">';if(!userFieldsParents.general.uxVersion||0===uxVersions.length||-1!==uxVersions.indexOf(userFieldsParents.general.uxVersion)){c+='<div class="setting__parent--container"><div class="setting__parent--general"><label class="setting__parent--label">'+userFieldsParents.language.label()+'</label><p class="setting__parent--desc">'+b(userFieldsParents.language.desc())+'</p><button type="button" class="button button--blue button--lang" id="'+actionManager.addClickListener(this,AppMenuComponent.open,{content:AppMenuComponent._LANGUAGE})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : 'edit-language', component : 'app_menu', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><svg><use xlink:href=\"/img/v4/icon-spritesheet.svg?1529484108256#chevron-right\"></use></svg><span>"+_("Edit language","settings")+"</span></button></div>";for(var d in userFieldsParents)if("language"!==d){c+='<div class="setting__parent--general">',userFieldsParents[d].uxVersion&&0!==uxVersions.length&&-1===uxVersions.indexOf(userFieldsParents[d].uxVersion)||(userFieldsParents[d].parent&&(c+='<span class="setting__parent--separator"></span>'),c+='<label class="setting__parent--label">'+userFieldsParents[d].label()+'</label><p class="setting__parent--desc">'+b(userFieldsParents[d].desc())+"</p>");for(var e in userFields){var f=userFields[e];!f.isVisible()||f.uxVersion&&0!==uxVersions.length&&-1===uxVersions.indexOf(f.uxVersion)||f.parent!==d||(c+='<div class="setting__item--container',"searchWebSmart"===d&&(c+=" setting__smart--switch"),c+=" ",constants.FieldTypes.DROPDOWN!==f.type&&(c+="setting__item--checkbox"),c+='">',constants.FieldTypes.DROPDOWN===f.type?c+='<label class="settings__form__option__label">'+f.label()+"</label>"+new DropDownComponent(f.values(),{key:e,value:a.settings[e],callback:this.updateDropDown,component:this}).render():c+='<div class="settings__form__option__checkbox--container"><label id="'+actionManager.addClickListener(this,this.updateField,{propagate:!0,settingKey:e})+'" for="'+e+'" title="'+(a.settings[e]?_("Enabled","switch"):_("Disabled","switch"))+'"></label><input type="checkbox" '+(a.settings[e]?'checked="checked"':"")+' id="'+e+'" value="'+a.settings[e]+'"><span class="account_overlay__checkmark"></span></div><label id="'+actionManager.addClickListener(this,this.updateField,{propagate:!0,settingKey:e})+'" class="settings__form__option__toggle-switch__label" for="'+e+'">'+f.label()+"</label>",c+="</div>")}c+="</div>"}c+=a.settingsUrl.render()+"</div>"}return c+='</div><button type="reset" id="settings_form--reset"></button><button type="submit" id="settings_form--submit"></button></form></div>'},a.settings_url=function(a){return _("If you haven't created a Qwant account to save your settings, you can use the following link as a homepage or drag it into your bookmarks:","settings")+'<br><textarea id="settings_url" class="settings_url_textbox" onfocus=\'select()\' readonly value=\''+a.url+"'>"+a.url+"</textarea>"},a.app_hub=function(a){var b="";if(a.isLanding){if(b+='<div class="app_hub_landing"><h2 class="app_hub_landing__invite__title">'+_("Choose the applications that value your privacy!","app_hub_landing")+'</h2><span class="app_hub_landing__invite__text">'+_("Discover our selection of apps that share our values: confidentiality, security and neutrality.","app_hub_landing")+'</span><div class="app_hub_landing__categories">',a.categories&&a.categories.length>0){var c=a.categories;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<a class="app_hub_landing__category category--'+d.slug+'" id="'+actionManager.addClickListener(this,this.loadCatalog,{category:d})+'"><div class="app_hub_landing__category__bubble"><img src="img/app_hub/categories/'+d.slug+'.svg?1" alt="',d.label?b+=""+d.label:b+=""+d.slug,b+='" class="app_hub_landing__category__image"><div class="app_hub_landing__category__addition"><span class="icon icon-board-create-large"></span></div><div class="app_hub_landing__category__count">0</div></div><div class="app_hub_landing__category__label--container"><span class="app_hub_landing__category__label">',d.label?b+=""+d.label:b+=""+d.slug,b+="</span></div></a>"}else b+='<img src="/img/ajax-loader.gif" />';b+='</div><span class="app_hub_landing__footer">'+_("The more you install and use these applications, the more you protect your personal data and save your independence, while enjoying all the functions that you need. ","app_hub_landing")+"</span></div>"}else{if(b+='<div class="app_hub_catalog"><div class="app_hub_catalog__head"><a href="/apphub" id="'+actionManager.addClickListener(this,this.returnHome,{})+'" class="app_hub_catalog__head__back"><span class="icon icon-nav-selector-icon-large"></span></a><h2 class="app_hub_catalog__head__title">'+a.currentCategory+'</h2></div><div class="app_hub_catalog__application__list">',a.applications&&a.applications.length>0){var g=a.applications;if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],b+='<a href="',h.isWebApp?b+=""+h.webApp:b+="qwanthub://open?scheme="+h.urlScheme+"&androidBundle="+h.androidBundle+"&appleId="+h.appleId,b+='" class="app_hub_catalog__application" style="background-image:url(img/app_hub/partners/'+h.icon+'?1)" '+SecurityHelper.targetBlank()+">",h.recommended&&(b+='<div class="app_hub_catalog__application--recommended">'+_("Recommended","app_hub_catalog")+"</div>"),b+='<div class="app_hub_catalog__application__name"><span class="app_hub_catalog__application__name__text">'+h.title+"</span>",h.qwantInside&&(b+='<div class="app_hub_catalog__application__qwant_inside"><span class="icon icon-qwant-logo"></span></div>'),b+='</div><div class="app_hub_catalog__application__developper">'+h.developper+'</div><div class="app_hub_catalog__application__install"><span class="icon icon-nav-install-icon"></span><span class="app_hub_catalog__application__install__text '+h.title+'--open" ',h.isWebApp||(b+='style="display: none;"'),b+=">"+_("Open","app_hub_catalog")+'</span><span class="app_hub_catalog__application__install__text '+h.title+'--install" ',h.isWebApp&&(b+='style="display: none;"'),b+=">"+_("Install","app_hub_catalog")+'</span></div></a><hr class="app_hub_catalog__application__separator">';b+='<div class="app_hub_catalog__footer"><h2 class="app_hub_catalog__footer__title">'+_("Why did we choose these apps?","app_hub_catalog")+'</h2><span class="app_hub_catalog__footer__text">'+a.footer+"</span></div>"}else a.applications?b+='<div class="app_hub_catalog__no_result">'+_("No applications found for this category","app_hub_catalog")+"</div>":b+='<div class="app_hub_catalog__application"><img src="/img/ajax-loader.gif" /></div>';b+="</div></div>"}return b},a.application=function(a){var b='<a href="#main" class="screenreader__shortcut">'+_("Go to the main content","screenreader")+'</a><div class="survey__popin__link"><span class="survey__popin" id="'+actionManager.addClickListener(this,this.openSurvey)+'"><span class="icon icon-error survey__popin__close-icon" id="'+actionManager.addClickListener(this,this.killSurveyPopin)+'"></span><span class="survey__popin__smiley"><svg class="media_overlay__action__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#thumbs-up"></use></svg></span><span class="survey__popin__title"></span><span class="survey__popin__content"></span></span></div>';return AppComponent.isOldLibertyApp()&&a.libertyPopup?b+=""+a.libertyPopup.render():AppComponent.canDisplayMobilePopup()&&(-1!==["fr","it","es","de"].indexOf(applicationState.user.getSettings().searchLanguageKey)?b+='<div class="qwant-mobile__popup qwant-mobile__popup--'+applicationState.user.getSettings().searchLanguageKey+'">':applicationState.user&&(b+='<div class="qwant-mobile__popup">'),"iOS"===BrowserHelper.getOS()?b+='<a href="https://itunes.apple.com/'+applicationState.user.getSettings().searchLanguageKey+'/app/qwant-by-liberty/id1313289418?l=fr&ls=1&mt=8" '+SecurityHelper.targetBlank()+' class="qwant-mobile__popup__link"></a>':b+='<a href="https://play.google.com/store/apps/details?id=com.libertyvaults.qwant" '+SecurityHelper.targetBlank()+'class="qwant-mobile__popup__link"></a>',b+='<a href="javascript:;" id="'+actionManager.addClickListener(this,AppComponent.hideMobilePopup)+'" class="qwant-mobile__popup__close icon icon-music-player-close"></a></div>'),b+='<a href="javascript:;" tabindex="-1" class="panel_overlay" id="'+actionManager.addClickListener(this,PanelFormHelper.close)+'"></a>',"firefox"===this.browser?(b+='<div id="'+actionManager.addClickListener(this,ExtensionOverlayHelper.closeBrowserOverlay,{browser:"firefox"})+'" class="extension__firefox__overlay"><div class="extension__firefox__overlay__instructions"><span class="icon icon-nav-selector-icon-small"></span><p>',ExtensionHelper.isntFirefoxQuantum()?b+=""+_("Click <b>Allow</b>, then <b>Install</b>","extension_firefox_overlay"):b+=""+_("Click <b>Allow</b>, then <b>Add</b>","extension_firefox_overlay"),b+='<br /><small class="warning-sentence">',ExtensionHelper.isntFirefoxQuantum()||(b+=""+_("Qwant will be your new default search engine and will open when you launch<br />your browser. Your privacy will be better protected when you surf the Web!","extension_firefox_overlay")),b+='</small></p></div><div onclick="event.stopPropagation();" class="container js-container extension__overlay__thanks"><div class="arrow">'+_("Click <b>Yes</b> to enable Qwant as your new default Search Engine","extension_firefox_overlay")+'</div><div class="extension__overlay__thanks__spaceship"></div><div class="extension__overlay__thanks__div"><div class="icon icon-error extension__overlay__thanks__close" title="'+_("Close")+'" onclick="ExtensionOverlayHelper.closeBrowserOverlay({browser: \'firefox\'});"></div><h1>'+_("Congratulations!","extension_firefox_overlay")+'</h1><div class="extension__overlay__thanks__success">'+_("Your extension has been <b>successfully installed!</b>","extension_firefox_overlay")+'<span class="click__yes">'+_("All you have to do is click <b>Yes</b> to enable Qwant as your default Search Engine.","extension_firefox_overlay")+'</span></div><div class="extension__overlay__thanks__mobile">'+_("Also enjoy Qwant<br />on your <b>mobile</b> and <b>tablet</b>!","extension_firefox_overlay")+'</div><div class="extension__overlay__thanks__app"><a class="google_btn" href="https://play.google.com/store/apps/details?id=com.qwant.liberty" '+SecurityHelper.targetBlank()+" rel=\"noopener\" mousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: 'all', type: 'extension_thanks_install_android'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><img alt='Get it on Google Play' src='/img/extensions/PlayStoreBadges/"+(-1!==["fr","es","it","de","pt"].indexOf(applicationState.user.userSetting.getSearchRegionCode().toLowerCase())?applicationState.user.userSetting.getSearchRegionCode().toLowerCase():"en")+'.png\'/></a><a class="apple_btn" href="https://itunes.apple.com/'+applicationState.user.userSetting.getSearchRegionCode()+'/app/qwant/id924470452" '+SecurityHelper.targetBlank()+' rel="noopener" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'extension_thanks_install_apple\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="/img/extensions/AppStoreBadges/'+(-1!==["fr","es","it","de","pt"].indexOf(applicationState.user.userSetting.getSearchRegionCode().toLowerCase())?applicationState.user.userSetting.getSearchRegionCode().toLowerCase():"en")+'.svg"></a></div></div></div></div>'):"safari"===this.browser?b+='<div id="'+actionManager.addClickListener(this,ExtensionOverlayHelper.closeBrowserOverlay,{browser:"safari"})+'" class="extension__safari__overlay"><div class="extension__safari__overlay__instructions"><h1 class="extension__safari__overlay__title">'+_("Almost there!","extension_safari_overlay")+'</h1><ul class="extension__safari__overlay__steps"><li>'+_("Open <b>Downloads</b>","extension_safari_overlay")+"</li><li>"+_("Double click","extension_safari_overlay")+'<b> qwant-safari.safariextz</b></li></ul><span class="extension__safari__overlay__re-download">'+_('Don\'t see it? <a href="https://www.qwant.com/qwant-safari.safariextz">Click here to re-download</a>',"extension_safari_overlay")+'</span></div><div class="extension__safari__overlay__image"><img src="/img/extensions/v2/safari_overlay.png"/></div></div>':"chrome"===this.browser?b+='<div id="'+actionManager.addClickListener(this,ExtensionOverlayHelper.closeBrowserOverlay,{browser:"chrome"})+'" class="extension__chrome__overlay"><div class="extension__chrome__overlay__instructions"></div></div>':"vivaldi"===this.browser&&(b+='<div id="'+actionManager.addClickListener(this,ExtensionOverlayHelper.closeBrowserOverlay,{browser:"vivaldi"})+'" class="extension__vivaldi__overlay"><div class="extension__vivaldi__overlay__instructions"><div class="extension__vivaldi__overlay__popin" onclick="event.stopPropagation()"><div class="extension__vivaldi__overlay__banner"></div><span class="account_overlay__close icon icon-switch-close" onclick="ExtensionOverlayHelper.closeBrowserOverlay({browser: \'vivaldi\'})" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event:\'click\', zone: \'extension_vivaldi_overlay_close_icon\', component : \'form\', context: \'extension\', t: \'default\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"></span><h2 class="extension__vivaldi__overlay__title">'+_("Define Qwant as your default Search Engine","extension_vivaldi_overlay")+'</h2><div class="extension__vivaldi__overlay__list"><div class="extension__vivaldi__overlay__element"><span class="extension__vivaldi__overlay__number">1</span><span class="extension__vivaldi__overlay__text">'+_("Click on the magnifying glass in the search box at the top right","extension_vivaldi_overlay")+'</span></div><div class="extension__vivaldi__overlay__element"><span class="extension__vivaldi__overlay__number">2</span><span class="extension__vivaldi__overlay__text">'+_("Select Qwant","extension_vivaldi_overlay")+'</span></div><div class="extension__vivaldi__overlay__element"><span class="extension__vivaldi__overlay__number">3</span><span class="extension__vivaldi__overlay__text"><a href="https://chrome.google.com/webstore/detail/qwant-for-chrome/hnlkiofnhhoahaiimdicppgemmmomijo" '+SecurityHelper.targetBlank()+">"+_("Install our extension and get your privacy back","extension_vivaldi_overlay")+'</a></span></div><div class="extension__vivaldi__overlay__element"><span class="extension__vivaldi__overlay__number">4</span><span class="extension__vivaldi__overlay__text"><a href="',"fr"===applicationState.user.userSetting.getInterfaceLanguage().shorthand?b+="https://help.qwant.com/fr/aide/qwant-com/add-qwant-on-desktop/sur-vivaldi/":b+="https://help.qwant.com/help/qwant-search/add-qwant-on-desktop/on-vivaldi/",b+='" '+SecurityHelper.targetBlank()+">"+_("Read about how to use Qwant on Vivaldi","extension_vivaldi_overlay")+'</a></span></div><img src="/img/extensions/tuto-vivaldi.png" alt="'+_("Installation tutorial","extension_vivaldi_overlay")+'" /></div></div></div></div>'),b+='<div class="wrapper">'+a.alert.render()+" "+a.loadBar.render()+" ",a.header&&(b+=" "+a.header.render()+" "),b+='<div id="main">'+a.page.render()+"</div></div>",a.footer&&(b+=""+a.footer.render()),a.sidePanel&&(b+=""+a.sidePanel.render()),a.account_overlay&&(b+=""+a.account_overlay.render()),a.appMenu&&(b+=""+a.appMenu.render()),b},a._appmenu_language_content=function(a){var b='<form id="'+actionManager.addSubmitListener(this,this.update)+'" class="language_form"><div><label class="setting__parent--label">'+userFieldsParents.language.label()+'</label><p class="setting__parent--desc setting__parent__desc--lang">'+userFieldsParents.language.desc()+"</p>";if(!0===config_get("features.l10n.lang.switch.enabled")&&!AppComponent.isNativeApp()){var c=LanguageHelper.getCountryLanguages(applicationState.user.userSetting.getSearchRegion().code);b+='<div class="setting__item--container setting__item--region"><div class="setting__item__region--container"><label class="settings__form__option__label">'+_("Search results country","setting")+'</label><div class="setting__item--container">'+new DropDownComponent(userFields.searchRegionKey.values(),{key:"searchRegionKey",value:applicationState.user.userSetting.searchRegionKey,callback:this.updateDropDown,component:this}).render()+'</div></div><div class="setting__item__region--container"><label id="appmenu_setting__item--language-label" class="settings__form__option__label ',c.length<=1&&(b+=" setting__item--hidden"),b+='">'+userFields.searchRegionKey.label()+'</label><div id="appmenu_setting__item--language" class="setting__item--container',c.length<=1&&(b+=" setting__item--hidden"),b+='">'+this.renderPartial("appmenu_language_regions",{languages:this.getLanguageItems(c,applicationState.user.userSetting.getSearchRegion().code)})+"</div></div></div>"}
return b+='<div class="setting__item--container"><label class="settings__form__option__label">'+userFields.languageSetting.label()+'</label><div id="appmenu_setting__item--interface-language">'+new DropDownComponent(this.getInterfaceLanguageItems(),{key:userFields.languageSetting.key,value:applicationState.user.getSettings().getInterfaceLanguageCode(),callback:this.updateDropDown,component:this}).render()+'</div></div></div><button type="reset" id="language_form--reset"></button><button type="submit" id="language_form--submit"></button></form>'},a._appmenu_language_header=function(a){return'<div id="appmenu_language_header--content"><span id="'+actionManager.addClickListener(this,AppMenuComponent.changePage,{content:AppMenuComponent._SETTINGS})+'" class="appmenu__header__return"  onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'previous\', component : \'app_menu\', context: \'bookmark\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="appmenu__header__user__submenu__element__icon" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#arrow-left"></use></svg></span><span class="appmenu__header__title">'+_("Settings","appmenu")+'</span></div><div class="appmenu_language_header--btns" id="appmenu_language_btns"><div class="account_page__buttons--container"><button class="button button--blue" type="reset" id="'+actionManager.addClickListener(this,this.cancel,{form:"language"})+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction',event:'click',zone: 'cancel',component : 'form',context: 'appmenu_language',t:'default'})\"onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Cancel","user")+'</button><button class="button button--grey button--icon button--confirm" id="'+actionManager.addClickListener(this,this.submitForm,{form:"language"})+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction',event:'click',zone: 'confirm',component : 'form',context: 'appmenu_language',t:'default'})\"onclick=\"LinkHelper.clickHandler(this, Event)\"onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Save","user")+"</button></div></div>"},a._appmenu_language_regions=function(a){var b='<div class="appmenu__language__regions--container">',c=a.languages;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div id="'+actionManager.addClickListener(this,this.updateSelectedRegion,{region:d})+'" class="lang--'+d.value+" appmenu__language--region",(d.value===applicationState.user.getSettings().getSearchLanguageCode()||a.isChangedCountry&&0===e)&&(b+=" appmenu__language--region-selected"),b+='">'+d.label+"</div>";return b+="</div>"},a._appmenu_main_menu_content=function(a){var b="",c=a.content.blocks;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+=""+this.renderPartial("appmenu_"+a.type+"_content_block",d);return b},a._appmenu_main_menu_content_block=function(a){var b='<div class="appmenu__content__block"><svg class="appmenu__content__block__icon"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#'+a.icon+'"></use></svg>';if(a.links){b+='<span class="appmenu__content__block__title">'+a.title()+'</span><ul class="appmenu__content__block__links">';var c=a.links;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],"results_ranking"===d.logName()&&"FR"!==applicationState.user.userSetting.getSearchRegionCode()||(b+='<li class="appmenu__content__block__links__element"><a class="appmenu__content__block__links__element__link" href="'+d.url()+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : '"+d.logName()+"', component : 'app_menu_list', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+d.text()+"</a></li>");b+="</ul>"}else b+='<a class="appmenu__content__block__title" href="'+a.link()+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : '"+a.logName()+"', component : 'app_menu_list', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+a.title()+"</a>";return b+="</div>"},a._appmenu_main_menu_header=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c="";return applicationState.user.isLogged?(c+='<div class="appmenu__header__user appmenu__header__user--logged"><img class="appmenu__header__user__avatar" src="'+b(applicationState.user.getPictureUrl())+'"/><span class="appmenu__header__user__username">',void 0!=applicationState.user.firstname&&applicationState.user.firstname.length>0?c+=""+b(applicationState.user.firstname):c+=""+b(applicationState.user.username),c+='</span></div><div class="appmenu__header__user__submenu"><span id="'+actionManager.addClickListener(this,AppMenuComponent.open,{content:AppMenuComponent._LANGUAGE})+'" class="appmenu__header__user__submenu__element" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'languages\', component : \'app_menu\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="appmenu__header__user__submenu__element__icon" width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-flag"></use></svg><span class="appmenu__header__user__submenu__element__label">'+_("Languages","appmenu")+'</span></span><span id="'+actionManager.addClickListener(this,AppMenuComponent.open,{content:AppMenuComponent._SETTINGS})+'" class="appmenu__header__user__submenu__element" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'settings\', component : \'app_menu\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="appmenu__header__user__submenu__element__icon"><use xlink:href="/img/v4/icon-spritesheet.svg?153993851#settings"></use></svg><span class="appmenu__header__user__submenu__element__label">'+_("Settings","appmenu")+'</span></span><span class="appmenu__header__user__submenu__element" id="'+actionManager.addClickListener(this,this.toggleTheme,{toggle:!0})+'"><div class="appmenu__header__theme__icon--container"><svg class="appmenu__header__user__submenu__element__icon" width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-droplet"></use></svg></div><span class="appmenu__header__user__submenu__element__label">'+_("Theme","appmenu")+'<div class="appmenu__header__user__submenu__element__themes--container"><div class="appmenu__header__user__submenu__element__theme--light',0===applicationState.user.userSetting.selectedTheme&&(c+=" theme--selected"),c+='" id="'+actionManager.addClickListener(this,this.toggleTheme,{theme:0})+'"></div><div class="appmenu__header__user__submenu__element__theme--dark',1===applicationState.user.userSetting.selectedTheme&&(c+=" theme--selected"),c+='" id="'+actionManager.addClickListener(this,this.toggleTheme,{theme:1})+'"></div></div></span></span><span id="'+actionManager.addClickListener(this,AppMenuComponent.account)+'" class="appmenu__header__user__submenu__element" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'account\', component : \'app_menu\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="appmenu__header__user__submenu__element__icon" width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#user"></use></svg><span class="appmenu__header__user__submenu__element__label">'+_("Profile","appmenu")+"</span></span></div>"):(c+='<div class="appmenu__header__user appmenu__header__user--not-logged"><span id="'+actionManager.addClickListener(this,AppMenuComponent.open,{content:AppMenuComponent._LANGUAGE})+'" class="appmenu__header__user__submenu__element" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'languages\', component : \'app_menu\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="appmenu__header__user__submenu__element__icon" width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-flag"></use></svg><span class="appmenu__header__user__submenu__element__label">'+_("Languages","appmenu")+'</span></span><span id="'+actionManager.addClickListener(this,AppMenuComponent.open,{content:AppMenuComponent._SETTINGS})+'" class="appmenu__header__user__submenu__element" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'settings\', component : \'app_menu\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="appmenu__header__user__submenu__element__icon"><use xlink:href="/img/v4/icon-spritesheet.svg?153993851#settings"></use></svg><span class="appmenu__header__user__submenu__element__label">'+_("Settings","appmenu")+'</span></span><span class="appmenu__header__user__submenu__element" id="'+actionManager.addClickListener(this,this.toggleTheme,{toggle:!0})+'"><div class="appmenu__header__theme__icon--container"><svg class="appmenu__header__user__submenu__element__icon" width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-droplet"></use></svg></div><span class="appmenu__header__user__submenu__element__label">'+_("Theme","appmenu")+'<div class="appmenu__header__user__submenu__element__themes--container"><div class="appmenu__header__user__submenu__element__theme--light',0===applicationState.user.userSetting.selectedTheme&&(c+=" theme--selected"),c+='" id="'+actionManager.addClickListener(this,this.toggleTheme,{theme:0})+'"></div><div class="appmenu__header__user__submenu__element__theme--dark',1===applicationState.user.userSetting.selectedTheme&&(c+=" theme--selected"),c+='" id="'+actionManager.addClickListener(this,this.toggleTheme,{theme:1})+'"></div></div></span></span></div>'),applicationState.user.isLogged?c+='<span id="'+actionManager.addClickListener(this,UserModel.logout)+'" class="appmenu__header__user__logout" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'log_out\', component : \'app_menu\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="appmenu__header__user__submenu__element__icon" width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-logout"></use></svg><span>'+_("Log out","appmenu")+"</span></span>":c+='<span id="'+actionManager.addClickListener(this,AppMenuComponent.login)+'" class="appmenu__header__user__logout" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'log_in\', component : \'app_menu\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="appmenu__header__user__submenu__element__icon" width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-login"></use></svg><span>'+_("Log in","appmenu")+"</span></span>",c},a._appmenu_settings_content=function(a){return""+(new SettingsPageComponent).render()},a._appmenu_settings_header=function(a){return'<div id="appmenu_settings_header--content"><span id="'+actionManager.addClickListener(this,AppMenuComponent.close,{disableNotif:!0})+'" class="appmenu__header__return"  onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'previous\', component : \'app_menu\', context: \'settings\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="appmenu__header__user__submenu__element__icon" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#arrow-left"></use></svg></span><span class="appmenu__header__title">'+_("Settings","appmenu")+'</span></div><div class="appmenu_settings_header--btns" id="appmenu_settings_btns"><div class="account_page__buttons--container"><button class="button button--blue" type="reset" id="'+actionManager.addClickListener(this,this.cancel,{form:"settings"})+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction',event:'click',zone: 'cancel',component : 'form',context: 'settings',t:'default'})\"onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Cancel","user")+'</button><button class="button button--grey button--icon button--confirm" id="'+actionManager.addClickListener(this,this.submitForm,{form:"settings"})+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction',event:'click',zone: 'confirm',component : 'form',context: 'settings',t:'default'})\"onclick=\"LinkHelper.clickHandler(this, Event)\"onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Save","user")+"</button></div></div>"},a.appmenu=function(a){var b='<div id="'+actionManager.addClickListener(this,AppMenuComponent.close,{disableNotif:!0})+'" class="appmenu__background';return Application.rootComponent.state.appMenu.isOpen&&(b+=" appmenu--active appmenu--fadeout"),a.withReferer&&(b+=" with_ref"),b+="\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : 'overlay_close', component : 'app_menu', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"></div><div class=\"appmenu__container appmenu__container--",applicationState.user.isLogged?b+="logged":b+="not-logged",b+=" ",Application.rootComponent.state.appMenu.isOpen&&(b+="appmenu__container--active"),b+=" appmenu__container--"+a.type+'"><div class="appmenu__header"><span id="'+actionManager.addClickListener(this,AppMenuComponent.close,{disableNotif:!0})+"\" class=\"appmenu__header__close icon icon-switch-close\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : 'button_close', component : 'app_menu', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"></span>"+this.renderPartial("appmenu_"+a.type+"_header",a)+'</div><div class="appmenu__content appmenu__content--'+a.type+'">'+this.renderPartial("appmenu_"+a.type+"_content",a)+"</div></div>"},a.overview=function(a){var b="";if(a.data){if(b+='<div class="overview_section">',a.data.getBiography()&&(b+=""+this.renderPartial("biography",{data:a.data.getBiography(),isAlone:a.data.getOffers().getList().length>0||a.data.getAds("main").length>0})),a.data.getOffers().getList().length>0&&0===a.data.getAds("main").length&&(b+=""+this.renderPartial("offers",a.data.getOffers())),a.data.getAds("main").length>0&&(b+=""+this.renderPartial("ads",{ads:a.data.getAds("main")})),b+="</div>",a.data.getGameList().length>0&&(b+='<div class="overview_section"><h2 class="overview_section_title">'+_n("Game","Games",a.data.getGameList().length,"overview")+"</h2>"+this.renderPartial("similar",{list:a.data.getGameList(),internalLinks:!0})+"</div>"),this.getMediaCount()>0&&(b+=a.mediaOverlay.render()+'<div class="overview_section"><h2 class="overview_section_title">'+_n("Media","Media",this.getMediaCount(),"overview")+"</h2>"+this.renderPartial("media",a.data.getMedia())+"</div>"),a.data.getEvents().length>0&&(b+='<div class="overview_section"><h2 class="overview_section_title">'+_n("Event","Events",a.data.getEvents().length,"overview")+"</h2>"+this.renderPartial("events",{events:a.data.getEvents(),ads:a.data.getAds("events")})+"</div>"),a.data.getBikeStations().length>0&&(b+='<div class="overview_section"><h2 class="overview_section_title">'+_n("Velo Bleu station nearby","Velo Bleu stations nearby",a.data.getBikeStations().length,"overview")+"</h2>"+this.renderPartial("stations",a.data.getBikeStations())+"</div>"),a.data.getMagazines().length>0&&(b+='<div class="overview_section"><h2 class="overview_section_title">'+_n("Magazine","Magazines",a.data.getMagazines().length,"overview")+"</h2>"+this.renderPartial("similar",{list:a.data.getMagazines(),internalLinks:!1})+"</div>"),a.partialMosaic){if(b+='<div id="overview_news" class="overview_section overview_news"><h2 class="overview_section_title overview_section_title--with_see_more">'+_("News","overview")+"</h2>"+a.partialMosaic.render(),a.data.getNews()&&a.data.getNews().length>1){var c="game"==this.customPage?" type:game":"",d="metropolis"==this.customPage?"&source="+a.data.getNewsSources():"";b+='<a class="overview_see_more" href="/?q='+a.data.getMain().getName()+c+"&t=news"+d+"\"  onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'news', type: '"+this.customPage+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-nav-selector-icon-2"></span>'+_("See all news","overview")+"</a>"}b+="</div>"}a.data.getReviews()&&(b+='<div class="overview_section" id="scores_section"><h2 class="overview_section_title">'+_("Scores","overview")+"</h2>"+this.renderPartial("scores",a.data.getReviews())+"</div>"),a.data.getFeedback().length>0&&(b+='<div class="overview_section"><h2 class="overview_section_title">'+_("Civic discussions","overview")+"</h2>"+this.renderPartial("feedback",a.data.getFeedback())+"</div>"),(this.haveSocialPost(a,"facebook")||this.haveSocialPost(a,"twitter")||this.haveSocialPost(a,"instagram"))&&(b+='<div class="overview_section"><h2 class="overview_section_title">'+_("Social","overview")+"</h2>"+this.renderPartial("social",a)+"</div>"),a.data.getSimilars().length>0&&(b+='<div class="overview_section"><h2 class="overview_section_title">'+_n("Suggestion","Suggestions",a.data.getSimilars().length,"overview")+"</h2>"+this.renderPartial("similar",{list:a.data.getSimilars(),internalLinks:!0})+"</div>"),a.data.getCredits().length>0&&(b+='<div class="overview_section"><h2 class="overview_section_title">'+_n("Credit","Credits",a.data.getCredits().length,"overview")+"</h2>"+this.renderPartial("credits",a.data.getCredits())+"</div>"),a.data.getProducts().length>0&&(b+='<div class="overview_section"><h2 class="overview_section_title overview_section_title--with_see_more">'+_n("Product","Products",a.data.getProducts().length,"overview")+'<a class="overview_see_more" href="/?q='+CustomPageHelper.unslugalize(this.slug)+'&t=shopping"><span class="icon icon-nav-selector-icon-2"></span>'+_("See all products","overview")+"</a></h2>"+this.renderPartial("products",a.data.getProducts())+"</div>")}return b},a.summary=function(a){var b="";return a.data&&(b+=""+this.renderPartial("sidebar",a),a.data.getReviews()&&(b+='<div id="reviews" class="summary__section">'+this.renderPartial("reviews",a.data.getReviews())+"</div>"),a.data.getNews()&&a.data.getNews().length>0&&(b+='<div id="news" class="summary__section summary__section__news">'+this.renderPartial("title",{name:_("News","summary"),count:a.data.getNews().length})+this.renderPartial("news",a)+"</div>"),a.data.getMedia().getVideos().length>0&&(b+='<div id="videos" class="summary__section summary__section__video">'+this.renderPartial("title",{name:_("Videos","summary"),count:a.data.getMedia().getVideos().length})+this.renderPartial("videos",a)+"</div>"),a.data.getMedia().getTwitch().length>0&&(b+='<div id="live" class="summary__section summary__section__twitch">'+this.renderPartial("title",{name:_("Live","summary"),count:a.data.getMedia().getTwitch().length})+this.renderPartial("lives",a)+"</div>"),a.data.getMedia().getPictures().length>0&&(b+='<div id="images" class="summary__section summary__section__images">'+this.renderPartial("title",{name:_("Images","summary"),count:a.data.getMedia().getPictures().length})+this.renderPartial("pictures",a)+"</div>"),a.data.getSimilars().length>0&&(b+='<div id="similars" class="summary__section summary__section__similars">'+this.renderPartial("title",{name:_("Similar games","summary"),count:a.data.getSimilars().length})+this.renderPartial("similar_v4",a)+"</div>")),b},a.custom_page=function(a){var b="";return a.customPageHeader&&(b+=""+a.customPageHeader.render()),a.component?b+=""+a.component.render():hasClass(document.body,"theme-dark")?b+='<img class="custom_page__loader" src="/img/qwant-loader-white.gif"/>':b+='<img class="custom_page__loader" src="/img/qwant-loader.gif"/>',b},a.custom_page_header=function(a){var b=""+this.renderPartial("auto-complete",a);if(a.data){b+='<div class="custom_page_header"><nav class="custom_page_header__navigation"><ul><li class="custom_page_header__navigation_item"><a class="custom_page_header__navigation_item_link" href="/?q='+a.keyPhrase+"&t=",QwantHomepageComponent&&QwantHomepageComponent.currentHomepage&&QwantHomepageComponent.currentHomepage.url?b+=""+QwantHomepageComponent.currentHomepage.url:b+="all",b+='">'+_("Qwant","custom_page_header")+"</a></li>";var c=a.navigation;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<li class="custom_page_header__navigation_item"><a class="custom_page_header__navigation_item_link',this.getCurrentSection()===d.section&&(b+=" custom_page_header__navigation_item_link--selected"),b+='" href="'+d.href+'">'+d.name+"</a></li>";if(b+='</ul></nav><div class="custom_page_header_container"><div class="custom_page_header_background_container"><div class="custom_page_header_background_gradient"></div><div class="custom_page_header_background_dots"></div><img class="custom_page_header_background" src="',""!==a.data.getMain().getBanner()?b+=""+a.data.getMain().getBanner():b+=""+CustomPageHelper.getRandomBackground(this.customPage,a.data.getMain().getName()),b+='" alt="'+a.data.getMain().getName()+'" title="'+a.data.getMain().getName()+'" onerror="this.onerror=null;this.src=\''+CustomPageHelper.getRandomBackground(this.customPage,a.data.getMain().getName())+'\';"></div><div class="custom_page_header__image',a.data.getMain().getPicture().isCover()&&(b+=" custom_page_header__cover"),b+=" custom_page_header__cover--"+this.customPage+'"><img class="custom_page_header__image--background" src="'+a.data.getMain().getPicture().getUrl()+'" onerror="this.onerror=null;this.src=\''+CustomPageHelper.getDefaultPicture(this.customPage)+'\';"><img class="custom_page_header__image--img"',BrowserHelper.isRetina()&&this.logoForRetina?b+='src="'+a.data.getMain().getPicture().getUrlRetina()+'"':b+='src="'+a.data.getMain().getPicture().getUrl()+'"',b+='alt="'+a.data.getMain().getName()+'"title="'+a.data.getMain().getName()+'"onerror="this.onerror=null;this.src=\''+CustomPageHelper.getDefaultPicture(this.customPage)+"';\">",""!==a.data.getMain().getRestriction()&&(b+='<img class="custom_page_header__restriction" src="/img/game/pegi-'+a.data.getMain().getRestriction()+'.svg" alt="PEGI-'+a.data.getMain().getRestriction()+'" title="PEGI-'+a.data.getMain().getRestriction()+'"/>'),b+='</div><div class="custom_page_header__info">',""!==a.data.getMain().getName()){if(b+='<div class="custom_page_header__main_info',""===a.data.getMain().getScore()&&(b+=" custom_page_header__main_info--alone"),b+='"><h1 class="custom_page_header__name" title="'+a.data.getMain().getName()+'">'+a.data.getMain().getName()+"</h1>",a.data.getMain().getReversedPlatforms().length>0){b+='<div class="custom_page_header__platforms">';var g=a.data.getMain().getReversedPlatforms();if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],b+='<span class="custom_page_header__platforms--item platform--'+h.replace(" ","-").toLowerCase()+'">'+h+"</span>";b+="</div>"}this.customPage===CustomPageHeaderComponent.SECTION_GAME_EDITOR?b+='<span class="custom_page_header__genre" title="'+a.data.getMain().getGenre()+'">'+_("Publisher","custom-page")+"</span>":""!==a.data.getMain().getGenre()&&(b+='<span class="custom_page_header__genre" title="'+a.data.getMain().getGenre()+'">'+a.data.getMain().getGenre()+"</span>"),b+='<span class="custom_page_header__date">',this.customPage!==CustomPageHeaderComponent.SECTION_GAME_EDITOR||""===a.data.getMain().getDate()&&""===a.data.getMain().getYear()||(b+=""+_("Creation: ","custom-page")),""!==a.data.getMain().getDate()?b+=""+a.data.getMain().getDate():""!==a.data.getMain().getYear()&&(b+=""+a.data.getMain().getYear()),b+="</span></div>"}if(a.data.getBiography().getStats().length>0&&(b+=""+this.renderPartial("header_stats",a.data.getBiography().getStats())),b+="</div>",""!=a.data.getMain().getScore()?b+='<div class="custom_page_header__additional_info"><div title="'+_("Qwant Score","custom_page_header")+'" class="custom_page_header__score" id="'+actionManager.addClickListener(this,this.scoreScroll)+'">'+a.data.getMain().getScore()+'<canvas id="custom_page_header__score__canvas" class="custom_page_header__score__canvas" width="180" height="180"></canvas></div></div><div title="'+_("Qwant score","custom_page_header")+'" id="'+actionManager.addClickListener(this,this.scoreScroll)+'" class="custom_page_header__score--mobile '+CustomPageHelper.getScoreColorClass(a.data.getMain().getScore())+'">'+a.data.getMain().getScore()+"</div>":""!==a.data.getMain().getAirQuality()&&(b+='<div class="custom_page_header__additional_info custom_page_header__air-quality--container"><a href="http://www.airpaca.org/"title="'+_("Air Quality : the lower the score, the better the quality","custom_page_header")+" : "+a.data.getMain().getAirQuality().label+'"class="custom_page_header__air-quality quality_'+a.data.getMain().getAirQuality().class+'"'+SecurityHelper.targetBlank()+"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'airpaca_score', type: '"+this.customPage+"', slug: '"+this.slug+'\' })"onclick="LinkHelper.clickHandler(this, Event)"onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+a.data.getMain().getAirQuality().score+'<span class="custom_page_header__air-quality--note">/100</span><img class="custom_page_header__additional_info--source" alt="air paca logo"',BrowserHelper.isRetina()?b+='src="img/metropolis/air_paca_logo-x2.png"':b+='src="img/metropolis/air_paca_logo.png"',b+='></a></div><div title="'+_("Qwant score","custom_page_header")+'" id="'+actionManager.addClickListener(this,this.scoreScroll)+'" class="custom_page_header__score--mobile custom_page_header--mobile__air-quality">'+a.data.getMain().getAirQuality().score+"</div>"),a.data.getMain().getSocialLinks().length>0){b+='<div class="custom_page_header__external_links"><span class="custom_page_header__external_links--title">'+_("Follow on:","custom_page_header")+"</span>";var k=a.data.getMain().getSocialLinks();if(k)for(var l,m=-1,n=k.length-1;m<n;)l=k[m+=1],b+="<a "+this.hover(l.getDisplayName(),"external_links--"+m,!1)+' href="'+l.getUrl()+'" class="custom_page_header__external_links--item external_links--'+m+'" '+SecurityHelper.targetBlank()+' rel="nofollow"><span class="icon icon-'+l.getType()+'" /></a>';b+=this.tooltip.render()+"</div>"}b+="</div></div>"}return b},a.custom_page_header_v4=function(a){var b=""+this.renderPartial("auto-complete",a);if(a.data){if(b+='<div id="header" class="summary__header"><img class="summary__header__background" src="',""!==a.data.getMain().getBanner()?b+=""+a.data.getMain().getBanner():b+=""+CustomPageHelper.getRandomBackground(this.customPage,a.data.getMain().getName()),b+='" alt="'+a.data.getMain().getName()+'" title="'+a.data.getMain().getName()+'" onerror="this.onerror=null;this.src=\''+CustomPageHelper.getRandomBackground(this.customPage,a.data.getMain().getName())+'\';" /><div class="summary__header__image--container"><img class="summary__header__image" src="',BrowserHelper.isRetina()&&this.logoForRetina?b+=""+a.data.getMain().getPicture().getUrlRetina():b+=""+a.data.getMain().getPicture().getUrl(),b+='" alt="'+a.data.getMain().getName()+'" title="'+a.data.getMain().getName()+'" onerror="this.onerror=null;this.src=\''+CustomPageHelper.getDefaultPicture(this.customPage)+"';\" />",""!==a.data.getMain().getRestriction()&&(b+='<img class="summary__header__pegi" src="/img/game/pegi-'+a.data.getMain().getRestriction()+'.svg" alt="PEGI-'+a.data.getMain().getRestriction()+'" title="PEGI-'+a.data.getMain().getRestriction()+'"/>'),b+='</div><div class="summary__header__info--container"><h2 class="summary__header__info__title">'+a.data.getMain().getName(),""!==a.data.getMain().getYear()&&(b+='<span class="summary__header__info__title__year">'+a.data.getMain().getYear()+"</span>"),b+="</h2>",a.data.getMain().getSocialLinks().length>0){b+='<div class="summary__header__info__social--container">';var c=a.data.getMain().getSocialLinks();if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],["twitter","facebook","instagram"].indexOf(d.getType())>-1&&(b+='<a href="'+d.getUrl()+'" class="summary__header__info__social" '+SecurityHelper.targetBlank()+' rel="nofollow"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#'+d.getType()+'"></use></svg></a>');b+="</div>"}if(""!==a.data.getMain().getGenre()&&(b+='<span class="summary__header__info__genre">'+a.data.getMain().getGenre()+"</span>"),""!==a.data.getMain().getGenre()&&""!==a.data.getBiography().getEditor().getName()&&(b+='<span class="summary__header__info__separator">. </span>'),""!==a.data.getBiography().getEditor().getName()&&(b+='<span class="summary__header__info__editor">'+a.data.getBiography().getEditor().getName()+"</span>"),a.data.getMain().getReversedPlatforms().length>0){b+='<div class="summary__header__info__platform--container">';var g=a.data.getMain().getReversedPlatforms();if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],b+='<span class="summary__header__info__platform">'+h+"</span>";b+="</div>"}b+='<div class="summary__header__info__description">'+a.data.getBiography().getContent(230)+'</div><div class="summary__header__info__link--container">',""!==a.data.getBiography().getEditor().getSlug()&&(b+='<a href="/game-editor/'+a.data.getBiography().getEditor().getSlug()+'" class="summary__header__info__link"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#chevrons-right"></use></svg><span class="summary__header__info__link__text">'+_("Publisher Page","biography")+"</span></a>"),""!==a.data.getBiography().getOfficialUrl()&&(b+='<a href="'+a.data.getBiography().getOfficialUrl()+'" class="summary__header__info__link summary__header__info__link--right"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#chevrons-right"></use></svg><span class="summary__header__info__link__text">'+_("Official site","biography")+"</span></a>"),""!==a.data.getBiography().getWikipediaUrl()&&(b+='<a href="'+a.data.getBiography().getWikipediaUrl()+'" class="summary__header__info__link summary__header__info__link--right"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#chevrons-right"></use></svg><span class="summary__header__info__link__text">Wikipédia</span></a>'),b+="</div></div>",a.data.getOffers().getList().length>0&&(b+=""+this.renderPartial("offers",a.data.getOffers())),b+="</div>"}return b},a._ads=function(a){var b="",c=a.ads[0]
;return b+='<div class="main_additional_content"><a href="'+c.getUrl()+'" class="main_additional_content--link" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'main_ad_"+c.getSlug()+"', slug: '"+this.slug+"', type: '"+this.customPage+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+c.getImage()+'" class="main_additional_content--picture" alt="'+c.getTitle()+'" onerror="removeParentByClassName(this, \'main_additional_content\');"><img src="'+c.getImageMobile()+'" class="main_additional_content--picture-mobile" alt="'+c.getTitle()+'" onerror="removeParentByClassName(this, \'main_additional_content\');"></a><span class="main_additional_content--label">'+_("Ad","events")+"</span></div>"},a._biography=function(a){var b='<div class="biography';return a.isAlone&&(b+=" biography--alone"),b+='"><div class="biography__text">'+a.data.getContent(800)+'</div><div class="biography__url--container">',""!==a.data.getEditor().getSlug()&&(""!==a.data.getEditor().getLogo()?b+='<a class="biography__text__url biography__text__url--editor" href="/game-editor/'+a.data.getEditor().getSlug()+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'biography_editor', slug: '"+this.slug+"', type: '"+this.customPage+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="biography__text__url__image" src="'+a.data.getEditor().getLogo()+'" /></a>':b+='<a class="biography__text__url biography__text__url--editor" href="/game-editor/'+a.data.getEditor().getSlug()+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'biography_editor', slug: '"+this.slug+"', type: '"+this.customPage+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-showmore"></span><span>'+_("Publisher Page","biography")+"</span></a>"),""!==a.data.getWikipediaUrl()&&(b+='<a class="biography__text__url" href="'+a.data.getWikipediaUrl()+'" '+SecurityHelper.targetBlank()+" rel=\"nofollow\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'biography_wikipedia', slug: '"+this.slug+"', type: '"+this.customPage+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-showmore"></span><span>'+_("More at Wikipedia","biography")+"</span></a>"),""!==a.data.getOfficialUrl()&&(b+='<a class="biography__text__url" href="'+a.data.getOfficialUrl()+'" '+SecurityHelper.targetBlank()+" rel=\"nofollow\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'biography_official_site', slug: '"+this.slug+"', type: '"+this.customPage+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-showmore"></span><span>'+_("Official site","biography")+"</span></a>"),b+="</div></div>"},a._credits=function(a){var b='<table class="credits_list">',c=a;if(c)for(var d,e=-1,f=c.length-1;e<f;){if(d=c[e+=1],b+="<tr><td>",OverviewPageComponent.creditsTranslated[d.getName()]?b+=""+OverviewPageComponent.creditsTranslated[d.getName()]():b+=""+d.getName(),b+="</td>","word"===d.getType())b+="<td>"+d.getValue()+"</td>";else if("array"===d.getType())b+="<td>"+d.getValue().join(", ")+"</td>";else if("internalURL"===d.getType())b+='<td><a href="/?q='+d.getValue()+"&t=all\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'credits', type: '"+this.customPage+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+d.getValue()+"</a></td>";else if("arrayInternalURL"===d.getType()){b+="<td>";var g=d.getValue();if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],b+='<a href="/?q='+h+"&t=all\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'credits', type: '"+this.customPage+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+h+"</a>",i!==d.getValue().length-1&&(b+=", ");b+="</td>"}else"externalURL"===d.getType()?b+='<td><a href="'+d.getValue()+'" '+SecurityHelper.targetBlank()+" rel=\"nofollow\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'credits', type: '"+this.customPage+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+UrlHelper.removeProtocol(d.getValue())+"</a></td>":"date"===d.getType()?b+="<td>"+strftime(i18n.date.longFormat,new Date(1e3*d.getValue()))+"</td>":"arrayEditorUrl"===d.getType()&&(b+='<td> <a href="/game-editor/'+d.getValue().slug+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'credits', type: '"+this.customPage+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+d.getValue().name+"</a></td>");b+="</tr>"}return b+="</table>"},a._events=function(a){var b='<div class="events_table';a.ads.length>0&&(b+=" event_table--with-ad"),b+='">';var c=0,d=a.events;if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],""!==e.getTitle()&&(b+='<a class="event" href="'+e.getUrl()+'" '+SecurityHelper.targetBlank()+"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'events', type: '"+this.customPage+"', slug: '"+this.slug+"', position : '"+(f+1)+'\'})"onclick="LinkHelper.clickHandler(this, Event)"onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="event_details">',""!==e.getStartDate()&&(b+='<span class="event_icon_date event_icon_date--events icon icon-calendrierMini"></span><span class="startDate">'+e.getStartDate()+"</span>",""!==e.getEndDate()&&(b+='<span class="endDate"> - '+e.getEndDate()+"</span>")),b+='<br><span class="custom-event_title">'+e.getTitle()+"</span></div>",""===e.getCity()&&""===e.getCountry()||(b+='<div class="custom-event_localisation"><span class="custom-event_icon_localisation icon icon-localisation-mini"></span>'+e.getCity(),""!==e.getCity()&&""!==e.getCountry()&&(b+="<wbr>,&nbsp;"),b+=e.getCountry()+"</div>"),b+="</a>",c+=1);if(a.ads.length>0&&c>=5){var h=a.ads[0];b+='<div class="event_additional_content"><a href="'+h.getUrl()+'" class="event_additional_content--link"'+SecurityHelper.targetBlank()+"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'events_ad_"+h.getSlug()+"', slug: '"+this.slug+"', type: '"+this.customPage+'\'})"onclick="LinkHelper.clickHandler(this, Event)"onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+h.getImage()+'" class="event_additional_content--picture" alt="'+h.getTitle()+'" onerror="removeParentByClassName(this, \'event_additional_content\');"><img src="'+h.getImageMobile()+'" class="event_additional_content--picture-mobile" alt="'+h.getTitle()+'" onerror="removeParentByClassName(this, \'event_additional_content\');"></a><span class="event_additional_content--picture--ad_label">'+_("Ad","events")+"</span></div>"}return b+="</div>"},a._feedback=function(a){var b="",c=a[0];b+='<div class="feedbacks_section">',""!=c.getWebsiteLogo()&&""!=c.getWebsiteUrl()&&(b+='<a href="'+c.getWebsiteUrl()+'"'+SecurityHelper.targetBlank()+"class=\"feedback--website--logo--link\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'feedback_outlink_logo', slug: '"+this.slug+"', type: '"+this.customPage+'\'})"onclick="LinkHelper.clickHandler(this, Event)"onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="feedback--website--logo" src="'+c.getWebsiteLogo()+'" onerror="removeParentByClassName(this, \'feedback--website--logo--link\');"></a>');var d=a;if(d)for(var c,e=-1,f=d.length-1;e<f;)c=d[e+=1],b+='<a class="feedback"'+SecurityHelper.targetBlank()+'href="'+c.getUrl()+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'feedback_outlink', slug: '"+this.slug+"', type: '"+this.customPage+"', id : '"+c.getId()+"', position: '"+e+'\'})"onclick="LinkHelper.clickHandler(this, Event)"onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-quote-open feedback_content--quote"></span><div class="feedback_content"><p class="feedback_content--emphasis">'+c.getTitle()+'</p><p class="feedback_content--feedback">'+c.getSummary()+"</p></div>",""!==c.getContributors()&&(b+='<div class="feedback_statistics"><span class="icon icon-category-1"></span><span class="feedback_content--votes">'+c.getContributors()+"</span></div>"),b+="</a>";return""!=c.getWebsiteLabel()&&(b+='<a href="'+c.getWebsiteUrl()+'"'+SecurityHelper.targetBlank()+"class=\"feedback--website\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'feedback_outlink', slug: '"+this.slug+"', type: '"+this.customPage+'\'})"onclick="LinkHelper.clickHandler(this, Event)"onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-showmore"></span><span class="feedback--website--label">'+c.getWebsiteLabel()+"</span></a>"),b+="</div>"},a._header_stats=function(a){var b='<div class="custom_page_header__stats custom_page_header__stats--'+this.customPage+'"><span class="header-icon_stat icon icon-statistic"></span>',c=a;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div class="header__statistic"><span class="header_statistic--value">'+d.value+'</span><span class="header_statistic--label">'+d.label+"</span></div>";return b+="</div>"},a._lives=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="summary__carousel">',d=a.data.getMedia().getTwitch();if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],f<4&&(c+='<a class="summary__carousel__block" href="'+e.url+'" '+SecurityHelper.targetBlank()+'><div class="summary__carousel__block__image--container">'+new ImageComponent({src:e.preview,fallbackSrc:"",classes:"summary__carousel__block__image",attrList:{},lazyload:!0}).render()+'<svg class="summary__carousel__block__play" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#play-white"></use></svg><div class="summary__carousel__block__live"><svg width="14" height="14" viewBox="0 0 14 14"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#live"></use></svg><span>LIVE</span></div>',e.viewers&&(c+='<div class="summary__carousel__block__viewers"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#users"></use></svg><span>'+e.viewers+"</span></div>"),c+='</div><h3 class="summary__carousel__block__title" title="'+b(e.title)+'">',e.title.length>100?c+=e.title.slice(100)+"...":c+=""+e.title,c+='</h3><div class="summary__carousel__block__domain" title="twitch.tv">twitch.tv</div><div class="summary__carousel__block__date">',e.logo&&(c+='<img src="'+e.logo+'" />'),c+="<span>"+e.name+"</span></div></a>");return a.data.getMedia().getTwitch().length>4&&(c+='<div class="summary__see_more--container"><span class="summary__see_more">'+_("See more live","smart-result")+"</span></div>"),c+="</div>"},a._media=function(a){var b='<div class="videos_list"><div class="videos_list--container"><div class="videos_list__arrow_left" id="'+actionManager.addClickListener(this,this.listScroll,{position:"left",type:"videos",numberOfItems:this.getAllMediaCount()})+'"><span class="icon icon-nav-selector-icon-small"></span></div>',c=0,d=a.getVideoAds();if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],e.index=c++,e.type="video",b+='<div class="videos_list__item" id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.open,{media:e})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'media_video_ads', type: '"+this.customPage+"', position: '"+c+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+e.thumbnail+'" alt="'+e.title+'" title="'+e.title+'"><div class="video_item__twitch__all__overlay"></div><div class="video_item__twitch__top__overlay"></div><div class="circular-button--large"><span class="icon icon-video-large"></span></div><div class="video_item__twitch__bottom__overlay"></div><div class="video_item__twitch__label"><span class="icon icon-youtube"></span>Youtube</div></div>';var h=a.getWebcams();if(h)for(var i,f=-1,j=h.length-1;f<j;)i=h[f+=1],i.type="image",b+='<a class="videos_list__item" href="'+i.webcam.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'media_webcam', type: '"+this.customPage+"', position: '"+c+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+i.webcam.thumbnail+'"alt="'+i.title+'"title="'+i.title+'"onerror="this.parentNode.parentNode.removeChild(this.parentNode);"><div class="video_item__twitch__bottom__overlay"></div><div class="video_item__twitch__description">'+i.title+' </div><div class="video_item__twitch__label"><span class="icon live_webcam_icon">&#9899;</span>live - Webcam</div></a>';var k=a.getTwitch();if(k)for(var l,f=-1,m=k.length-1;f<m;)l=k[f+=1],l.type="twitch",l.index=c++,b+='<div class="videos_list__item" id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.open,{media:l})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'media_twitch', type: '"+this.customPage+"', position: '"+c+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+l.preview+'" alt="'+l.title+'" title="'+l.title+'"><div class="video_item__twitch__all__overlay"></div><div class="video_item__twitch__top__overlay"></div><div class="video_item__twitch__description">'+l.name+' </div><div class="video_item__twitch__online"><span class="video_item__twitch__online__dot"></span><span class="video_item__twitch__online__label">'+_("Live","media")+'</span></div><div class="circular-button--large"><span class="icon icon-video-large"></span></div><div class="video_item__twitch__bottom__overlay"></div><div class="video_item__twitch__label"><span class="icon icon-twitch"></span>Twitch</div></div>';var n=a.getVideos();if(n)for(var e,f=-1,o=n.length-1;f<o;)e=n[f+=1],e.index=c++,e.type="video",b+='<div class="videos_list__item" id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.open,{media:e})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'media_video', type: '"+this.customPage+"', position: '"+c+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+e.thumbnail+'" alt="'+e.title+'" title="'+e.title+'"><div class="video_item__twitch__all__overlay"></div><div class="video_item__twitch__top__overlay"></div><div class="circular-button--large"><span class="icon icon-video-large"></span></div><div class="video_item__twitch__bottom__overlay"></div><div class="video_item__twitch__label"><span class="icon icon-youtube"></span>Youtube</div></div>';var p=a.getPictures();if(p)for(var i,f=-1,q=p.length-1;f<q;)i=p[f+=1],i.index=c++,i.type="image",b+='<div class="videos_list__item" id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.open,{media:i})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'media_image', type: '"+this.customPage+"', position: '"+c+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+i.thumbnail+'" alt="'+i.title+'" title="'+i.title+'" onerror="this.onerror=null;this.src=\'/img/error/game_error.jpg\';"></div>';return b+='<div class="videos_list__arrow_right" id="'+actionManager.addClickListener(this,this.listScroll,{position:"right",type:"videos",numberOfItems:this.getAllMediaCount()})+'"><span class="icon icon-nav-selector-icon-small-reverse"></span></div></div></div>'},a._news=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="summary__carousel">',d=a.data.getNews();if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],f<4&&(c+='<a class="summary__carousel__block" href="'+e.getUrl()+'" '+e.getTarget()+'><div class="summary__carousel__block__image--container">'+new ImageComponent({src:e.getMedia().getBig(),fallbackSrc:"/img/error/news_error--large.png",classes:"summary__carousel__block__image",attrList:{alt:UrlHelper.fixedEncodeURIComponent(e.getBigTitle()),title:UrlHelper.fixedEncodeURIComponent(e.getBigTitle())},lazyload:!0}).render()+'</div><h3 class="summary__carousel__block__title" title="'+b(e.getBigTitle())+'">',e.getBigTitle().length>100?c+=e.getBigTitle().slice(100)+"...":c+=""+e.getBigTitle(),c+="</h3>",""!==e.getDomain()&&(c+='<div class="summary__carousel__block__domain" title="'+b(e.getDomain())+'">'+UrlHelper.removeProtocol(e.getDomain())+"</div>"),""!==e.getDate()&&(c+='<div class="summary__carousel__block__date">'+e.getDate()+"</div>"),c+="</a>");return a.data.getNews().length>4&&(c+='<div class="summary__see_more--container"><a class="summary__see_more" href="/?q='+this.query+'&t=news">'+_("See more news","smart-result")+"</a></div>"),c+="</div>"},a._offers=function(a){var b='<div class="offers">';if(a.getShops().length>1){b+='<nav class="offers_menu"><ul><li id="'+actionManager.addClickListener(this,CustomPageHelper.changeOfferTab,{tab:"All"})+'" class="offers_menu--All offers_menu--item offers_menu--selected">'+_("All","overview")+"</li>";var c=a.getShops();if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<li id="'+actionManager.addClickListener(this,CustomPageHelper.changeOfferTab,{tab:d.getSortName()})+'" class="offers_menu--item offers_menu--'+d.getSortName()+'">'+d.getDisplayName()+"</li>";b+="</ul></nav>"}b+='<div class="offers_table">';var g=a.getList();if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],b+='<a class="offers_item offers_item--'+h.getPlatform(),0===i&&(b+=" offers_item--first"),b+='" href="'+h.getUrl()+'" '+SecurityHelper.targetBlank()+" ",i>4&&(b+='style="display: none;"'),b+=" rel=\"nofollow\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', query: '"+this.slug+"', position: '"+(i+1)+"', domain: 'shopping', t: 'game', type: 'offer', url: '"+h.getUrl()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="/img/game/offer-'+h.getPlatform()+'.png" class="offer_platform"/>\x3c!--<img src="/img/v4/game/offer-'+h.getPlatform()+'.svg" class="offer_platform"/>--\x3e<span class="offer_shop">'+h.getShop()+'</span><div class="offer_price--container"><div class="offer_price">'+NumberHelper.formatPrice(h.getPrice(),h.getCurrency(),!1)+"</div></div></a>";return b+='</div><a href="'+a.getUrl()+'" class="offers_label" '+SecurityHelper.targetBlank()+" rel=\"nofollow\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'offer', slug: '"+this.slug+"', type: '"+this.customPage+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="offers_label_text">'+_("More at","overview")+' </span><img class="offers_label_logo" src="/img/game/logo-dlcompare.png" title="DLCompare" alt="DLCompare"/>\x3c!--<img class="offers_label_logo" src="/img/v4/game/logo-dlcompare.png" title="DLCompare" alt="DLCompare"/>--\x3e</a></div>'},a._pictures=function(a){var b='<div class="summary__carousel">',c=a.data.getMedia().getPictures();if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],e<8&&(b+='<a class="summary__carousel__block" href="'+d.url+'" '+SecurityHelper.targetBlank()+'><div class="summary__carousel__block__image--container">'+new ImageComponent({src:d.thumbnail,fallbackSrc:"",classes:"summary__carousel__block__image",attrList:{},lazyload:!0}).render()+"</div></a>");return a.data.getMedia().getPictures().length>8&&(b+='<div class="summary__see_more--container"><a class="summary__see_more" href="/?q='+this.query+'&t=images">'+_("See more images","smart-result")+"</a></div>"),b+="</div>"},a._products=function(a){var b='<div class="products__list">',c=a;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<a class="product__item" href="'+d.getUrl()+'" '+SecurityHelper.targetBlank()+">",""!==d.getPicture()&&(b+='<div class="product__item__picture"><img src="'+d.getPicture()+'" alt="'+d.getTitle()+'" title="'+d.getTitle()+"\" onerror=\"this.onerror=null;this.style.width='auto';this.style.minHeight='initial';this.src='/img/error/shopping_error.png';\" /></div>"),""!==d.getTitle()&&(b+='<h3 class="product__item__title">'+d.getTitle()+"</h3>"),""!==d.getPrice()&&""!==d.getPriceCurrency()&&(b+='<span class="product__item__price">'+NumberHelper.formatPrice(d.getPrice(),d.getPriceCurrency(),!0)+"</span>"),""!==d.getBrand()&&(b+='<div class="product__item__brand">'+d.getBrand()+"</div>"),b+="</a>";return b+="</div>"},a._reviews=function(a){var b="";return a.getOverall()&&(b+='<div class="reviews">',""!==a.getOverall().getScore()&&(b+='<div class="reviews__main_score--container" title="'+_("Qwant Score","scores")+" - "+a.getOverall().getScore()+'"><div class="reviews__main_score__label '+CustomPageHelper.getScoreColorClass(a.getOverall().getScore())+'">'+a.getOverall().getScore()+'</div><div class="reviews__main_score__title">'+_("Score","scores")+'</div><canvas id="reviews__main_score__canvas" class="reviews__main_score__canvas" width="72" height="72"></canvas></div>'),""!==a.getOverall().getNbCritics()&&(b+='<div class="reviews__text--container"><div>'+_("Rate based on","scores")+" "+_n("%d critic","%d critics",a.getOverall().getNbCritics(),"scores")+"</div><div>"+_("Scores are out of 100.","scores")+"</div></div>"),a.getHighestScore()&&(b+='<div class="reviews__rank"><h3 class="reviews__rank__title">'+_("The best rate","scores")+'</h3><a href="'+a.getHighestScore().getUrl()+'" class="reviews__rank__item',""==a.getHighestScore().getTitle()&&(b+=" reviews__rank__item--without_title"),b+='" '+SecurityHelper.targetBlank()+' rel="nofollow"><div class="reviews__rank__item__score"><div class="reviews__rank__item__label '+CustomPageHelper.getScoreColorClass(a.getHighestScore().getScore())+'">'+a.getHighestScore().getScore()+'</div><canvas id="reviews__highest_score__canvas" class="reviews__rank__canvas" width="40" height="40"></canvas></div><div class="reviews__rank__item__domain">'+a.getHighestScore().getDomain()+"</div></a></div>"),a.getLowestScore()&&(b+='<div class="reviews__rank"><h3 class="reviews__rank__title">'+_("The worst rate","scores")+'</h3><a href="'+a.getLowestScore().getUrl()+'" class="reviews__rank__item',""==a.getLowestScore().getTitle()&&(b+=" reviews__rank__item--without_title"),b+='" '+SecurityHelper.targetBlank()+' rel="nofollow"><div class="reviews__rank__item__score"><div class="reviews__rank__item__label '+CustomPageHelper.getScoreColorClass(a.getLowestScore().getScore())+'">'+a.getLowestScore().getScore()+'</div><canvas id="reviews__lowest_score__canvas" class="reviews__rank__canvas" width="40" height="40"></canvas></div><div class="reviews__rank__item__domain">'+a.getLowestScore().getDomain()+"</div></a></div>"),a.getAverageScore()&&(b+='<div class="reviews__rank"><h3 class="reviews__rank__title">'+_("Close to the average","scores")+'</h3><a href="'+a.getAverageScore().getUrl()+'" class="reviews__rank__item',""==a.getAverageScore().getTitle()&&(b+=" reviews__rank__item--without_title"),b+='" '+SecurityHelper.targetBlank()+' rel="nofollow"><div class="reviews__rank__item__score"><div class="reviews__rank__item__label '+CustomPageHelper.getScoreColorClass(a.getAverageScore().getScore())+'">'+a.getAverageScore().getScore()+'</div><canvas id="reviews__average_score__canvas" class="reviews__rank__canvas" width="40" height="40"></canvas></div><div class="reviews__rank__item__domain">'+a.getAverageScore().getDomain()+"</div></a></div>"),b+='<div class="reviews__see_more">'+_("More reviews","scores")+"</div></div>"),b},a._scores=function(a){var b="";if(a.getOverall()){b+='<div class="scores__header">',""!==a.getOverall().getScore()&&(b+='<div class="scores__header__score" title="'+_("Qwant Score","scores")+'">'+a.getOverall().getScore()+'<canvas id="scores__header__score__canvas" class="scores__header__score__canvas" width="180" height="180"></canvas></div>'),""!==a.getOverall().getNbCritics()&&(b+='<div class="scores__header__text--container"><h2 class="scores__header__title">'+_("Qwant Score","scores")+'</h1><p class="scores__header__rate">'+_("Rate based on","scores")+'<span class="scores__header__critics_number"> '+_n("%d critic","%d critics",a.getOverall().getNbCritics(),"scores")+'</span></p><p class="scores__header__reviews__text">'+_("All critics reviews combined into a Qwant Score.","scores")+'</p><p class="scores__header__reviews__score">'+_("Scores are out of 100.","scores")+"</p></div>");var c=CustomPageHelper.getRatings(a);c&&(b+='<div class="scores__header__ratings"><h3 class="ratings__title">'+_("Ratings distribution","scores")+'</h3><div class="ratings__section"><span class="ratings__section__title">'+_("Positive","scores")+'</span><div class="ratings__section__bar score--very-good" style="width:'+c.percentage.positive+';"></div><span class="ratings__section__score">'+c.score.positive+'</span></div><div class="ratings__section"><span class="ratings__section__title">'+_("Medium","scores")+'</span><div class="ratings__section__bar score--poor" style="width:'+c.percentage.medium+';"></div><span class="ratings__section__score">'+c.score.medium+'</span></div><div class="ratings__section"><span class="ratings__section__title">'+_("Negative","scores")+'</span><div class="ratings__section__bar score--very-bad" style="width:'+c.percentage.negative+';"></div><span class="ratings__section__score">'+c.score.negative+"</span></div></div>"),b+="</div>"}if(a.getCritics().length>0){b+='<div class="scores__list"><div class="scores__list--container">';var d=a.getCritics();if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],""!==e.getScore()&&(b+='<a href="'+e.getUrl()+'" class="scores__item',""==e.getTitle()&&(b+=" scores__item--without_title"),b+='" '+SecurityHelper.targetBlank()+" rel=\"nofollow\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'scores', type: '"+this.customPage+"', position: '"+(f+1)+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="scores__item__score '+CustomPageHelper.getScoreColorClass(e.getScore())+'">'+e.getScore()+'</div><div class="scores__item__text--container">'+e.getDomain(),""!==e.getTitle()&&(b+='<span class="scores__item__title">'+e.getTitle()+"</span>"),b+="</div></a>");b+="</div></div>"}return b},a._sidebar=function(a){var b='<div class="summary__sidebar"><div id="'+actionManager.addClickListener(this,this.goTo,{section:"header",margin:!0})+'" class="summary__sidebar__item summary__sidebar--header summary__sidebar__item--selected"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#eye"></use></svg><span class="summary__sidebar__item__name">'+_("Summary","summary")+"</span></div>";return a.data.getReviews()&&(b+='<div id="'+actionManager.addClickListener(this,this.goTo,{section:"reviews",margin:!0})+'" class="summary__sidebar__item summary__sidebar--reviews"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#clipboard"></use></svg><span class="summary__sidebar__item__name">'+_("Reviews","summary")+"</span></div>"),a.data.getNews()&&a.data.getNews().length>0&&(b+='<div id="'+actionManager.addClickListener(this,this.goTo,{section:"news"})+'" class="summary__sidebar__item summary__sidebar--news"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#file-text"></use></svg><span class="summary__sidebar__item__name">'+_("News","summary")+"</span></div>"),a.data.getMedia().getVideos().length>0&&(b+='<div id="'+actionManager.addClickListener(this,this.goTo,{section:"videos"})+'" class="summary__sidebar__item summary__sidebar--videos"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#video"></use></svg><span class="summary__sidebar__item__name">'+_("Videos","summary")+"</span></div>"),a.data.getMedia().getTwitch().length>0&&(b+='<div id="'+actionManager.addClickListener(this,this.goTo,{section:"live"})+'" class="summary__sidebar__item summary__sidebar--live"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#play"></use></svg><span class="summary__sidebar__item__name">'+_("Live","summary")+"</span></div>"),a.data.getMedia().getPictures().length>0&&(b+='<div id="'+actionManager.addClickListener(this,this.goTo,{section:"images"})+'" class="summary__sidebar__item summary__sidebar--images"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#image"></use></svg><span class="summary__sidebar__item__name">'+_("Images","summary")+"</span></div>"),a.data.getSimilars().length>0&&(b+='<div id="'+actionManager.addClickListener(this,this.goTo,{section:"similars"})+'" class="summary__sidebar__item summary__sidebar--similars"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-games"></use></svg><span class="summary__sidebar__item__name">'+_("Similar games","summary")+"</span></div>"),b+="</div>"},a._similar=function(a){var b='<div class="similars_list"><div class="similars_list--container">',c=a.list;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div class="similar__item"><a class="similar__item--container" href="'+d.getLink(this.customPage)+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: '"+d.getEventElement()+"', slug: '"+d.getSlug()+"', type: '"+this.customPage+"', position: '"+(e+1)+'\'})"onclick="LinkHelper.clickHandler(this, Event)"onmouseup="LinkHelper.mouseUpHandler(this, Event)"',a.internalLinks||(b+=""+SecurityHelper.targetBlank()),b+=">",""!==d.getGrade()&&(b+='<div class="similar__score '+CustomPageHelper.getScoreColorClass(d.getGrade())+'">'+d.getGrade()+"</div>"),b+='<div class="similar__picture--container"><img class="similar__picture--background" src="'+d.getCover()+'" onerror="this.onerror=null;this.src=\''+CustomPageHelper.getDefaultPicture(this.customPage)+'\';"><img class="similar__picture similar__picture--'+d.getEventElement()+'" src="'+d.getCover()+'" alt="'+d.getName()+'" title="'+d.getName()+'" onerror="this.onerror=null;this.src=\''+CustomPageHelper.getDefaultPicture(this.customPage)+'\';"></div><span class="similar__name">'+d.getName()+"</span></a></div>";return b+='<div class="similars_list__arrow_left" id="'+actionManager.addClickListener(this,this.listScroll,{position:"left",type:"similars",numberOfItems:a.list.length})+'"><span class="icon icon-nav-selector-icon-small"></span></div><div class="similars_list__arrow_right" id="'+actionManager.addClickListener(this,this.listScroll,{position:"right",type:"similars",numberOfItems:a.list.length
})+'"><span class="icon icon-nav-selector-icon-small-reverse"></span></div></div></div>'},a._similar_v4=function(a){var b='<div class="summary__similar">',c=a.data.getSimilars();if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],e<6&&(b+='<a class="summary__similar__item" href="'+d.getLink(this.customPage)+'" '+SecurityHelper.targetBlank()+'><div class="summary__similar__image--container"><img class="summary__similar__image" src="'+d.getCover()+'" alt="'+d.getName()+'" title="'+d.getName()+'"></div><div class="summary__similar__name">'+d.getName()+"</div></a>");return b+="</div>"},a._social=function(a){var b="";if(this.haveSocialPost(a,"instagram")){b+='<div class="social__instagram"><div class="social_icon"><span class="icon icon-instagram"></span></div>';var c=a.data.getSocial("instagram").getPosts();if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],e<6&&("video"===d.getType()?(b+='<div class="social__instagram__image social__instagram__video social__instagram__image--'+e+'" href="',""!==d.getUrl()?b+=""+d.getUrl():b+=""+a.data.getSocial("instagram").getUrl(),b+="\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'social', type: '"+this.customPage+"', position: '"+(e+1)+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><video controls><source src="'+d.getResource()+'"></video></div>'):(b+='<a class="social__instagram__image social__instagram__image--'+e+'" href="'+d.getUrl()+'" '+SecurityHelper.targetBlank()+" rel=\"nofollow\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'social', type: '"+this.customPage+"', position: '"+(e+1)+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="social__instagram__image__overlay" title="'+d.getContent()+'"></div><img src="'+d.getResource()+'" alt="'+d.getContent()+"\"onerror=\"this.onerror=null;this.style.width='auto';this.style.minHeight='auto';this.src='/img/error/instagram_error--",b+=0===e||3===e?"large":"small",b+=".png';\"/>","video-without-src"===d.getType()&&(b+='<span class="circular-button',0!==e&&3!==e&&(b+="--small"),b+='"><span class="icon icon-video-large"></span></span>'),b+="</a>"));b+="</div>"}if(this.haveSocialPost(a,"facebook")||this.haveSocialPost(a,"twitter")){b+='<div class="social__feed">';var g=["facebook","twitter"],h=g;if(h)for(var i,j=-1,k=h.length-1;j<k;)if(i=h[j+=1],this.haveSocialPost(a,i)){b+='<div class="social__feed__item social__feed__'+i,this.haveSocialPost(a,"facebook")&&this.haveSocialPost(a,"twitter")||(b+=" social__feed__item--alone"),b+='"><span class="social__feed__icon icon icon-'+i+'"></span>';var l=a.data.getSocial(i).getPosts();if(l)for(var d,e=-1,m=l.length-1;e<m;)d=l[e+=1],(e<2||e<4&&"twitter"===i)&&(b+='<a class="social__feed__item--container" href="',""!==d.getUrl()?b+=""+d.getUrl():b+=""+a.data.getSocial(i).getUrl(),b+='" '+SecurityHelper.targetBlank()+" rel=\"nofollow\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'social', type: '"+this.customPage+"', position: '"+(e+1)+"', slug: '"+this.slug+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">',""!==d.getResource()&&(b+='<img class="social__feed__image" src="'+d.getResource()+'" title="'+d.getUrl()+'" alt="'+d.getUrl()+'" onerror="this.onerror=null;this.src=\'/img/error/social_error.png\';" />'),b+='<div class="social__feed__text--container ',""===d.getResource()&&(b+=" social__feed__text--container--alone"),b+='"><span class="social__feed__text">'+d.getContent(),"link"===d.getType()&&(b+='<span class="social__feed__text__link">'+d.getUrl()+"</span>"),b+="</span>",""!==d.getTimestamp()&&(b+='<div class="social__feed__date"><span class="icon icon-hp-latest"></span>'+d.getTimestamp()+"</div>"),b+="</div></a>");b+="</div>"}b+="</div>"}return b},a._social_v4=function(a){var b='<div class="summary__social__item--container">';if(this.haveSocialPost(a,"twitter")){b+='<div class="summary__social__item"><h2 class="summary__social__title">TWITTER</h2>';var c=a.data.getSocial("twitter").getPosts();if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<a class="summary__social__card" href="',""!==d.getUrl()?b+=""+d.getUrl():b+=""+a.data.getSocial("twitter").getUrl(),b+='" '+SecurityHelper.targetBlank()+' rel="nofollow"><div class="summary__social__card__title--container">',""!==d.getResource()&&(b+='<img class="summary__social__card__avatar" src="'+d.getResource()+'" title="'+d.getUrl()+'" alt="'+d.getUrl()+'" />'),b+='<h3 class="summary__social__card__title">'+a.data.getMain().getName()+'</h3></div><span class="summary__social__card__text">'+d.getContent()+'</span><div class="summary__social__card__info--container"><div class="summary__social__card__info"><svg title="'+_("retweet","smart-result")+'" width="14" height="14" viewBox="0 0 14 14"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-retweet"></use></svg><span>'+_n("%d retweet","%d retweets",5,"smart-result")+'</span></div><div class="summary__social__card__info"><svg title="'+_("like","smart-result")+'" width="14" height="14" viewBox="0 0 14 14"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-heart"></use></svg><span>'+_n("%d like","%d likes",4,"smart-result")+"</span></div>",""!==d.getTimestamp()&&(b+='<div class="summary__social__card__info">'+d.getTimestamp()+"</div>"),b+="</div></a>";b+="</div>"}if(this.haveSocialPost(a,"instagram")){b+='<div class="summary__social__item"><h2 class="summary__social__title">INSTAGRAM</h2>';var g=a.data.getSocial("instagram").getPosts();if(g)for(var d,e=-1,h=g.length-1;e<h;)d=g[e+=1],b+='<a class="summary__social__card" href="',""!==d.getUrl()?b+=""+d.getUrl():b+=""+a.data.getSocial("instagram").getUrl(),b+='" '+SecurityHelper.targetBlank()+' rel="nofollow"><div class="summary__social__card__title--container">',""!==d.getResource()&&(b+='<img class="summary__social__card__avatar" src="'+d.getResource()+'" title="'+d.getUrl()+'" alt="'+d.getUrl()+'" />'),b+='<h3 class="summary__social__card__title">'+a.data.getMain().getName()+'</h3></div><span class="summary__social__card__text">',"video"===d.getType()?b+='<video controls><source src="'+d.getResource()+'"></video>':b+='<img src="'+d.getResource()+'" alt="'+d.getContent()+'" />',b+='</span><div class="summary__social__card__info--container"><div class="summary__social__card__info"><svg title="'+_("like","smart-result")+'" width="14" height="14" viewBox="0 0 14 14"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-heart"></use></svg><span>'+_n("%d like","%d likes",4,"smart-result")+'</span></div><div class="summary__social__card__info"><svg title="'+_("commentary","smart-result")+'" width="14" height="14" viewBox="0 0 14 14"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#message-circle"></use></svg><span>'+_n("%d commentary","%d commentaries",3,"smart-result")+"</span></div>",""!==d.getTimestamp()&&(b+='<div class="summary__social__card__info">'+d.getTimestamp()+"</div>"),b+="</div></a>";b+="</div>"}return b+="</div>"},a._stations=function(a){var b="",c=a[0];""!=c.getWebsiteLogo()&&""!=c.getWebsiteUrl()&&(b+='<a href="'+c.getWebsiteUrl()+'"'+SecurityHelper.targetBlank()+"class=\"station--website--logo--link\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'stations_outlink_"+c.getType()+"_logo', slug: '"+this.slug+"', type: '"+this.customPage+'\'})"onclick="LinkHelper.clickHandler(this, Event)"onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="station--website--logo" src="'+c.getWebsiteLogo()+'" onerror="removeParentByClassName(this, \'station--website--logo--link\');"></a>'),b+='<div class="stations_table">';var d=a;if(d)for(var c,e=-1,f=d.length-1;e<f;)c=d[e+=1],""!==c.getId()&&(b+='<a class="station"href="'+c.getWebsiteUrl()+'"'+SecurityHelper.targetBlank()+"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'station_outlink_"+c.getType()+"', slug: '"+this.slug+"', type: '"+this.customPage+"', id:'"+c.getId()+"', position: '"+(e+1)+'\' })"onclick="LinkHelper.clickHandler(this, Event)"onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="station_icon_localisation icon icon-localisation-mini"></span><div class="station_location--informations"><p class="station_location--informations--address">',""!==c.getNbBikes()&&(b+='<span class="station_location--informations--station-id">'+c.getStation()+" - </span>"),b+=c.getStreet()+'</p><p class="station_location--informations--additional" title="'+c.getAdditionalInformations()+'">',""!==c.getSpot()&&(b+=c.getSpot()+" - "),b+=c.getAdditionalInformations()+"</p></div>",""!==c.getNbBikes()&&(b+='<div class="station_bikes"><span class="station_icon_bike icon icon-'+c.getType()+'"></span><p class="station_bikes--number-avaliable">'+c.getNbBikes()+"</p></div>"),b+="</a>");return""==c.getWebsiteUrl()||""===c.getWebsiteLogo()&&""===c.getWebsiteLabel()||(b+='<br><a href="'+c.getWebsiteUrl()+'"'+SecurityHelper.targetBlank()+"class=\"station--website\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'stations_outlink_"+c.getType()+"', slug: '"+this.slug+"', type: '"+this.customPage+'\'})"onclick="LinkHelper.clickHandler(this, Event)"onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-showmore"></span><span class="station--website--label">'+c.getWebsiteLabel()+"</span></a>"),b+="</div>"},a._title=function(a){return'<h1 class="summary__title"><svg class="summary__title__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#minus"></use></svg><span class="summary__title__text">'+a.name+'</span><span class="summary__title__result">'+_n("%d result","%d results",a.count,"summary")+"</span></h1>"},a._videos=function(a){var b='<div class="summary__carousel">',c=a.data.getMedia().getVideos();if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],e<4&&(b+='<a class="summary__carousel__block" href="'+d.url+'" '+SecurityHelper.targetBlank()+'><div class="summary__carousel__block__image--container">'+new ImageComponent({src:d.thumbnail,fallbackSrc:"",classes:"summary__carousel__block__image",attrList:{},lazyload:!0}).render()+'<svg class="summary__carousel__block__play" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#play-white"></use></svg></div></a>');return a.data.getMedia().getVideos().length>4&&(b+='<div class="summary__see_more--container"><a class="summary__see_more" href="/?q='+this.query+'&t=videos">'+_("See more videos","smart-result")+"</a></div>"),b+="</div>"},a._edit_favorite=function(a){var b='<div class="favorites__item favorites__item--action favorites__item--'+a.favoriteState+" ";return!1!==a.editFav&&(b+=" favorites__item--"+a.editFav+" "),b+='"><div class="favorites__item__subwrapper"><form id="'+actionManager.addSubmitListener(this,this.submitFavorite,{state:a.favoriteState,favoriteItem:a.item})+'">',"edit"===a.favoriteState?b+="<h2>"+_("Edit a bookmark","favorite")+"</h2>":b+="<h2>"+_("Add a bookmark","favorite")+"</h2>",b+='<input type="hidden" name="favorite_page" id="favorite_page" value="homepage"><input id="'+this.favoriteUrlInputId+'" class="input__text" autofocus type="text" placeholder="'+_("Bookmark URL","favorite")+'" ',a.item&&a.item.url&&(b+=' value="'+sanitize(a.item.url)+'" '),b+=' aria-label="bookmark_url" required><input id="'+this.favoriteNameInputId+'" class="input__text" type="text" placeholder="'+_("Bookmark Name","favorite")+'" ',a.item&&a.item.name&&(b+=' value="'+sanitize(a.item.name)+'" '),b+=' aria-label="bookmark_name" required>',!1!==a.editFav&&(b+='<input id="favoriteId" type="text" value="'+a.editFav+'" style="display:none;">'),b+='<button title="'+_("Save","favorites")+'" class="button button--blue button--icon button--confirm" type="submit" aria-label="bookmark_save"><span class="button__icon"></span></button><button title="'+_("Cancel","favorites")+'" id="'+actionManager.addClickListener(this,this.closeForm)+'" class="button button--grey button--icon button--cancel" aria-label="bookmark_cancel"><span class="button__icon"></span></button>',a.item&&(b+='<button title="'+_("Remove","favorites")+'" id="'+actionManager.addClickListener(this,this.menuAction,{favorite:a.item,action:"delete"})+'" class="button button--grey button--remove" aria-label="bookmark_remove"><span class="button__icon"></span> '+_("Remove","favorites")+"</button>"),b+="</form></div></div>"},a._favorite=function(a){var b='<div class="favorites__item favorites__item--'+a.index+" favorites__item--"+a.bgImageUrl+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'favorite',url : '"+a.url+"',item : '"+a.id+"',position : '"+(a.index+1)+'\' });"onclick="LinkHelper.clickHandler(this, Event)"onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="favorites__item__menu">';return this.hasSpecialBg(a)?b+='<span class="favorites__item__menu--delete" id="'+actionManager.addClickListener(this,this.menuAction,{favorite:a,action:"delete"})+'"></span>':b+='<span class="favorites__item__menu--edit" id="'+actionManager.addClickListener(this,this.menuAction,{favorite:a,action:"edit"})+'"></span>',b+='</span><div class="favorites__item_container"><a href="'+encodeURI(a.url)+'" '+SecurityHelper.targetBlank()+">",this.hasSpecialBg(a)||(b+='<p class="favorites__item__header word-wrap"><span class="emphasis">'+a.urlHostname+'<span class="normal">'+a.urlTopLevelDomain+'</span></span></p><span class="favorites__item__name">'+a.name+"</span>"),b+="</a></div></div>"},a.bookmarks_download=function(a){return'<div class="bookmarks_download--banner"></div><div class="bookmarks_download--container"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-download"></use></svg><h2>'+_("The download of your favorites is in progress...","bookmarks_download")+"</h2><p>"+_('If the download does not start automatically, please <a href="{link}">click here</a>',"bookmarks_download",{link:ajax.user.favorites.export()+"?session_token="+applicationState.user.token})+"</p></div>"},a.favorite_dropdown=function(a){var b='<div id="'+this.id+'" class="wrapper-dropdown"><span class="select-placeholder"></span><span class="favorite-dropdown__icon"></span><ul class="dropdown">',c=this.items;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<li id="'+actionManager.addClickListener(this,this.select,{index:e})+'">'+d.label+"</li>";return b+="</ul></div>"},a.favorites=function(a){var b="";if(applicationState.user.isLogged&&a.data){if(b+='<div class="favorites__background"><div class="favorites__container">',0==a.data.length)b+='<div class="favorites__sub-container--empty">',a.createFav?b+=""+this.renderPartial("edit_favorite",{favoriteState:"create",state:1}):b+='<div class="favorites__item favorites__item--empty" id="'+actionManager.addClickListener(this,this.createFav)+'"><span class="favorites__item--add"></span><p>'+_("Add a bookmark","favorites")+"</p></div>",b+="</div>";else{a.createFav||(b+='<div class="favorites__sub-container">');var c=a.data;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],a.editFav&&d.id===a.editFav?b+=""+this.renderPartial("edit_favorite",{item:d,favoriteState:"edit",editFav:a.editFav}):b+=""+this.renderPartial("favorite",d);a.createFav?b+=""+this.renderPartial("edit_favorite",{favoriteState:"create",state:1}):b+='</div><div class="favorites__item favorites__item--empty" id="'+actionManager.addClickListener(this,this.createFav)+'"><span class="favorites__item--add"></span><p>'+_("Add a bookmark","favorites")+"</p></div>"}b+="</div></div>"}else b+='<div class="favorites__banner"><div class="favorites__banner__shadow"></div><div class="favorites__banner__illustration"></div><div class="favorites__banner__text"><h2>'+_("Bookmark your<br/>favourite websites","favorites")+"</h2><p>"+_("Register or sign in to your Qwant account to manage your bookmarks. Add, edit or organize them, everything you need is here!","favorites")+'</p><a href="/register" class="button button--blue">'+_("Create an account","favorites")+' » </a><a href="/login" class="button button--grey">'+_("Log in","favorites")+'</a></div><div class="favorites__banner__infos"><div class="favorites__banner__info favorites__banner__info--save-results"><div class="favorites__banner__info--save-results__icon"></div><h3>'+_("Add","favorites")+"</h3><p>"+_("Add any Web page to your bookmarks directly from the search results","favorites")+'</p></div><div class="favorites__banner__info favorites__banner__info--edit-bookmarks"><div class="favorites__banner__info--edit-bookmarks__icon"></div><h3>'+_("Edit","favorites")+"</h3><p>"+_("Create, edit URL and add a description to your bookmarks","favorites")+'</p></div><div class="favorites__banner__info favorites__banner__info--reorganize-bookmarks"><div class="favorites__banner__info--reorganize-bookmarks__icon"></div><h3>'+_("Organize","favorites")+"</h3><p>"+_("Simply drag-and-drop your bookmarks to organize them your own way","favorites")+"</p></div></div></div>";return b},a.footer=function(a){var b='<div class="footer__report--popin"><span>'+_("Click on a result to report it.","footer")+'</span><button id="'+actionManager.addClickListener(this,FooterComponent.toggleReport)+'" role="'+_("cancel","footer")+'">'+_("Cancel","footer")+'</button></div><footer><nav class="footer__block footer__block--menu"><div class="footer__column footer__column_left"><div class="footer__dropdown--container"><a id="'+actionManager.addClickListener(this,this.toggle)+"\"class=\"footer__menu--item footer__dropdown--button\"onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'results', component : 'footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Results","footer")+'</a><nav class="footer__dropdown"><a class="footer__menu--item" href="'+constants.StaticPagesInfos.RANKING.url()+'"'+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'ranking', component : 'footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+constants.StaticPagesInfos.RANKING.pageName()+'</a><a class="footer__menu--item footer__menu--report" id="'+actionManager.addClickListener(this,FooterComponent.toggleReport)+"\"onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'report', component : 'footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><span>"+_("Report content","footer")+'</span><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-flag"></use></svg></a></nav></div><a class="footer__menu--item" href="'+constants.StaticPagesInfos.PRIVACY.url()+'"'+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'privacy', component : 'footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+constants.StaticPagesInfos.PRIVACY.pageName()+"</a>",c=a.dropdowns;if(c)for(var d,e=-1,f=c.length-1;e<f;){d=c[e+=1],b+='<div class="footer__dropdown--container"><a id="'+actionManager.addClickListener(this,this.toggle,{zone:d.zone})+"\"class=\"footer__menu--item footer__dropdown--button\"onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: '"+d.zone+"', component : 'footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+d.name()+'</a><nav class="footer__dropdown">';var g=d.links;if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],b+='<a class="footer__menu--item"href="'+constants.StaticPagesInfos[h].url()+'"'+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: '"+h.toLowerCase()+"', component : 'footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+constants.StaticPagesInfos[h].pageName()+"</a>";b+="</nav></div>"}return b+='</div><div class="footer__column footer__column_right"><a class="footer__menu--item footer__menu--item-faq" href="'+constants.StaticPagesInfos.FAQ.url()+'"'+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'faq', component : 'footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+constants.StaticPagesInfos.FAQ.pageName()+'</a><a class="footer__menu--item" href="'+constants.StaticPagesInfos.APP_ANDROID.url()+'"'+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'app_android', component : 'footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><svg><use xlink:href=\"/img/v4/icon-spritesheet.svg?1608192960675#icon-android\"></use></svg>"+constants.StaticPagesInfos.APP_ANDROID.pageName()+'</a><a class="footer__menu--item footer__menu--mr" href="'+constants.StaticPagesInfos.APP_IOS.url()+'"'+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'app_ios', component : 'footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><svg><use xlink:href=\"/img/v4/icon-spritesheet.svg?1608192960675#icon-apple\"></use></svg>"+constants.StaticPagesInfos.APP_IOS.pageName()+"</a>",ExtensionHelper.displayExtensionBtn()&&(b+='<a class="footer__menu--item home__snippet__extension" href="#" id="'+actionManager.addClickListener(this,ExtensionHelper.openExtensionOverlay,{element:"footer-button"})+'">'+_("Add Qwant to {browser}","footer",{browser:BrowserHelper.getBrowserInformations().name})+"</a>"),b+='<a class="footer__menu--item footer__menu--settings" id="'+actionManager.addClickListener(this,AppMenuComponent.open,{content:AppMenuComponent._SETTINGS})+'"'+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'settings', component : 'footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><svg><use xlink:href=\"/img/v4/icon-spritesheet.svg?1608192960675#settings\"></use></svg>"+_("Settings","footer")+"</a></div></nav></footer>"},a._header_products_content=function(a){return'<div class="header__products"><div class="header__products--item"><a href="/" target="_blank" onmousedown="LinkHelper.logHandler(this, Event, { AjaxRoute: \'userInteraction\', event:\'click\', zone: \'qwant\', component : \'header-products\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-logo-q"></use></svg><span>Qwant</span></a></div><div class="header__products--item"><a href="https://www.qwantjunior.com/" target="_blank" onmousedown="LinkHelper.logHandler(this, Event, { AjaxRoute: \'userInteraction\', event:\'click\', zone: \'qwant-junior\', component : \'header-products\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg viewBox="0 0 16 16"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-junior"></use></svg><span>Junior</span></a></div><div class="header__products--item"><a href="/maps" target="_blank" onmousedown="LinkHelper.logHandler(this, Event, { AjaxRoute: \'userInteraction\', event:\'click\', zone: \'qwant-maps\', component : \'header-products\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-map-pin"></use></svg><span>Maps</span></a></div></div><div class="header__verticals"><div class="header__products--item"><a href="/music" target="_blank" onmousedown="LinkHelper.logHandler(this, Event, { AjaxRoute: \'userInteraction\', event:\'click\', zone: \'qwant-music\', component : \'header-products\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-music"></use></svg><span>Music</span></a></div></div>'},a._header_profile_content=function(a){var b='<div class="header__profile--container"><div class="header__profile--picture">';return void 0!==a.user.avatar&&(b+='<img src="'+a.user.avatar+'" alt="Profile Picture"/>'),b+='</div><div class="header__profile--infos">',void 0!==a.user.username&&(b+=""+a.user.textField("username",{classname:"header__profile--username",disabled:!0})),void 0!==a.user.email&&(b+=""+a.user.textField("email",{classname:"header__profile--email",disabled:!0})),b+='</div></div><div class="header__profile--buttons"><button type="button" id="'+actionManager.addClickListener(this,this.goToAccount)+"\" class=\"header__profile--btn button button--grey\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : 'user-menu-btn', component : 'header', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Manage my profile","profile")+'</button><span id="'+actionManager.addClickListener(this,UserModel.logout)+'" class="header__profile--logout" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'user-menu-log-out\', component : \'header\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-logout"></use></svg><span>'+_("Log out","appmenu")+"</span></span></div>"},a.header=function(a){var b='<div class="header_content header_content--';return this.isStatic?b+="static":b+="classic",b+='">',this.isStatic&&(b+='<div class="header_title"><a href="/" class="header_static--logo" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'logo\', component : \'header\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img alt="logo" src="/img/v4/qwant-logo-mini.svg"/></a><h1>'+this.title+"</h1></div>"),b+=a.headerMenu.render()+'<span class="header__item header__item--appmenu" id="'+actionManager.addClickListener(this,AppMenuComponent.open,{content:AppMenuComponent._MAIN_MENU})+'" title="'+_("App Menu","header")+'" aria-label="appmenu" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'app_menu\', component : \'header\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></span></div>',this.isStatic&&(b+='<div class="header_return"><div class="header_return--btn" id="'+actionManager.addClickListener(this,this.goBack)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : 'return', component : 'header', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><svg viewBox=\"0 0 17 17\"><use xlink:href=\"/img/v4/icon-spritesheet.svg?1539938515#chevron-left\"></use></svg><h2>"+_("Return","header")+"</h2></div></div>"),b},a.header_menu=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="header__nav--container"><div class="header__nav"><div class="header__nav--item"><a href="https://about.qwant.com/fr/" target="_blank" onmousedown="LinkHelper.logHandler(this, Event, { AjaxRoute: \'userInteraction\', event:\'click\', zone: \'about\', component : \'header\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("About us","title")+'</a></div><div class="header__nav--item" id="'+actionManager.addClickListener(this,this.toggle,{content:HeaderMenuComponent._PRODUCTS,clickOutHandler:HeaderMenuComponent.close})+'"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-products"></use></svg><span>'+_("Products","header")+"</span></div>";return a.user.isLogged?c+='<div id="'+actionManager.addClickListener(this,this.toggle,{content:HeaderMenuComponent._PROFILE,clickOutHandler:HeaderMenuComponent.close})+'" class="header__nav--item header__user-menu" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'user-menu\', component : \'header\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="header__user__icon__image" alt="" src="'+b(HeaderComponent.imageURL?HeaderComponent.imageURL:applicationState.user.getPictureUrl())+'"></div>':c+='<div id="'+actionManager.addClickListener(Application.rootComponent.state.account_overlay,Application.rootComponent.state.account_overlay.displayAccountOverlay)+'" class="header__nav--item header__item--login" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'user-login\', component : \'header\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg></div>',c+='</div><div class="header__nav--content"><div class="header__nav__content header__nav__content--products">'+this.renderPartial("header_products_content",a)+'</div><div class="header__nav__content header__nav__content--profile">'+this.renderPartial("header_profile_content",a)+"</div></div></div>"},a._extended_qwoodle=function(a){var b='<div style="max-height:';return a.extendedOpen?b+="1000px":b+="0",
b+='" id="extended_qwoodle"><div class="extended_qwoodle__first_line"><div class="extended_qwoodle__close"><i class="icon icon-switch-close" onclick="ExtendedQwoodle.toggle()" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \''+a.section+"', type: 'qwoodle_outlink', item: '"+a.id+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"></i></div></div>'+a.item.html+"<style>"+a.item.css+"</style></div>"},a._qwant_logo=function(a){var b="";return null!==a.name&&(b+="<span>"+a.name+"</span>"),b},a.all_content=function(a){var b="";return a.currentTabIndex>0&&null!==a.currentTab&&(b+=""+a.currentTab.render()),a.mediaOverlay&&(b+=""+a.mediaOverlay.render()),b},a.extension_popin=function(a){var b="";return a.isDisplayed&&config_get("extension.popin.enabled")&&(b+='<div class="home__snippet__extension ',"brz-vivaldi"===userClient&&(b+="popin__disabled"),b+='"><span id="'+actionManager.addClickListener(this,ExtensionHelper.closePopin)+"\" class=\"home__snippet__extension__close icon icon-switch-close\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'extensionHomepagePopin', type: 'hide', browser: '"+BrowserHelper.getBrowserUri()+"', os: '"+BrowserHelper.getOS()+"', element: 'popin'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"></span>","brz-brave"===userClient||"safari"===BrowserHelper.getBrowserUri()?(b+='<h3 class="home__snippet__extension__title">'+_("Brave + Qwant","extension")+'</h3><p class="home__snippet__extension__desc">'+_("The most secure and private web experience, the search engine and browser that respect you.","extension")+'</p><div class="home__snippet__extension__body"><ul><li><p>'+_("A faster navigation","extension")+"</p></li><li><p>"+_("Block all fingerprinting","extension")+"</p></li><li><p>"+_("No cookies, no tracking","extension")+'</p></li></ul><img src="/img/extensions/',BrowserHelper.isRetina()?b+="bravexqwant-x2.png":b+="bravexqwant.png",b+='"/></div><a href="'+_("https://betterweb.qwant.com/5-reasons-to-be-brave-and-choose-qwant/","extension")+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'extensionHomepagePopin', type: 'open', browser: '"+BrowserHelper.getBrowserUri()+"', os: '"+BrowserHelper.getOS()+'\', element: \'popin\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)" class="button button--blue">'+_("Learn more","extension")+"</a>"):b+='<h3 class="home__snippet__extension__title">'+_("Make Qwant my<br>default search engine","extension")+'</h3><div class="home__snippet__extension__body"><ul><li><div class="country--fr_FR"><span class="country__icon"></span></div><span>Made in France</span></li><li><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-eye-off"></use></svg><span>'+_("Privacy oriented","extension")+'</span></li><li><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-target"></use></svg><span>'+_("No tracking","extension")+'</span></li></div><div class="button button--blue" id="'+actionManager.addClickListener(this,ExtensionHelper.openExtensionOverlay,{element:"popin"})+'">'+_("Add Qwant to {browser}","extension",{browser:IAHelper.capitalizeFirstLetter(BrowserHelper.getBrowserUri())})+"</div>",b+="</div>"),b},a.home_page=function(a){var b=a.extensionPopin.render()+'<div class="home__logo__container';return this.shouldDisplayQwoodle?b+=" home__logo__container--hidden":b+=" home__logo__container--default",b+='">',this.shouldDisplayQwoodle&&(b+="<a ",a.qwoodle.interactive&&!a.qwoodle.extended||(b+='href="'+(a.qwoodle.extended?"javascript:ExtendedQwoodle.toggle();":this.qwoodleLink)+'"'),b+=' title="'+a.qwoodle.title+'" class="home__logo--event" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \''+a.section+"', type: 'qwoodle', item: '"+a.qwoodle.id+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" target="'+(a.qwoodle.target?a.qwoodle.target:"_self")+'">',a.qwoodle.interactive&&a.qwoodle.interactive.html&&"string"==typeof a.qwoodle.interactive.html?(b+=""+a.qwoodle.interactive.html,a.qwoodle.interactive&&a.qwoodle.interactive.css&&"string"==typeof a.qwoodle.interactive.css&&(b+="<style>"+a.qwoodle.interactive.css+"</style>"),a.qwoodle.interactive&&a.qwoodle.interactive.js&&"function"==typeof window.interactiveQwoodleJS&&setTimeout(function(){window.interactiveQwoodleJS()},50)):"object"==typeof a.qwoodle.images&&(b+='<img id="home__event__img" src="'+this.getQwoodleImg(a.qwoodle.images)+'" alt="'+a.qwoodle.title+"\" onerror=\"$('.home__logo--event')[0].style.display = 'none';$('.home__logo')[0].style.display = 'inherit';",BrowserHelper.isTabletOrMobile||(b+="$('.home__baseline')[0].style.display = 'block';"),b+='" />'),a.qwoodle.partnership&&(b+='<span class="trends--general__info__text--brand trends--general__info__text--brand--custom">'+_("Partnership","homepage")+"</span>"),b+="</a>"),b+='<a href="/" class="home__logo" title="Qwant">'+this.renderPartial("qwant_logo",{name:a.name})+"</a>",BrowserHelper.isTabletOrMobile||(b+='<div class="home__baseline"',this.shouldDisplayQwoodle&&(b+='style="display:none"'),b+=">"+_("The search engine that respects your privacy.","homepage")+"</div>"),b+="</div>"+new SearchBarComponent({autofocus:!0}).render(),a.qwoodle.extended&&(a.qwoodle.extended.alt=a.qwoodle.title,b+=""+this.renderPartial("extended_qwoodle",{item:a.qwoodle.extended,section:a.section,id:a.qwoodle.id,extendedOpen:a.extendedOpen})),a.snippet&&a.snippet.browsers&&a.snippet.browsers.indexOf(BrowserHelper.getBrowserUri())>=0&&(!a.currentTabIndex||a.currentTabIndex<2)&&(BrowserHelper.isTabletOrMobile&&a.snippet.mobile||!BrowserHelper.isTabletOrMobile&&a.snippet.desktop)&&(a.snippet.applications&&this.isAppMobile()||!this.isAppMobile())?(b+='<div class="snippet"><a href="'+this.getSnippetLink(a.snippet)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+a.section+"', type: 'snippet', item: '"+a.snippet.id+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" '+("_blank"==a.snippet.target?SecurityHelper.targetBlank():"")+'><span class="snippet__logo"><img src="'+this.getSnippetImg(a.snippet.images)+'" onerror="$(\'.snippet__logo\')[0].style.display = \'none\';"/></span><span class="snippet__container"><p class="snippet__text">'+a.snippet.text+'</p><span class="snippet__link"><span class="snippet__link__text">'+a.snippet.link_text+"</span></span>",a.snippet.partnership?b+='<span class="trends--general__info__text--brand">'+_("Partnership","homepage")+"</span>":a.snippet.type&&(b+='<span class="trends--general__info__text--brand">',"ad"===a.snippet.type?b+=""+_("Ad","homepage"):"partnership"===a.snippet.type&&(b+=""+_("Partnership","homepage")),b+="</span>"),b+="</span></a></div>"):config_get("homepage.service.description")&&(b+=""+this.renderPartial("edu_description")),null!==a.content&&(b+=""+a.content.render()),b},a.image=function(a){return""},a.load_bar=function(a){return""},a.local_filters=function(a){var b="";return a.localFilters&&(b+=""+a.localFilters.render()),b},a.local_filters_pages_jaunes=function(a){var b="";return a.filtersActive&&(b+='<div class="result_page_local__filters--shrinked"><div class="result_page_local__filters--mobile-header"><div class="filters__menu__header">'+_("Filters","filter")+'</div><div class="filters__menu__actions"><button class="filters__menu__actions__back_button" id="'+actionManager.addClickListener(this,this.leaveFilters)+'"><svg class="filters__selector__icon"><use xlink:href="/img/v4/icon-spritesheet.svg?1532422997565#chevron-left"></use></svg><span>'+_("Back","filter")+'</span></button><button class="filters__menu__actions__validate_button" id="'+actionManager.addClickListener(this,this.saveFilters)+'">'+_("Validate","filter")+'</button></div></div><span class="result_filter_toggle_button" id="',BrowserHelper.isTabletOrMobile?b+=""+actionManager.addClickListener(this,LocalHelper.openFilters):b+=""+actionManager.addClickListener(this,LocalHelper.openFilters,{clickOutHandler:LocalHelper.closeFilters}),b+='">'+_("Filter","filter")+'</span><div class="local__filters--shrinked"><div class="result_filter__item result_filter__item--handheld result_filter__item--list result_filter__item--reviews"><span class="result_filter__item__label">'+_("All ratings","local")+"</span>",BrowserHelper.isTabletOrMobile?b+='<div class="local__filter">'+a.filters.ratingsDropDown.render()+"</div>":b+=""+a.filters.ratingsListNoRefresh.render(),b+='</div><div class="result_filter__item result_filter__item--handheld result_filter__item--list result_filter__item--openingHours"><span class="result_filter__item__label">'+_("Any date","local")+"</span>",BrowserHelper.isTabletOrMobile?b+='<div class="local__filter">'+a.filters.openingHoursDropDown.render()+"</div>":b+=""+a.filters.openingHoursListNoRefresh.render(),b+="</div></div></div>"),b+='<div class="result_page_local__filters--left"></div><div class="result_page_local__filters--right">',a.filtersActive&&(b+='<div class="local__filter">'+a.filters.ratingsDropDown.render()+'</div><div class="local__filter">'+a.filters.openingHoursDropDown.render()+"</div>"),b+="</div>"},a.result_detail_local=function(a){var b="";if(a.data){if(b+='<div class="result_page_local__item_detail">',a.uniqueItem||BrowserHelper.isTabletOrMobile&&(b+='<div class="local-detail__close" id="'+actionManager.addClickListener(this,this.closeDetail)+'"><svg class="media_overlay__close" width="22" height="22" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#circle-close"></use></svg></div>'),b+='<div class="local-detail__info">',a.data.picture?(b+='<div class="local-detail__image"><a '+SecurityHelper.targetBlank()+" ",a.data.linksImages&&(b+='href="'+a.data.linksImages+'"'),b+=" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: '",a.uniqueItem?b+="single":b+="multiple",b+="', zone: 'detail', element: 'image', item: "+a.data.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+a.categoryPJTriggered+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+a.data.picture+'" alt="'+a.data.name+'" title="'+a.data.name+'"/></a></div>'):b+='<div class="local-detail__no-image"><svg width="40" height="40" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#image"></use></svg></div>',b+='<div class="local-detail__info_text"><h1 class="local-detail__name">'+a.data.name+"&nbsp;",a.data.starCount&&(b+=a.data.starCount+"<sup>★</sup>"),b+="</h1>",a.data.category){b+='<div class="result-local__category" title="'+this.formatDisplayCategory(a.data.category)+'">';var c=a.data.category;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div class="result-local__category_item">'+d+"</div>";b+="</div>"}if(b+='<div class="local-detail__address">',a.data.address&&(b+=""+a.data.address,a.data.place&&(b+=",&nbsp;")),a.data.place&&(b+=""+a.data.place),b+="</div>",a.data.review.mark){b+='<div class="local-detail__rating">';for(var g=0;g<a.data.review.mark;g++)b+='<svg class="local_star_container active" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';for(var g=0;g<5-a.data.review.mark;g++)b+='<svg class="local_star_container empty" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';b+='&nbsp;<a class="result-local__reviews" href="'+a.data.review.links+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: '",a.uniqueItem?b+="single":b+="multiple",b+="', zone: 'detail', element: 'reviews', item: "+a.data.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+a.categoryPJTriggered+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_n("%d review","%d reviews",a.data.review.count,"local")+"</a></div>"}if(a.data.review.count||(b+='<div class="result-local__review"><span class="result-local__no-reviews">'+_("No reviews","local")+"</span></div>"),a.data.review.reviewQuotes&&a.data.review.reviewQuotes[0]&&(b+='<div class="local-detail__comments">"'+a.data.review.reviewQuotes[0].text+'"</div>'),b+='</div></div><div class="local-detail__buttons">',a.data.phoneNumbers&&(b+="<div "+SecurityHelper.targetBlank()+' id="'+actionManager.addClickListener(this,this.showPhoneNumbers,{phoneNumber:a.data.phoneNumbers[0].phoneNumber})+"\" class=\"local-detail__buttons__button\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: '",a.uniqueItem?b+="single":b+="multiple",b+="', zone: 'detail', element: 'phone', item: "+a.data.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+a.categoryPJTriggered+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg><use xlink:href="/img/v4/icon-spritesheet.svg#icon-phone"></use></svg><div id="local-detail__buttons__phone" class="local-detail__buttons__text">'+_("Show phone number","local")+"</div></div>"),BrowserHelper.isTabletOrMobile?(b+="<a "+SecurityHelper.targetBlank()+' class="local-detail__buttons__button" href="geo:'+a.data.coordinates.latitude+","+a.data.coordinates.longitude+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: '",a.uniqueItem?b+="single":b+="multiple",b+="', zone: 'detail', element: 'itinerary', item: "+a.data.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+a.categoryPJTriggered+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'):(b+="<a "+SecurityHelper.targetBlank()+' class="local-detail__buttons__button" href="https://fr.mappy.com/itineraire#/3/M2/TItinerary/IFR|TO+'+a.data.address,a.data.place&&(b+="%20"+a.data.place),b+="/N"+a.data.coordinates.longitude+","+a.data.coordinates.latitude+","+a.data.coordinates.longitude+","+a.data.coordinates.latitude+"/#xtor=CS1-104\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: '",a.uniqueItem?b+="single":b+="multiple",b+="', zone: 'detail', element: 'itinerary', item: "+a.data.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+a.categoryPJTriggered+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'),b+='<svg><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-corner-up-right"></use></svg><div class="local-detail__buttons__text">'+_("Itinerary","local")+"</div></a>",a.data.searchUrl&&(b+="<a "+SecurityHelper.targetBlank()+' class="local-detail__buttons__button" href="'+a.data.searchUrl+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: '",a.uniqueItem?b+="single":b+="multiple",b+="', zone: 'detail', element: 'website', item: "+a.data.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+a.categoryPJTriggered+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg><use xlink:href="/img/v4/icon-spritesheet.svg#icon-external-link"></use></svg><div class="local-detail__buttons__text">'+_("Website","local")+"</div></a>"),a.data.bookingLinks&&(b+="<a "+SecurityHelper.targetBlank()+' class="local-detail__buttons__button" href="'+a.data.bookingLinks+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: '",a.uniqueItem?b+="single":b+="multiple",b+="', zone: 'detail', element: 'book', item: "+a.data.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+a.categoryPJTriggered+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#calendar"></use></svg><div class="local-detail__buttons__text">'+_("Book","local")+"</div></a>"),b+="</div>",a.data.openingHours){b+='<hr class="local-detail__sep"><dl class="local-detail__category local-detail_opening_hours"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-clock"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-detail__content_title" id="'+actionManager.addClickListener(this,this.toggleOpeningHours)+'">',a.storeOpenComponent&&(b+=""+a.storeOpenComponent.render()),b+='<div class="local-detail__opening_hours--toggle"><svg class="local-detail__oph--down" width="24" height="24" viewBox="0 0 35 35"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-down"></use></svg></div></h3><dl class="local-detail_opening_hours--content">';var h=LocalHelper.getCurrentDayName(),i=ResultDetailLocalComponent.openingDays;if(i)for(var j,k=-1,l=i.length-1;k<l;){j=i[k+=1];var m=k>5?0:k+1;b+='<dt class="local-detail_opening_hours_day ',h===i18n.date.dayNames[m]&&(b+="active"),b+='">'+IAHelper.capitalizeFirstLetter(i18n.date.dayNames[m])+'</dt><dd class="local-detail_opening_hours_hours ',h===i18n.date.dayNames[m]&&(b+="active"),b+='">',a.data.openingHours[j]?b+=""+LocalHelper.formatDisplayOpeningHours(a.data.openingHours[j]):b+=""+_("isClosed","local"),b+="</dd>"}b+="</dl></dd></dl>"}if(a.data.images&&a.data.images.length>0){b+='<hr class="local-detail__sep"><dl class="local-detail__category local-detail__category--photos"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-camera"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-detail__content_title">'+_("Photos","local")+'</h3></dd></dl><div class="local-detail__albums">';var n=a.data.images;if(n)for(var o,k=-1,p=n.length-1;k<p;)o=n[k+=1],k<3&&(b+='<div class="',b+=0===k?"local-detail__albums--big":"local-detail__albums--mini",b+='"><a '+SecurityHelper.targetBlank()+" ",a.data.linksImages&&(b+='href="'+a.data.linksImages+'"'),b+=" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: '",a.uniqueItem?b+="single":b+="multiple",b+="', zone: 'detail', element: 'image', item: "+a.data.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+a.categoryPJTriggered+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+o.media+'" alt="'+a.data.name+'" title="'+a.data.name+'" height="140"></a></div>');b+="</div>"}if(b+='<div class="local-detail__content">',a.data.description&&(b+='<hr class="local-detail__sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-info"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-detail__content_title">'+_("Description","local")+'</h3><div class="local-detail__content_text">'+a.data.description+"</div></dd></dl>"),a.data.cookingStyles){b+='<hr class="local-detail__sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#hash"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-detail__content_title">'+_("Cooking styles","local")+'</h3><div class="local-detail__content_text">';var q=a.data.cookingStyles;if(q)for(var r,k=-1,s=q.length-1;k<s;)r=q[k+=1],b+=""+r,a.data.cookingStyles.length!=k+1&&(b+=",&nbsp;");b+="</div></dd></dl>"}if(a.data.amenities&&a.data.amenities.service){b+='<hr class="local-detail__sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-book-open"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-detail__content_title">'+_("Service","local")+'</h3><div class="local-detail__content_text">';var t=a.data.amenities.service;if(t)for(var u,k=-1,v=t.length-1;k<v;)u=t[k+=1],b+=0===k?""+IAHelper.capitalizeFirstLetter(u):""+u,a.data.amenities.service.length!=k+1&&(b+=",&nbsp;");b+="</div></dd></dl>"}if(a.data.amenities&&a.data.amenities.ambiance&&(b+='<hr class="local-detail__sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-loader"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-detail__content_title">'+_("Atmosphere ","local")+'</h3><div class="local-detail__content_text">'+a.data.amenities.ambiance+"</div></dd></dl>"),a.data.paymentType){b+='<hr class="local-detail__sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-credit-card"></use></svg></dt><dd class="local-detail__category--content"><div class="local-detail__payment"><h3 class="local-detail__content_title">'+_("Payment type","local")+'</h3><div class="local-detail__payment--type">';var w=a.data.paymentType;if(w)for(var x,y=-1,z=w.length-1;y<z;){x=w[y+=1];var A=LinkHelper.slugalize(x.toLowerCase());b+='<span class="local-detail__payment--icon local-detail__payment--'+A+'" title="'+x.toLowerCase()+'"></span>'}b+="</div></div></dd></dl>"}if(a.data.amenities&&a.data.amenities.recommendations){b+='<hr class="local-detail__sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#hash"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-detail__content_title">'+_("Recommandations","local")+'</h3><div class="local-detail__content_text">';var B=a.data.amenities.recommendations;if(B)for(var C,k=-1,D=B.length-1;k<D;)C=B[k+=1],b+=0===k?""+IAHelper.capitalizeFirstLetter(C):""+C,k+1!=a.data.amenities.recommendations.length&&(b+=",&nbsp;");b+="</div></dd></dl>"}if(a.data.amenities&&a.data.amenities.rooms&&(b+='<hr class="local-detail__sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#hash"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-detail__content_title">'+_("Rooms","local")+'</h3><div class="local-detail__content_text">'+a.data.amenities.rooms+"</div></dd></dl>"),a.data.amenities&&a.data.amenities.reseaux&&(b+='<hr class="local-detail__sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#hash"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-detail__content_title">'+_("Reseaux","local")+'</h3><div class="local-detail__content_text">'+a.data.amenities.reseaux+"</div></dd></dl>"),a.data.amenities&&a.data.amenities.capacity){b+='<hr class="local-detail__sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#hash"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-detail__content_title">'+_("Capacity","local")+'</h3><div class="local-detail__content_text">';var E=a.data.amenities.capacity;if(E)for(var F,k=-1,G=E.length-1;k<G;)F=E[k+=1],b+=""+F,k+1<a.data.amenities.capacity.length&&(b+=",&nbsp;");b+="</div></dd></dl>"}b+="</div></div>"}return b},a.result_list_local=function(a){var b="";if(a.ghostLoading)b+=""+this.renderPartial("result_list_local_ghost_loading",a);else if(a.data&&a.data.items&&a.data.items.length>0){BrowserHelper.isTabletOrMobile&&a.localFiltersMonitor&&(b+='<div class="result_page_local__filters">'+a.localFiltersMonitor.render()+"</div>");var c=a.data.items;if(c)for(var d,e=-1,f=c.length-1;e<f;){d=c[e+=1];var g=e+1===a.data.items.length;b+=""+this.renderPartial("result_list_local_item",{type:a.data.type,item:d,context:a.context,itList:this,isLastItem:g,index:e,query:LocalHelper.encodeQuery(a.query)})}"pages_jaunes"===a.data.type&&(b+='<div class="result_list_local-footer_info"><span class="icon icon-information"></span>&nbsp;'+_("Per","local")+'&nbsp;<a href="https://www.pagesjaunes.fr/" '+SecurityHelper.targetBlank()+">PagesJaunes</a></div>")}else this.hasFilters()?b+="<div class='result_local_no-result-text'>"+_("No results for the selected filters.<br>Please select new ones and relaunch the search.","local")+"</div>":this.hasMoved()?b+="<div class='result_local_no-result-text'>"+_("No local result in this area.<br><div class='result_local_no-result-text--mini'>Try to move to another area or zoom out.</div>","local")+"</div>":null!==a.query?b+="<div class='result_local_no-result-text'>"+_("No local result matched your query.<br><a class='result_local_no-result-link' href='/{url}'>Show the Web results for \"{query}\".</a>","local",{url:window.location.search,query:LocalHelper.encodeQuery(a.query)})+"</div>":b+="<div class='result_local_no-result-text'>"+_("No local result matched your query.","local",{url:window.location.search,query:LocalHelper.encodeQuery(a.query)})+"</div>";return b},a.result_list_place_local=function(a){var b="";if(a.ghostLoading)b+='<div class="result-local-city_nearby"><hr class="result-local-city_sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-camera"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-city__content_title">'+_("Places of interest","local")+"</h3></dd></dl>"+this.renderPartial("result_list_place_local_ghost_loading",a)+"</div>";else if(a.data&&(a.data.items.length>1||a.data.items[0].nearby&&a.data.items[0].nearby.length>0)){b+='<div class="result-local-city_nearby"><hr class="result-local-city_sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-camera"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-city__content_title">'+_("Places of interest","local")+'</h3></dd></dl><div class="result-local-city_nearby_list">';var c=0,d=a.hasLoadMorePlace?a.data.items:a.data.items[0].nearby,e=d;if(e)for(var f,g=-1,h=e.length-1;g<h;)if(f=e[g+=1],f.name){var i=(g+1-c)%3==0;b+=""+this.renderPartial("result_local_city_places",{isEndOfLine:i,poi:f,parent:this,type:a.data.type,hasLoadMorePlace:a.hasLoadMorePlace})}else c+=1;b+="</div>",a.hasLoadMorePlace||(b+='<div class="result-local-city_nearby_poi result-local-city_nearby_more" id="'+actionManager.addClickListener(this,this.displayNearbyPOIs)+'" title="'+_("See more points of interest","local")+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.data.type+"', template: 'single', zone: 'list', element: 'morePlaces', item: 1, query: '"+LocalHelper.encodeQuery(a.query)+'\', context: \'true\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg width="46" height="46" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#plus"></use></svg></div>'),b+="</div>"}return b},a.result_mini_detail_local=function(a){var b="";if(a.data)if("city"===a.type)b+='<div class="result_page_local__mini_detail result_page_local__mini_detail_city" id="'+actionManager.addClickListener(this,this.openCityMobile,{entity:a.data})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'single', zone: 'map', element: 'item', item: 1, query: '"+LocalHelper.encodeQuery(a.query)+'\', context: \'true\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+this.renderPartial("result_local_city_content",{view:"short",item:a.data,query:LocalHelper.encodeQuery(a.query),type:a.type,parent:a.itList})+"</div>";else{if(b+='<div class="result_page_local__mini_detail" id="'+actionManager.addClickListener(this,this.clickListItem,{entity:a.data})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: '",a.isSingleItem?b+="single":b+="multiple",b+="', zone: 'map', element: 'item', item: "+a.data.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+a.categoryPJTriggered+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">',a.isSingleItem||(b+='<span class="result_page_local__mini_detail--close" id="'+actionManager.addClickListener(this,this.closeMiniDetail,{item:a.data})+'"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1529484108256#circle-close"></use></svg></span>'),a.data.picture?b+='<div class="result-local__image"><img src="'+a.data.picture+'" alt="'+a.data.name+'" title="'+a.data.name+'"/></div>':b+='<div class="result-local__no-image"><svg width="40" height="40" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#image"></use></svg></div>',b+='<div class="result-local__details"><h3 class="result-local__title">'+a.data.name,a.data.starCount&&(b+="&nbsp;"+a.data.starCount+"<sup>★</sup>"),b+="</h3>",a.data.category){b+='<div class="result-local__category" title="'+LocalHelper.formatDisplayCategory(a.data.category)+'">';var c=a.data.category;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div class="result-local__category_item">'+d+"</div>";b+="</div>"}if(a.data.address&&(b+='<div class="result-local__address">'+a.data.address+"</div>"),a.data.review&&a.data.review.count){b+='<div class="result-local__review">';for(var g=0;g<a.data.review.mark;g++)b+='<svg class="local_star_container active" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';for(var g=0;g<5-a.data.review.mark;g++)b+='<svg class="local_star_container empty" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';b+='&nbsp;<a class="result-local__reviews" href="'+a.data.review.links+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: '",a.isSingleItem?b+="single":b+="multiple",b+="', zone: 'map', element: 'reviews', context: 'true', category: '"+a.categoryPJTriggered+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_n("%d review","%d reviews",a.data.review.count,"local")+"</a></div>"}else b+='<div class="result-local__review"><span class="result-local__no-reviews">'+_("No reviews","local")+"</span></div>";b+="</div></div>"}return b},a.result_partner_local=function(a){var b=""
;return"pages_jaunes"===a.type&&(a.view===ResultPartnerLocalComponent.VIEW.LOGOANDBACK?b+='<div class="local__partner local__partner--callback"><div class="local__partner_button" id="'+actionManager.addClickListener(this,this.back)+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#arrow-left"></use></svg><span>'+_("Back to the list ","local")+'</span></div><span class="local__partner_tooltip_right">'+this.renderPartial("result_partner_tooltip_local",{parent:this})+'</span><span class="local__partner_icon local__partner_icon_pages_jaunes"></span></div>':b+='<div class="local__partner"><span class="local__partner_icon local__partner_icon_pages_jaunes"></span><span class="local__partner_text">PagesJaunes</span><span class="local__partner_tooltip_right">'+this.renderPartial("result_partner_tooltip_local",{parent:this})+"</span></div>"),b},a.result_privacy_popup_local=function(a){var b="";return a.show&&(b+='<div class="privacy_popup_local_background"></div><div class="privacy_popup_local "><div class="privacy_popup--header"></div><div class="privacy_popup_local_content"><button class="privacy_popup_local_close" id="'+actionManager.addClickListener(this,this.hidePrivacyPopup)+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-x"></use></svg></button><h2 class="privacy_popup_local_title">'+_("Geolocation with privacy!","Local")+'</h2><p class="privacy_popup_local_text">'+_("You need to know where you are?","local")+'</p><p class="privacy_popup_local_text">'+_("Please allow your application to access your location so that it can tell you.","local")+'</p><p class="privacy_popup_local_text">'+_("As stated in our <a href='https://about.qwant.com/legal/privacy' target='_blank'>privacy policy</a>, Qwant will not store your geolocation information. We don't want to know your whereabouts.","local")+'</p><button class="privacy_popup_local_accept" id="'+actionManager.addClickListener(this,this.acceptPrivacyPopup)+'">'+_("Ok, I've got it.","local")+"</button></div></div>"),b},a.result_store_open_local=function(a){var b="";return a.openingHoursState!==ResultStoreOpenLocalComponent.storeOpeningState.none&&(a.openingHoursState===ResultStoreOpenLocalComponent.storeOpeningState.closed?(b+=""+_("isClosed","local"),a.openingTime&&(b+=" - "+_("open at","local")+" "+a.openingTime),b+='<div class="local-opening_hours--state closed"></div>'):(b+=""+_("isOpen","local"),a.closingTime&&(b+=" - "+_("until","local")+" "+a.closingTime),b+='<div class="local-opening_hours--state open"></div>')),b},a.result_wrapper_local=function(a){var b='<div class="result_page_local__item_list" id="result_page_local__item_list">';return(BrowserHelper.isTabletOrMobile||window.innerWidth<1024)&&"list"===a.view&&(b+='<div class="result_page_local__hide-list" id="'+actionManager.addClickListener(this,this.hideList)+'"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-up"></use></svg><span>'+_("Hide results","local")+'</span><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-up"></use></svg></div>'),a.resultPartner&&(b+=""+a.resultPartner.render()),a.resultDetail&&"detail"===a.view&&(b+=""+a.resultDetail.render()),a.resultList&&"list"===a.view&&(b+=""+a.resultList.render()),b+="</div>"},a.local_page=function(a){var b='<link rel="stylesheet" href="css/maps/mapbox-gl.css">'+new SearchBarComponent({q:a.rawKeyPhrase,page:"local",component:a}).render()+'<div class="overview_local" id="result_page_local_mobile_container"><div class="result_page_local__header"><div class="result_page_local__header_quit"><a id="result_page_local__quit" class="result_page_local__quit" href="/?q='+a.rawKeyPhrase+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#arrow-left"></use></svg><span class="result_page_local__quit--label">'+_("Return to search","local")+'</span></a><div class="result_page_local__quit_details_mobile" id="'+actionManager.addClickListener(this,this.returnToMap)+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#arrow-left"></use></svg><span>'+_("Return to the map","local")+"</span></div></div>";return a.localFiltersMonitor&&!BrowserHelper.isTabletOrMobile&&window.innerWidth>1024&&(b+='<div class="result_page_local__filters">'+a.localFiltersMonitor.render()+"</div>"),b+='</div><div class="result_page_local__map"><div id="ribbon--map-container" class="ribbon--map-container"><div id="result_page_local__map"><div id="map_container"></div><div id="'+actionManager.addClickListener(this,this.returnToMap)+'" id="result_page_local_map_mask_button" class="result_page_local_map_mask_button"></div></div></div><div class="result_page_local__no-result">'+_("No results","local")+'</div><div class="maps_global--button-shadowed-box maps_global--button-shadowed-box--bigger"><a href="/?q='+a.rawKeyPhrase+'" class="maps_global--button ribbon--map-info__button--minimize" title="'+_("minimize","maps")+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#minimize"></use></svg></a></div><div class="maps_global--button-shadowed-box maps_global--button-shadowed-box--external-link"><div id="'+actionManager.addClickListener(this,this.redirectMaps)+'" class="maps_global--button maps_global--button__external-link" title="'+_("Qwant Maps","maps")+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?v=2018#external-link"></use></svg></div></div><div class="maps_global--button-shadowed-box maps_global--button-shadowed-box--2d"><div id="'+actionManager.addClickListener(this,this.toggle3D)+'" class="maps_global--button maps_global--button__2d"><svg id="icon-compass" class="maps_global--button__2d--icon" viewBox=\'0 0 20 20\'><polygon class="maps_global--button__2d-north" fill=\'#333333\' points=\'6,9 10,1 14,9\'/><polygon class="maps_global--button__2d-south" fill=\'#CCCCCC\' points=\'6,11 10,19 14,11 \'/></svg></div></div><div class="maps_global--button-shadowed-box maps_global--button-shadowed-box--group"><div id="'+actionManager.addClickListener(this,this.switchGeolocation)+'" class="maps_global--button maps_global--button__gps" title="'+_("localization","maps")+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?v=2018#icon-gps"></use></svg></div>',(!BrowserHelper.isTabletOrMobile||window.innerWidth>1024)&&(b+='<div id="'+actionManager.addClickListener(this.map,this.map.zoomMore)+'" class="maps_global--button maps_global--button__zoomMore" title="'+_("zoom","maps")+'"><svg class="" title="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#plus"></use></svg></div><div id="'+actionManager.addClickListener(this.map,this.map.zoomLess)+'" class="maps_global--button maps_global--button__zoomLess" title="'+_("dezoom","maps")+'"><svg class="" title="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#minus"></use></svg></div>'),b+="</div></div>",a.resultWrapper&&(b+=""+a.resultWrapper.render()),(BrowserHelper.isTabletOrMobile||window.innerWidth<1024)&&(b+='<div class="result_page_local__see-list" id="'+actionManager.addClickListener(this,this.showList)+'"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-chevron-up"></use></svg><span>'+_("Show all the results","local")+'</span><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-chevron-up"></use></svg></div>',a.miniMobileDetail&&(b+=""+a.miniMobileDetail.render())),b+="</div>",a.privacyPopup&&(b+=""+a.privacyPopup.render()),b},a._result_list_local_ghost_loading=function(a){for(var b='<div class="ghost__load__local__list">',c=0;c<5;c++)b+='<div class="ghost__load__local__list--item"><div class="ghost__load__local__list--pict"></div><div class="ghost__load__local__list--content"><div class="ghost__load__local__list--title"></div><div class="ghost__load__local__list--infos"></div><div class="ghost__load__local__list--infos2"></div><div class="ghost__load__local__list--infos"></div><div class="ghost__load__local__list--phone"></div></div></div>';return b+="</div>"},a._result_list_local_item=function(a){var b="",c=a.item;if("city"===a.type)b+='<div class="result result-local result-local-city">'+this.renderPartial("result_local_city_content",{view:"all",item:c,query:LocalHelper.encodeQuery(a.query),type:a.type,parent:a.itList})+"</div>";else{var d=c.categoryTriggered?c.categoryTriggered:"unknown";if(b+='<div class="result result-local" id="'+c.key+'"><span class="result-local--border-top"></span><div class="result-local--item" id="'+actionManager.addClickListener(a.itList,a.itList.clickListItem,{entity:c,context:a.context,index:a.index})+'" '+actionManager.addHoverListener(a.itList,a.itList.itemHoverIn,a.itList.itemHoverOut,{item:c})+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'multiple', zone: 'list', element: 'item', item: "+c.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+d+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"></div>',c.picture?b+='<div class="result-local__image"><img src="'+c.picture+'" alt="'+c.name+'" title="'+c.name+'"/></div>':b+='<div class="result-local__no-image"><svg width="40" height="40" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#image"></use></svg></div>',b+='<div class="result-local__details"><h3 class="result-local__title" id="'+actionManager.addClickListener(a.itList,a.itList.clickListItem,{entity:c,context:a.context})+'" '+actionManager.addHoverListener(a.itList,a.itList.itemHoverIn,a.itList.itemHoverOut,{item:c})+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'multiple', zone: 'list', element: 'item', item: "+c.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+d+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+c.name,c.starCount&&(b+="&nbsp;"+c.starCount+"<sup>★</sup>"),b+="</h3>",c.category){b+='<div class="result-local__category" title="'+LocalHelper.formatDisplayCategory(c.category)+'" id="'+actionManager.addClickListener(a.itList,a.itList.clickListItem,{entity:c,context:a.context})+'" '+actionManager.addHoverListener(a.itList,a.itList.itemHoverIn,a.itList.itemHoverOut,{item:c})+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'multiple', zone: 'list', element: 'item', item: "+c.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+d+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">';var e=c.category;if(e)for(var f,g=-1,h=e.length-1;g<h;)f=e[g+=1],b+='<div class="result-local__category_item">'+f+"</div>";b+="</div>"}if(c.address&&(b+='<div class="result-local__address">'+c.address+"</div>"),b+='<div class="result-local__review">',c.review&&c.review.count){for(var i=0;i<c.review.mark;i++)b+='<svg class="local_star_container active" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';for(var i=0;i<5-c.review.mark;i++)b+='<svg class="local_star_container empty" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';b+='&nbsp;<a class="result-local__reviews" href="'+c.review.links+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'multiple', zone: 'list', element: 'reviews', item: "+c.key+", context: 'true', category: '"+d+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_n("%d review","%d reviews",c.review.count,"local")+"</a>"}else b+='<span class="result-local__no-reviews">'+_("No reviews","local")+"</span>";b+="</div>",c.phoneNumbers&&(b+='<div class="result-local__phone-numbers-button" id="'+actionManager.addClickListener(a.itList,a.itList.showPhoneNumbers,{phoneNumber:c.phoneNumbers[0].phoneNumber})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'multiple', zone: 'list', element: 'phone', item: "+c.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+d+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg><use xlink:href="/img/v4/icon-spritesheet.svg#icon-phone"></use></svg>'+_("Show phone number","local")+"</div>"),c.reviewQuotes&&c.reviewQuotes.length&&(b+='<div class="result-local__comments">"'+c.reviewQuotes[0]+'"</div>'),c.offer&&c.offer.price&&c.offer.price.amount&&(b+='<div class="result-local__price">'+c.offer.price.amount+c.offer.price.currency+'&nbsp;<a href="'+c.offer.link.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'multiple', zone: 'list', element: 'book', item: "+c.key+", query: '"+LocalHelper.encodeQuery(a.query)+"', context: 'true', category: '"+d+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="result-local__reseller">'+c.offer.link.domain+"</span></a></div>"),b+="</div>",a.isLastItem||(b+='<hr class="result-local--item_border">'),b+='<span class="result-local--border-bottom"></span></div>'}return b},a._result_list_place_local_ghost_loading=function(a){for(var b="",c=0;c<5;c++)b+='<div class="ghost__load__local__list_poi',2===c&&(b+=" ghost__load__local__list_poi_endofline"),b+='"><div class="ghost__load__local__list_poi--image"></div><span></span></div>';return b},a._result_local_city_content=function(a){var b='<dl class="local-detail__category local-city--header"><dt class="local-detail__category--header">';if(a.item.place&&!a.item.street?b+='<svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-residential-community"></use></svg>':b+='<svg width="27" height="27" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-pin-fit"></use></svg>',b+='</dt><dd class="local-detail__category--content"><h3 class="result-local__title',!a.item.street&&a.item.place&&(b+=" result-local__title_city"),b+='"',a.item.place&&(b+=' title="'+a.item.place+'"'),b+=">",a.item.street?b+=""+a.item.street:a.item.place?b+=""+a.item.place:b+=a.item.coordinates.latitude+", "+a.item.coordinates.longitude,b+="</h3>",a.item.street&&a.item.place?b+='<div class="local-city--street_city">'+a.item.place+"</div>":a.item.placeType&&(b+='<div class="local-city--street_city">'+IAHelper.capitalizeFirstLetter(a.item.placeType)+"</div>"),a.item.country&&constants.regionToTranslation[a.item.country]&&(b+='<div class="local-city--country">'+constants.regionToTranslation[a.item.country]()+"</div>"),(a.item.street||a.item.place)&&"all"===a.view&&(b+='<a class="result-local__navigation" href=" https://fr.mappy.com/itineraire#/1/1/M2/TItinerary/IFR'+LocalHelper.getPlaceStreetItinerary(a.item)+'#xtor=CS1-104" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'single', zone: 'list', element: 'itinerary', item: 1, query: '"+LocalHelper.encodeQuery(a.query)+'\', context: \'true\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-corner-up-right"></use></svg>'+_("Itinerary","local")+"</a>"),b+="</dd></dl>","all"===a.view){if(a.item.info){if(b+='<hr class="result-local-city_sep"><div class="local-city__info">',a.item.info.description&&(b+='<dl class="local-detail__category local__category__description"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-info"></use></svg></dt><dd class="local-detail__category--content"><p>'+a.item.info.description+"</p>",a.item.info.url&&(b+='<a class="result-local-city__description_link" href="'+a.item.info.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'single', zone: 'list', element: 'wikipedia', item: 1, query: '"+a.query+'\', context: \'true\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#chevrons-right"></use></svg>'+_("Wikipedia","maps")+"</a>"),b+="</dd></dl>"),a.item.info.images){a.item.info.description&&(b+='<hr class="result-local-city_sep">'),b+='<dl class="local-detail__category local-detail__category--photos"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-camera"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-city__content_title">'+_("Photos","local")+'</h3></dd></dl><div class="local-city__albums">';var c=a.item.info.images;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],e<3&&(b+='<div class="',b+=0===e?"local-city__albums--big":"local-city__albums--mini",b+='"><img src="'+d+'" alt="'+a.item.place+'" title="'+a.item.place+'" height="140"></div>');b+="</div>"}b+="</div>"}LocalHelper.categorySearchNearbyIsActive(a.item.country)&&(b+='<div class="result-local-city_proximity"><hr class="result-local-city_sep"><dl class="local-detail__category"><dt class="local-detail__category--header"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#compass"></use></svg></dt><dd class="local-detail__category--content"><h3 class="local-city__content_title">'+_("Search nearby","local")+'</h3><div class="result-local-city_proximity_buttons"><div class="result-local-city_proximity_button" id="'+actionManager.addClickListener(a.parent,a.parent.searchCategoriesNearby,{query:"bar"})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'single', zone: 'list', element: 'proximityBar', item: 1, query: '"+LocalHelper.encodeQuery(a.query)+'\', context: \'true\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="" title="" width="24" height="24" viewBox="0 0 15 15"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-bar"></use></svg><div class="result-local-city_proximity_button_text">'+_("Bar","local")+'</div></div><div class="result-local-city_proximity_button" id="'+actionManager.addClickListener(a.parent,a.parent.searchCategoriesNearby,{query:"restaurant"})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'single', zone: 'list', element: 'proximityRestaurant', item: 1, query: '"+LocalHelper.encodeQuery(a.query)+'\', context: \'true\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="" title="" width="24" height="24" viewBox="0 0 15 15"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-restaurant"></use></svg><div class="result-local-city_proximity_button_text">'+_("Restaurant","local")+'</div></div><div class="result-local-city_proximity_button" id="'+actionManager.addClickListener(a.parent,a.parent.searchCategoriesNearby,{query:"hotel"})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'single', zone: 'list', element: 'proximityHotel', item: 1, query: '"+LocalHelper.encodeQuery(a.query)+'\', context: \'true\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="" title="" width="24" height="24" viewBox="0 0 15 15"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-building"></use></svg><div class="result-local-city_proximity_button_text">'+_("Hotels","local")+"</div></div></div></dd></dl></div>"),a.parent.resultListPlace&&(b+=""+a.parent.resultListPlace.render()),a.item.street&&(b+='<hr class="result-local-city_sep">')}return b},a._result_local_city_places=function(a){var b='<div class="result-local-city_nearby_poi';return a.isEndOfLine&&(b+=" city_poi_endofline"),b+='" id="'+actionManager.addClickListener(a.parent,a.parent.searchNearbyPOI,{query:a.poi.name,entity:a.poi.key})+'" ',a.hasLoadMorePlace&&(b+=""+actionManager.addHoverListener(a.parent,a.parent.itemHoverIn,a.parent.itemHoverOut,{item:a.poi})),b+=" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'local', type: '"+a.type+"', template: 'single', zone: 'list', element: 'places', item: 1, query: '"+a.poi.name+'\', context: \'true\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="result-local-city_nearby_poi--image"><img src="'+a.poi.picture+'" alt="'+a.poi.name+'" title="'+a.poi.name+'"/></div><p>'+a.poi.name+"</p></div>"},a._result_partner_tooltip_local=function(a){var b="";return"FR"===applicationState.user.userSetting.getSearchRegionCode()&&(b+='<span class="local__partner_tooltip--infos">'+_("Partnership","local")+'</span><span id="'+a.parent.tooltipID+'" class="local__partner_tooltip--button"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-info"></use></svg></span><span class="local__partner_tooltip--tooltip">'+a.parent.tooltip.render()+"</span>"),b},a._addon_content=function(a){var b='<div class="addon__content"><div class="addon__content--icon"><img src="'+a.addon.icon+'" /></div><a href="'+a.addon.url+"\" class=\"addon__content--add\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', context: 'addons', zone: 'add_button', element: '"+a.addon.slug+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="addon__content--add__plus"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#plus"></use></svg></a><div class="addon__content--content"><span class="addon__content--title">'+this.getLocalizedAddonName(a.addon.name)+'</span><span class="addon__content--note">',c=a.range;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<svg class="addon__content--star',"empty"===this.getAddonStarName(d,a.addon.note)&&(b+=" addon__content--star-empty"),b+='" viewbox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#',"half"===this.getAddonStarName(d,a.addon.note)&&(b+="icon-half-"),b+='star" /></svg>';return b+='</span><span class="addon__content--author">'+a.addon.author+"</span></div></div>"},a.addons=function(a){var b='<div class="addons__header"><div class="addons__header--background"></div><div class="addons__header--content"><a href="/" class="addons__header--return-btn"><svg class="addons__header--return-btn__icon" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#arrow-left"></use></svg></a><span class="addons__header--title">'+_("Qwant Addons","addons")+'</span></div></div><div class="addons__all"><span class="addons__all--title">'+_("All addons","addons")+'</span><div class="addons__all__list">';for(var c in a.addons)b+=""+this.renderPartial("addon_content",{addon:a.addons[c],range:[1,2,3,4,5]});return b+='</div></div><footer><div class="footer__block footer__block--left"><span class="footer__logo"></span></div><nav class="footer__block footer__block--menu"><a class="footer__menu--item" href="'+constants.StaticPagesInfos.PRIVACY.url()+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'privacy_qwant', component : 'addons_footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Privacy and Qwant","addons")+'</a><a class="footer__menu--item" href="https://www.mozilla.org/'+(-1!==this.getAvailableLanguages().indexOf(applicationState.user.userSetting.getInterfaceLanguage().shorthand)?applicationState.user.userSetting.getInterfaceLanguage().shorthand:"en-US")+'/privacy/websites/" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'privacy_mozilla', component : 'addons_footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Privacy and Mozilla","addons")+'</a><a class="footer__menu--item" href="'+constants.StaticPagesInfos.LN.url()+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'ln', component : 'addons_footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Legal notices","addons")+'</a><a class="footer__menu--item" href="'+constants.StaticPagesInfos.TOS.url()+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'ln', component : 'addons_footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Terms of Service","addons")+'</a><a class="footer__menu--item" href="'+constants.StaticPagesInfos.CONTACT.url()+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'contact', component : 'addons_footer', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Contact us","addons")+"</a></nav></footer>"},a.not_found=function(a){var b='<div class="not-found--head-ribbon"></div><div class="not-found--main-content"><div class="not-found--logo"><img src="/img/v4/logo-text';return 1===applicationState.user.userSetting.selectedTheme&&(b+="-white"),b+='.svg" /><div class="not-found--baseline">'+_("The search engine that respects your privacy","not_found")+'</div></div><div class="not-found--illustration"><div class="not-found--illustration-content"><div class="not-found--title">404 - '+_("Page not found.","not_found")+'</div><div class="not-found--desc">'+_("It's not you, it's us. Let's start over!","not_found")+'</div><a href="/"><button class="button button--blue">'+_("Back to Qwant.com","not_found")+"</button></a></div></div></div>"},a._overlay_image=function(a){var b='<div class="media_overlay__image media_overlay__image--v4"><div class="media_overlay__img-wrapper"><a href="'+a.mediaData.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.mediaData.media+"', overlay: 'image', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img alt="" src="'+a.mediaData.media_fullsize+'" onload="style.opacity=1; parentNode.style.background=\'none\'"></a></div><div class="media_overlay__info">';return BrowserHelper.isMobile&&(b+='<div class="media_overlay__info--mobile">'),b+='<h3 title="'+a.mediaData.title+'" >'+a.mediaData.title+'</h3><a class="media_overlay__info__domain" href="'+a.mediaData.url+'" '+SecurityHelper.targetBlank()+">"+UrlHelper.extractDomain(a.mediaData.url)+"</a><span>",a.mediaData.thumb_type&&(b+='<span class="media_overlay__info__thumb_type">'+a.mediaData.thumb_type+"</span>"),b+='<span class="media_overlay__info__size">'+a.mediaData.width+" x "+a.mediaData.height+"</span></span>",BrowserHelper.isMobile&&(b+="</div>"),b+='<div class="media_overlay__action__container"><span class="media_overlay__action',a.mediaData._id||(b+=" media_overlay__action--disabled"),b+='"><a id="'+actionManager.addClickListener(MediaOverlayActionComponent,MediaOverlayActionComponent.copyLinkToClipboard,{})+'" href="javascript:;" class="media_overlay__menu__item media_overlay__menu__item--copy-link"><svg class="media_overlay__action__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#share"></use></svg><span class="media_overlay__action__label" >'+_("Share","overlay")+'</span></a><input type="text" id="overlay-sharing-url"></span><span class="media_overlay__action media_overlay__action--report"><a id="'+actionManager.addClickListener(a,ResultFragmentComponent.toggleItemReport,{url:a.mediaData.media,type:"image",title:a.mediaData.title,domain:UrlHelper.extractDomain(a.mediaData.url),position:a.mediaData.index+1})+'" href="javascript:;" class="media_overlay__menu__item media_overlay__menu__item--create-note"><svg class="media_overlay__action__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?#icon-flag"></use></svg><span class="media_overlay__action__label" >'+_("Report","overlay")+'</span></a></span><span class="media_overlay__action"><a href="'+a.mediaData.media+'" '+SecurityHelper.targetBlank()+" class=\"media_overlay__menu__item media_overlay__menu__item--see-image\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.mediaData.media+"', overlay: '"+MediaOverlayComponent.media.type+"', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="media_overlay__action__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#maximize"></use></svg><span class="media_overlay__action__label" >'+_("Fullscreen","overlay")+'</span></a></span><span class="media_overlay__action media_overlay__action--website"><a href="'+a.mediaData.url+'" '+SecurityHelper.targetBlank()+" class=\"media_overlay__menu__item media_overlay__menu__item--see-website\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.mediaData.media+"', overlay: '"+MediaOverlayComponent.media.type+"', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="MediaOverlayActionComponent.website();LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="media_overlay__action__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#minimize"></use></svg><span class="media_overlay__action__label" >'+_("View website","overlay")+"</span></a></span></div></div></div>"},a._overlay_stream=function(a){var b='<div class="media_overlay__video stream_overlay_video">';return"special_event"===a.mediaData.section&&(b+='<a href="'+a.mediaData.banner_url+'" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'special_video_ribbon_out\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="stream_overlay_ribbon" src="',BrowserHelper.isRetina()?b+=""+a.mediaData.banner_idx2:b+=""+a.mediaData.banner_idx1,b+='" /></a>'),
b+='<iframe id="video__overlay__iframe" scrolling="no" src="https://stream.qwant.com/" allowfullscreen onload="parentNode.style.background=\'\'"></iframe><div class="media_overlay__info"><h3>'+a.mediaData.title+'</h3><span><a href="'+a.mediaData.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: 'all', type: 'special_video_url_out'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+UrlHelper.extractDomain(a.mediaData.url)+"</a></span><span>"+_("This video may be subject to copyright.","overlay")+"</span></div></div>"},a._overlay_twitch=function(a){return'<div class="media_overlay__image"><div class="media_overlay__img-wrapper"><iframe id="video__overlay__iframe" src="'+a.mediaData.url+'?autoplay=true&enablejsapi=1" allowfullscreen onload="parentNode.style.background=\'\'"></iframe></div><div class="media_overlay__info"><h3>'+a.mediaData.title+'</h3><a class="media_overlay__info__domain" href="'+a.mediaData.url+'" '+SecurityHelper.targetBlank()+">"+UrlHelper.extractDomain(a.mediaData.url)+"</a></div></div>"},a._overlay_video=function(a){var b="";if("special_event"===a.mediaData.section||"live"===a.mediaData.section)b+='<div class="media_overlay__video stream_overlay_video"><div class="media_overlay__video--banner-container"><a href="'+a.mediaData.banner_url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+MediaOverlayComponent.tab+'\', type: \'live_ribbon_out\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="stream_overlay_ribbon" src="',BrowserHelper.isRetina()?b+=""+a.mediaData.banner_idx1:b+=""+a.mediaData.banner_idx2,b+='" onerror="this.onerror=null;this.src=\'/img/player/banniere.jpg\';"/></a></div>',"live"===a.mediaData.section?b+=""+new LiveStreamPageComponent(this.route,{channelId:a.mediaData.channel_id,enablePreroll:a.mediaData.enable_preroll,adsFlux:a.mediaData.ads_flux,placeholder:a.mediaData.pict_live,kmv_params:a.mediaData.kmv_params}).render():(b+='<iframe id="video__overlay__iframe" src="'+a.mediaData.media,-1===a.mediaData.media.indexOf("?")?b+="?":b+="&",b+='autoplay=true&enablejsapi=1" allowfullscreen onload="parentNode.style.background=\'\'"></iframe>'),b+='<div class="media_overlay__info">',BrowserHelper.isMobile&&(b+='<div class="media_overlay__info--mobile">'),b+="<h3>"+a.mediaData.title+"</h3>",a.mediaData.desc_live&&(b+='<span class="media_overlay_desc_live">'+a.mediaData.desc_live+"</span>"),a.mediaData.link_live&&(b+='<a href="'+a.mediaData.link_live+'" '+SecurityHelper.targetBlank()+' class="media_overlay_link_live">'+UrlHelper.extractDomain(a.mediaData.link_live)+"</a>"),b+="<span>"+_("This video may be subject to copyright.","overlay")+"</span>",BrowserHelper.isMobile&&(b+='</div><div class="media_overlay__action__container"><span class="media_overlay__action"><a href="javascript:;" id="'+actionManager.addClickListener(this,this.kamoovFullscreen)+'" class="media_overlay__menu__item media_overlay__menu__item--see-image" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'overlay\', link: \''+a.mediaData.media+"', overlay: '"+MediaOverlayComponent.media.type+"', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="media_overlay__action__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#maximize"></use></svg><span class="media_overlay__action__label" >'+_("Fullscreen","overlay")+'</span></a></span><span class="media_overlay__action"><a href="',a.mediaData.link_live?b+=""+a.mediaData.link_live:b+=""+a.mediaData.url,b+='" '+SecurityHelper.targetBlank()+" class=\"media_overlay__menu__item media_overlay__menu__item--see-website\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.mediaData.media+"', overlay: '"+MediaOverlayComponent.media.type+"', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="MediaOverlayActionComponent.website();LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="media_overlay__action__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#minimize"></use></svg><span class="media_overlay__action__label" >'+_("View website","overlay")+"</span></a></span></div>"),b+="</div></div>";else{if(b+='<div class="media_overlay__image"><div class="media_overlay__img-wrapper">',a.mediaData.enableDisclaimer?b+='<div class="video__overlay__disclaimer" style="background: url(\''+a.mediaData.thumbnail+'\') no-repeat;background-size: cover;background-position: center;"><div class="video__overlay__disclaimer--mask"></div><div class="video__overlay__disclaimer--infos"><svg class="video__overlay__disclaimer--icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938516#icon-shield"></use></svg><h4>'+_("Information relating to your personal data","overlay")+"</h4><p>"+_("This video is not hosted by Qwant, which is not responsible for it's content or the personal data that may be used. The host of the video {brand} may, when it is displayed, access certain data such as your IP address and cookies, depending on its own privacy policies.","overlay",{brand:UrlHelper.extractDomain(a.mediaData.url)})+'</p><form><div class="video__overlay__disclaimer--remember"><div class="settings__form__option__checkbox--container"><label for="memorise" title="'+_("Enabled","switch")+'"></label><input type="checkbox" checked name="memorise" id="memorise" value="true"><span class="account_overlay__checkmark"></span></div><label for="memorise">'+_("Remember my choice and no longer display this message on this browser.","overlay")+'</label></div><button class="button button--grey" type="submit" id="'+actionManager.addClickListener(this,MediaOverlayActionComponent.submitDisclaimer,{target:"self"})+'">'+_("watch the video","overlay")+'</button><button class="button button--grey" type="submit" id="'+actionManager.addClickListener(this,MediaOverlayActionComponent.submitDisclaimer,{target:"blank"})+'">'+_("watch on ","overlay")+" "+UrlHelper.extractDomain(a.mediaData.url)+"</button></form></div></div>":(b+='<iframe id="video__overlay__iframe" src="'+a.mediaData.media,-1===a.mediaData.media.indexOf("?")?b+="?":b+="&",b+="autoplay=true&enablejsapi=1 allowfullscreen onload=\"parentNode.style.background=''\"></iframe>"),b+='</div><div class="media_overlay__info">',BrowserHelper.isMobile&&(b+='<div class="media_overlay__info--mobile">'),b+='<h3 title="'+a.mediaData.title+'" >'+a.mediaData.title+'</h3><a class="media_overlay__info__domain" href="'+a.mediaData.url+'" '+SecurityHelper.targetBlank()+">"+UrlHelper.extractDomain(a.mediaData.url)+"</a>",BrowserHelper.isMobile&&(b+="</div>"),b+='<div class="media_overlay__action__container"><span class="media_overlay__action"><a id="'+actionManager.addClickListener(MediaOverlayActionComponent,MediaOverlayActionComponent.copyLinkToClipboard,{})+'" href="javascript:;" class="media_overlay__menu__item media_overlay__menu__item--copy-link"><svg class="media_overlay__action__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#share"></use></svg><span class="media_overlay__action__label" >'+_("Share","overlay")+'</span></a><input type="text" id="overlay-sharing-url"></span>',!hasClass(document.body,"homepage")){b+='<span class="media_overlay__action media_overlay__action--report">';b+='<a href="'+("dailymotion"===a.mediaData.source?"https://faq.dailymotion.com/hc/"+applicationState.user.userSetting.searchLanguageKey+"/articles/360015762519-Signaler-un-comportement-ou-un-contenu-inappropri%C3%A9-":"https://support.google.com/youtube/answer/2802027?co=GENIE.Platform%3DDesktop&hl="+applicationState.user.userSetting.searchLanguageKey)+'" '+SecurityHelper.targetBlank()+" class=\"media_overlay__menu__item media_overlay__menu__item--create-note\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.mediaData.media+"', overlay: '"+MediaOverlayComponent.media.type+"', event: 'overlay_report', t: '"+MediaOverlayComponent.tab+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="media_overlay__action__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?#icon-flag"></use></svg><span class="media_overlay__action__label" >'+_("Report","overlay")+"</span></a></span>"}b+='<span class="media_overlay__action"><a href="'+a.mediaData.media+'" '+SecurityHelper.targetBlank()+" class=\"media_overlay__menu__item media_overlay__menu__item--see-image\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.mediaData.media+"', overlay: '"+MediaOverlayComponent.media.type+"', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="media_overlay__action__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#maximize"></use></svg><span class="media_overlay__action__label" >'+_("Fullscreen","overlay")+'</span></a></span><span class="media_overlay__action media_overlay__action--website"><a href="',"108"===a.mediaData.id?b+="https://www.awin1.com/cread.php?awinmid=6948&awinaffid=289389&clickref=Anniversaire+20+ans+Cdiscount&p=https%3A%2F%2Fwww.cdiscount.com%2Fcorner%2Ftemps-forts%2Fanniversaire-cdiscount%2Fv-1415207-1415207.html":b+=""+a.mediaData.url,b+='" '+SecurityHelper.targetBlank()+" class=\"media_overlay__menu__item media_overlay__menu__item--see-website\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.mediaData.media+"', overlay: '"+MediaOverlayComponent.media.type+"', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="MediaOverlayActionComponent.website();LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="media_overlay__action__icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#minimize"></use></svg><span class="media_overlay__action__label" >'+_("View website","overlay")+"</span></a></span></div></div></div>"}return b},a.media_overlay=function(a){return'<div class="media_overlay__wrapper noselect"><span id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.close)+'" class="media_overlay__logo__container"><svg class="media_overlay__logo" width="187.99184" height="108.75" viewBox="0 0 187.99184 108.75"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#logo-white"></use></svg></span><span id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.close)+'" class="media_overlay__close__container"><svg class="media_overlay__close" width="22" height="22" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#circle-close"></use></svg></span><div class="media_overlay__carousel"><div class="media_overlay__click-out" id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.close,{media:a})+'"></div>'+a.mediaOverlayDisplay.render()+a.mediaOverlayPreload.render()+"</div></div>"},a.media_overlay_action=function(a){var b="",c=a.actions;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],"WEBSITE"==d?b+='<a href="'+a.mediaData.url+'" '+SecurityHelper.targetBlank()+" class=\"media_overlay__menu__item media_overlay__menu__item--see-website\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.mediaData.media+"', overlay: '"+MediaOverlayComponent.media.type+"', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="MediaOverlayActionComponent.website();LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="media_overlay__menu__icon media_overlay__menu__icon--see-website"></div><br>'+_("View website","overlay")+"</a>":"FULLSCREEN"==d?b+='<a href="'+a.mediaData.media+'" '+SecurityHelper.targetBlank()+" class=\"media_overlay__menu__item media_overlay__menu__item--see-image\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.mediaData.media+"', overlay: '"+MediaOverlayComponent.media.type+"', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="media_overlay__menu__icon media_overlay__menu__icon--see-image"></div><br>'+_("Fullscreen","overlay")+"</a>":"COPY_URL"==d?a.mediaData._id&&(b+='<a id="'+actionManager.addClickListener(MediaOverlayActionComponent,MediaOverlayActionComponent.copyLinkToClipboard,{})+'" href="javascript:;" class="media_overlay__menu__item media_overlay__menu__item--copy-link"><div class="media_overlay__menu__icon icon media_overlay__menu__icon--url"></div><br>'+_("Share","overlay")+'</a><input type="text" id="overlay-sharing-url">'):"MINIMIZE"==d?b+='<a id="'+actionManager.addClickListener(VideoOverlay,VideoOverlay.minimize)+'" href="javascript:;" class="media-overlay__menu__item media-overlay__menu__item--minimize"><div class="media_overlay__menu__icon--player"></div><br>'+_("Reduce","overlay")+"</a>":"REPORT"==d&&config_get("report.from-users.enabled")&&applicationState.user.canReport()&&(b+=""+this.renderPartial("report_content_overlay",a.mediaData));return b},a.media_overlay_display=function(a){var b="";if(a.mediaData){var c="s"===a.type.substr(a.type.length-1,1)?a.type.substr(0,a.type.length-1):a.type;b+=""+this.renderPartial("overlay_"+c,{mediaData:a.mediaData})}return b},a.media_overlay_preload=function(a){var b="";return a.media&&(b+='<div class="media-overlay__media-preload">',a.medias.count>0&&a.medias[Math.floor(a.medias.count-1)]&&a.medias[Math.floor((a.medias.count-1)/50)].items[(a.medias.count-1)%50]&&(b+='<img src="'+a.medias[Math.floor((a.medias.count-1)/50)].items[(a.medias.count-1)%50].media_fullsize+'">'),a.medias&&a.medias[Math.floor((a.medias.count+1)/50)]&&a.medias[Math.floor((a.medias.count+1)/50)].items[(a.medias.count+1)%50]&&(b+='<img src="'+a.medias[Math.floor((a.medias.count+1)/50)].items[(a.medias.count+1)%50].media_fullsize+'">'),b+="</div>"),b},a._news_block=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c="";return a.item&&""!==a.item.getBigTitle()&&""!==a.item.getBigDesc()&&(c+='<a class="news_block" href="'+a.item.getUrl()+'" '+a.item.getTarget()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: 'news', type: 'news_block', position: '"+(a.index+1)+"', category: '"+a.item.getCategory()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="news_block__image--container">'+new ImageComponent({src:a.item.getMedia().getBig(),fallbackSrc:"/img/error/news_error--large.png",classes:"news_block__image",attrList:{alt:UrlHelper.fixedEncodeURIComponent(a.item.getBigTitle()),title:UrlHelper.fixedEncodeURIComponent(a.item.getBigTitle())},lazyload:!0}).render()+'</div><h3 class="news_block__title" title="'+b(a.item.getBigTitle())+'">'+a.item.getBigTitle()+"</h3>",""!==a.item.getDomain()&&(c+='<div class="news_block__domain" title="'+b(a.item.getDomain())+'"><span class="icon icon-news-world"></span>'+UrlHelper.removeProtocol(a.item.getDomain())+"</div>"),""!==a.item.getDate()&&(c+='<div class="news_block__date"><span class="icon icon-date"></span>'+a.item.getDate()+"</div>"),c+='<span class="news_block__desc">'+a.item.getBigDesc()+"</span></a>"),c},a._news_column_list=function(a){var b='<div class="news_column_list';1===a.numberOfElement&&(b+="--with-only-one-element"),b+='">';var c=a.rows;if(c)for(var d,e=-1,f=c.length-1;e<f;){d=c[e+=1],b+='<div class="news_column_list_row',1===d.length&&(b+="--with-only-one-element"),b+='">';var g=d;if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],b+=""+this.renderPartialIfNecessary(a.subPartial,{item:h,index:2*e+i+a.index});b+="</div>"}return b+="</div>"},a._news_list=function(a){var b="",c=a.items;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+=""+this.renderPartialIfNecessary(a.subPartial,{item:d,index:e+a.index});return b},a._news_list_item=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c="";return a.item&&""!==a.item.getBigTitle()&&""!==a.item.getBigDesc()&&(c+='<a class="news_list_item" href="'+a.item.getUrl()+'" '+a.item.getTarget(),"homepage"==PartialMosaicComponent.customPage?c+="onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: 'news', type: 'news_list_item', position: '"+(a.index+1)+"', category: '"+a.item.getCategory()+"'})\"":c+="onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'customPage', element: 'news', type: '"+PartialMosaicComponent.customPage+"', slug: '"+OverviewPageComponent.slug+"', position: '"+(a.index+1)+"'})\"",c+='onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="news_list_item__image--container">'+new ImageComponent({src:a.item.getMedia().getShort(),fallbackSrc:"/img/error/news_error--large.png",classes:"news_list_item__image",attrList:{alt:UrlHelper.fixedEncodeURIComponent(a.item.getBigTitle()),title:UrlHelper.fixedEncodeURIComponent(a.item.getBigTitle())},lazyload:!0}).render()+'</div><h3 class="news_list_item__title" title="'+b(a.item.getBigTitle())+'">'+a.item.getShortTitle()+"</h3>",""!==a.item.getDomain()&&(c+='<div class="news_list_item__domain" title="'+b(a.item.getDomain())+'"><span class="icon icon-news-world"></span>'+UrlHelper.removeProtocol(a.item.getDomain())+"</div>"),""!==a.item.getDate()&&(c+='<div class="news_list_item__date"><span class="icon icon-date"></span>'+a.item.getDate()+"</div>"),c+='<span class="news_list_item__desc">'+a.item.getShortDesc().replace(/%22/g,"&#34;")+"</span></a>"),c},a.partial_mosaic=function(a){var b="";if(a.data){var c=a.pattern;if(c)for(var d,e=-1,f=c.length-1;e<f;){d=c[e+=1];var g=d.length;b+='<div class="partial_mosaic_'+g+"_cells partial_mosaic_spacing--"+this.blockSpacing+'">';var h=d;if(h)for(var i,j=-1,k=h.length-1;j<k;)if(i=h[j+=1],void 0!==i.index&&a.data[i.index]||void 0!==i.beginning&&a.data[i.beginning]){if(b+='<div class="partial_mosaic_cell">',"object"===i.type)b+=""+this.renderPartialIfNecessary(i.partial,{item:a.data[i.index],index:i.index});else if("array"===i.type){var l=a.data.slice(i.beginning,i.end);b+=""+this.renderPartialIfNecessary(i.partial,{subPartial:i.subPartial,items:l,index:i.beginning})}else if("table"===i.type){var m=[],n=[],l=a.data.slice(i.index,i.rowNumber*i.columnNumber+i.index),o=l;if(o)for(var p,q=-1,r=o.length-1;q<r;)p=o[q+=1],m.push(p),m.length===i.columnNumber&&(n.push(m),m=[]);m.length>0&&n.push(m),b+=""+this.renderPartialIfNecessary(i.partial,{subPartial:i.subPartial,rows:n,numberOfElement:l.length,index:i.index})}b+="</div>"}b+="</div>"}}return b},a["_auto-complete"]=function(a){var b='<div class="result-list__top"><div class="result-list__search-holder">'+new SearchBarComponent({q:a.rawKeyPhrase}).render();return ExtensionHelper.displayExtensionBtn()&&(b+='<button class="button button--blue home__snippet__extension" id="'+actionManager.addClickListener(this,ExtensionHelper.openExtensionOverlay,{element:"header-button"})+'">'+_("Add Qwant to {browser}","footer",{browser:BrowserHelper.getBrowserInformations().name})+"</button>"),b+="</div></div>"},a._corona_query_warning=function(a){var b='<div class="query-warning warning-block--container"><h3 class="query-warning-title">[Coronavirus COVID-19]</h3><div class="warning-block-text">';return"FR"===applicationState.user.userSetting.searchRegionKey?b+="<p>Des questions ? Vous pouvez appeler le <b>"+(BrowserHelper.isTabletOrMobile?'<a href="tel:0800130000">0800 130 000</a>':"0800 130 000")+'</b> (appel gratuit)</p><p>En cas de symptômes, appelez un médecin. Ne composez le 15 que si les symptômes s\'aggravent avec des difficultés respiratoires et signes d’étouffement.</p><p>Conseils et informations:</p><a href="https://www.gouvernement.fr/info-coronavirus" '+SecurityHelper.targetBlank()+' class="warning-block--link"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#external-link"></use></svg>https://www.gouvernement.fr/info-coronavirus</a><a href="https://www.who.int/fr/emergencies/diseases/novel-coronavirus-2019/advice-for-public" '+SecurityHelper.targetBlank()+' class="warning-block--link"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#external-link"></use></svg>https://www.who.int/fr/emergencies/diseases/novel-coronavirus-2019/advice-for-public</a>':b+="<p>"+_("Get the most updated and accurate information and advice about the Coronavirus disease (COVID-19) outbreak from the World Health Organization:","query_warning")+'</p><a href="'+_("https://www.who.int/emergencies/diseases/novel-coronavirus-2019","query_warning")+'" '+SecurityHelper.targetBlank()+' class="warning-block--link"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#external-link"></use></svg>'+_("https://www.who.int/emergencies/diseases/novel-coronavirus-2019","query_warning")+"</a>",b+="</div></div>"},a._mask_query_warning=function(a){return'<div class="query-warning warning-block--container"><h3 class="query-warning-title">ATTENTION. Arnaques liées au Coronavirus COVID-19</h3><div class="warning-block-text"><p>Des arnaques par des sociétés et individus malveillants prolifèrent. Soyez vigilants.</p><p>Plus d\'information:</p><a href="https://www.economie.gouv.fr/dgccrf/arnaques-liees-au-coronavirus" '+SecurityHelper.targetBlank()+' class="warning-block--link"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#external-link"></use></svg>https://www.economie.gouv.fr/dgccrf/arnaques-liees-au-coronavirus</a></div></div>'},a.query_context=function(a){var b="";if(a.queryContext){var c=a.t?"&t="+a.t:"";b+='<p class="query_context__altered">';var d="onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'queryContext', element: 'altered_query', altered_query: '"+a.queryContext.alteredQuery.replace(/\$/g,"")+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"';b+=_('Including results for <a {log} href="/?q={alteredQuery}{t}">{alteredQuery}</a>',"search",{alteredQuery:a.queryContext.alteredQuery.replace(/\$/g,""),t:c,log:d})+'<br></p><p class="query_context__original">';var e="onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'queryContext', element: 'original_query', altered_query: '"+a.queryContext.alteredQuery.replace(/\$/g,"")+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"';b+=_('Do you want results only for <a {log} href="/?q={alterationOverrideQuery}{t}">{originalQuery}</a>?',"search",{originalQuery:a.queryContext.originalQuery,alterationOverrideQuery:a.queryContext.alterationOverrideQuery.replace(/^\+/,"%2B").replace(/\$/g,""),t:c,log:e})+"</p>"}return b},a.result_actions=function(a){var b="";if(configuration.resultAction.enabled){b+='<div class="result_actions__button_container" id="'+actionManager.addClickListener(this,this.toggleMenu,{clickOutHandler:ResultActionsComponent.closeAllMenus})+"\" onmousedown=\"if(!this.classList.contains('result_actions__button_container&#45;&#45;arrow')){LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'result_action', item: '"+(this.result.index+1)+"', type: '"+(this.isAd?"ad":"serp")+'\', context: \'true\'});}" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-chevron-down"></use></svg><div class="result_actions__menu">';var c=this.menuButtons;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div class="result_actions__menu__item',d.parentClassName&&(b+=" "+d.parentClassName),b+=" result_actions__menu__item-"+d.id+'" id="'+d.id+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'result_action_element', item: '"+(this.result.index+1)+"', type: '"+(this.isAd?"ad":"serp")+"', element: '"+d.action+'\', context: \'true\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="'+d.className+'" ></span><span>'+d.title+"</span></div>";b+="</div></div>"}return b},a.all_mobile_column=function(a){var b='<h2><span class="icon icon-sidebar-all"><span class="path1"></span><span class="path2"></span><span class="path3"></span></span><span class="result_column__title">'+_("All","result")+"</span></h2>"+a.queryContext.render()+a.webAddBlock.render()+a.iaContainer.render()+a.resultFragment.render();return a.filtersContainer&&(b+=""+a.filtersContainer.render()),b},a.images_column=function(a){var b="";return 0!==a.searchModel.page&&(b+="<hr>"),a.filtersContainer&&(b+=""+a.filtersContainer.render()),b+=""+a.resultFragment.render()},a.knowledge_column=function(a){return""+a.resultFragment.render()},a.music_column=function(a){return""+a.resultFragment.render()},a.news_column=function(a){var b="";return a.filtersContainer&&(b+=""+a.filtersContainer.render()),a.warningQuery&&(b+=""+this.renderPartial(a.warningQuery)),0==a.searchModel.page?a.webAddBlock&&(b+=""+a.webAddBlock.render()):b+="<hr>",b+=""+a.resultFragment.render()},a.shopping_column=function(a){var b="";return 0!==a.searchModel.page&&(b+="<hr>"),a.filtersContainer&&(b+=""+a.filtersContainer.render()),this.tooltip&&"FR"===applicationState.user.userSetting.getSearchRegionCode()&&(b+='<div class="result_shopping_tooltip__container result_shopping_tooltip__container--'+this.tooltip.id+'"><span class="result_shopping_tooltip__title">'+_("Sponsored ads","result")+'</span><span id="'+this.tooltipID+'" class="result_shopping_tooltip tooltip__icon--'+this.tooltip.id+'"><svg class="" width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-info"></use></svg></span>'+this.tooltip.render()+"</div>"),b+=""+a.resultFragment.render()},a.smart_column=function(a){return""+a.resultFragment.render()},a.social_column=function(a){var b="";return 0!==a.searchModel.page&&(b+="<hr>"),a.filtersContainer&&(b+=""+a.filtersContainer.render()),a.warningQuery&&(b+=""+this.renderPartial(a.warningQuery)),b+=""+a.resultFragment.render()},a.videos_column=function(a){var b="";return 0!==a.searchModel.page&&(b+="<hr>"),a.filtersContainer&&(b+=""+a.filtersContainer.render()),b+=""+a.resultFragment.render()},a.web_column=function(a){var b="";return a.warningQuery&&(b+=""+this.renderPartial(a.warningQuery)),b+=""+a.queryContext.render(),a.extensionDisabled&&(b+=""+a.extensionDisabled.render()),a.webAddBlock&&(b+=""+a.webAddBlock.render()),a.iaContainer&&(b+=""+a.iaContainer.render()),b+=""+a.resultFragment.render()+a.reportContentComponent.render(),a.paginate&&a.isSingleColumn&&(b+=""+a.paginate.render()),b},a._filter_input_price=function(a){return'<input class="input__text result_filter__item__container__input"name="'+a.value.name+'"id="'+a.value.name+'"type="text"'+a.filter.getInputPlaceholder(a.value)+'><span class="result_filter__item__container__currency">'+a.currency+"</span>"},a._result_filter_dropdown=function(a){var b='<div class="result_filter__item result_filter__item--list result_filter__item--'+a.name+'"><span class="result_filter__item__label">';if(a.placeholderMobile?b+=""+a.placeholderMobile:b+=""+a.getLabel(),b+="</span>"+new DropDownComponent(a.getFilterItems(a.name),a.getFilterOptions(a.name)).render(),"category"===a.name){var c=a.getFilterItems(a.name);if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div class="sub__item sub__item--'+ResultFilterCategory.formatLabel(d.label)+'">'+new DropDownComponent(d.subitems,a.getFilterSubOptions(d)).render()+"</div>"}return b+="</div>"},a._result_filter_input=function(a){var b='<div class="result_filter__item result_filter__item--list result_filter__item--input_list"><div class="result_filter__item--input_list__container"><span class="result_filter__item__label">'+a.getLabel()+'</span><form id="'+actionManager.addSubmitListener(a,a.filterSearch)+'" class="result_filter__item--form">',c=a.values;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<span class="result_filter__item__container">'+a.renderInputField(d)+"</span>";return b+="<input type=submit hidden>",hasClass($("body"),"device")||(b+='<button class="result_filter__item__submit" id="'+actionManager.addClickListener(a,a.filterSearch)+'">'+_("OK","filters")+"</button>"),b+='</form></div><span class="result_filter__item__errorMessage"></span></div>'},a._result_filter_list_multiple_choice=function(a){return'<div class="result_filter__item result_filter__item--list result_filter__item--'+a.name+'"><span class="result_filter__item__label">'+a.getLabel()+"</span>"+new ListWithCheckboxesComponent(a.getFilterItems(a.name),a.getFilterOptions(a.name)).render()+"</div>"},a._result_filter_list_single_choice=function(a){var b='<div class="result_filter__item result_filter__item--list result_filter__item--'+a.name+'"><span class="result_filter__item__label">'+a.getLabel()+"</span>"+new ListComponent(a.getFilterItems(a.name),a.getFilterOptions(a.name)).render()+"</div>";if(BrowserHelper.isTabletOrMobile&&"category"===a.name){var c=a.getFilterItems(a.name);if(c)for(var d,e=-1,f=c.length-1;e<f;){d=c[e+=1],b+='<div class="sub__item"><div class="sub__item--name">'+d.label+"</div>";var g=d.subitems;if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],b+='<div class="subitems__item--label">'+h.label+"</div>";b+="</div>"}}return b},a._result_filter_list_single_choice_radio=function(a){return'<div class="result_filter__item result_filter__item--list result_filter__item--'+a.name+'"><span class="result_filter__item__label">'+a.getLabel()+"</span>"+new ListWithRadiosComponent(a.getFilterItems(a.name),a.getFilterOptions(a.name)).render()+"</div>"},a.result_filters_container=function(a){var b="";if(ResultFiltersContainer.areFiltersValid(this.filters)){b+='<div class="result_filters_triggers"><a class="result_filters_trigger result_filters_trigger_menu" id="'+actionManager.addClickListener(this,this.openFilters)+'"><svg width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-filter"></use></svg>'+_("Filter","filter")+" ("+this.getNumberOfActiveFilters()+')</a><a class="result_filters_trigger result_filters_trigger_reset hidden" id="'+actionManager.addClickListener(this,ResultFiltersContainer.clearFilters)+'"><svg width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-rotate-ccw"></use></svg>'+_("Reinitialize filters","filter")+"</a>";var c=this.getDropDownFilters();if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<a id="'+actionManager.addClickListener(this,this.toggleFilter,{name:d.name})+'" class="result_filters_trigger result_filters_trigger_'+d.name+'">'+d.getSelectedLabel()+'<span class="icon icon-dropdown result_filters_trigger"></span></a>';b+='</div><div class="result_filters_dropdowns"><div class="result_filters_dropdowns_backdrop"></div>';var g=this.getDropDownFilters();if(g)for(var d,h=-1,i=g.length-1;h<i;){d=g[h+=1],
b+='<div id="result_filters_dropdown_container_'+d.name+'" class="result_filters_dropdown_container"><div class="result_filters_dropdown_header">'+d.getDropdownHeaderLabel()+'<svg width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-x"></use></svg></div><nav id="result_filters_dropdown_'+d.name+'" class="result_filters_dropdown">';var j=d.getFilterItems();if(j)for(var k,l=-1,m=j.length-1;l<m;)k=j[l+=1],b+='<a class="result_filters_dropdown_item '+(d.isSelectedItem(k.value)?"current":"")+" "+(k.class?k.class:"")+'" id="'+actionManager.addClickListener(d,d.doFilter,{value:k.value})+'">'+(!0===k.translate?_(k.label,"filters"):k.label)+"</a>";b+='<nav class="result_filters_dropdown_grid">';var n=d.getFilterGridItems();if(n)for(var k,o=-1,p=n.length-1;o<p;)k=n[o+=1],b+='<a class="result_filters_dropdown_item '+(d.isSelectedItem(k.value)?"current":"")+'" id="'+actionManager.addClickListener(d,d.doFilter,{value:k.value})+'"><span class="'+(k.class?k.class:"")+'">'+(!0===k.translate?_(k.label,"filters"):k.label)+"</span></a>";b+="</nav></nav></div>"}b+='</div><div class="result_filters_blocks">';var q=this.getBlockFilters();if(q)for(var d,r=-1,s=q.length-1;r<s;)d=q[r+=1],b+=""+this.renderPartial(d.getPartialTemplateName(),d);b+='<div class="result_filters_blocks_close"><span class="active_filters">'+_("Filters","filter")+" ("+this.getNumberOfActiveFilters()+')</span><a class="clear_button" id="'+actionManager.addClickListener(this,ResultFiltersContainer.clearFilters)+'"><svg width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-rotate-ccw"></use></svg>'+_("Reinitialize","filter")+'</a><a class="close_button" id="'+actionManager.addClickListener(this,this.closeFilters,{})+'"><svg width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-x"></use></svg></a></div><div class="result_filters_blocks_validate"><a id="'+actionManager.addClickListener(this,this.validate,{})+'">'+_("Show the products","filter")+"</a></div></div>"}return b},a.result_fragment=function(a){var b="";if(a.isBottomResult)b+='<div class="no_result">'+_("The following results are probably not relevant, please rephrase your query.","result")+"</div>";else if(a.isHostError)b+='<div class="no_result no_result--with_icon"><span class="icon icon-information"></span>'+_('Results are unavailable, please check your connection or <a href="#" id="{actionId}">try again</a>',"result",{actionId:actionManager.addClickListener(this,this.reloadSearch)})+"</div>";else if(a.isAdultContent)b+='<div class="adult_content"><div class="adult_content_text">'+_("Oops ! I could not find suitable results for you.","result")+"</div></div>";else if(a.isTimeoutSearch)b+='<div class="no_result--timeout"><svg width="24" height="24" viewBox="0 0 24 24" class="timeout--icon"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-umbrella"></use></svg><span class="timeout--text">'+_("Qwant is is temporarily unavailable","result")+',</span><span class="timeout--text">'+_("It's not you, it's us. Let's start over!","result")+'</span><div class="button button--blue" id="'+actionManager.addClickListener(this,this.reloadSearch)+'" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone : \'web\', component : \'refresh_btn\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="timeout_button--icon"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-refresh-cw"></use></svg></span><span>'+_("relaunch your search","result")+"</span></div></div>";else if(a.isEmptyResult&&"shopping_v4"===a.type){if(b+='<div class="no_result no_result_shopping"><h1>'+_("No product matches your request.","result")+"</h1>",ResultFiltersContainer.areThereFilters()){b+="<p>"+_("We suggest removing some filters:","result")+'</p><div class="filter_tags_container">';var c=ResultFiltersContainer.getActiveFilters();if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<span class="filter_tag" id="'+actionManager.addClickListener(this,ResultFiltersContainer.clearFilter,{param:d.param})+'">'+d.i18n+'<svg width="12" height="12" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-x"></use></svg></span>';b+="</div><p>"+_("Or","result")+'<a class="clear_button" id="'+actionManager.addClickListener(this,ResultFiltersContainer.clearFilters)+'"><svg width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-rotate-ccw"></use></svg>'+_("Reinitialize all filters","result")+"</a></p>"}b+="</div>"}else if(a.isEmptyResult||"smart"!==a.type&&!ResultFragmentComponent.hasValidResultsToDisplay(a.items))b+='<div class="no_result no_result--with_icon"><span class="icon icon-information"></span>'+_("No results found.","result")+"</div>";else if(a.isAPIError)b+='<div class="no_result no_result--message">'+_("The service is temporarily unavailable. We apologize for the inconvenience. We are working on it. Please try again later.","result")+"</div>";else if(a.ghostLoad)for(var g=0;g<a.ghostLoadNb;g++)b+=""+this.renderPartial(a.ghostLoad+"_ghost");else if(a.items){var h=ResultFragmentComponent.prepareResultItems(a.items,this.type,a.offset);if("result_smart"===this.partialName()&&h){var i=this.column&&this.column.route&&this.column.route.rawParams?encodeURIComponent(this.column.route.rawParams.q):"";b+=""+this.renderPartial("result_smart_b",{offset:a.offset,preparedItems:h,query:i})}else{var j=h;if(j)for(var k,l=-1,m=j.length-1;l<m;)k=j[l+=1],k.index=l+a.offset,k.type=a.type,b+=""+this.renderPartial(this.partialName(),{offset:a.offset,item:k,query:encodeURIComponent(a.route.rawParams.q)})}}return a.callToAction&&(!a.lastPage&&void 0!==a.items&&a.items.length>0?("web"===a.type&&(b+='<div class="result_column__about"><span>'+_("Results sorted by relevance","result")+"</span><a href=\"https://about.qwant.com/fr/legal/modalites-de-referencement-dereferencement-et-de-classement/\" target=\"_blank\" onmousedown=\"LinkHelper.logHandler(this, Event, { AjaxRoute: 'userInteraction', event:'click', zone: 'about', component : 'serp-web', context: 'true', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><svg><use xlink:href=\"/img/v4/icon-spritesheet.svg?1608192960675#icon-help-circle\"></use></svg></a></div>"),b+='<div class="result_load__more" id="'+actionManager.addClickListener(this,this.addPage)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : '"+a.type+"', component : 'result_load__more', position: "+this.column.searchModel.page+' + 1, context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span>'+_("Display more results","result")+'</span><img src="/img/v4/anim-loading',1===applicationState.user.userSetting.selectedTheme&&(b+="-dark"),b+='.svg"/></div>'):b+='<div class="no_result">'+_("The following results are probably not relevant, please rephrase your query.","result")+"</div>"),b},a._news_ghost=function(a){return'<div class="ghost__load ghost__load__news--container"><div class="ghost__load__news--pict"></div><div class="ghost__load__news--content"><div class="ghost__load__news--title"></div><div class="ghost__load__news--title"></div><div class="ghost__load__news--source"></div></div></div>'},a._shopping_card_ghost=function(a){return'<div class="ghost__load ghost__load__shopping--card--container"><div class="ghost__load__shopping--card--pict"></div><div class="ghost__load__shopping--card--infos"><div class="ghost__load__shopping--card--price"></div><div class="ghost__load__shopping--card--title"></div></div></div>'},a._shopping_ghost=function(a){return'<div class="ghost__load ghost__load__shopping--container"><div class="ghost__load__shopping--pict"></div><div class="ghost__load__shopping--infos"><div class="ghost__load__shopping--title"></div><div><div class="ghost__load__shopping--price"></div><div class="ghost__load__shopping--source"></div></div><div class="ghost__load__shopping--desc"></div><div class="ghost__load__shopping--desc"></div></div></div>'},a._smart_ghost=function(a){for(var b='<div class="ghost__load ghost__load__smart--item"><div class="ghost__load__smart--header"></div>',c=0;c<3;c++)b+='<div class="ghost__load__news--container"><div class="ghost__load__news--pict"></div><div class="ghost__load__news--content"><div class="ghost__load__news--title"></div><div class="ghost__load__news--title"></div><div class="ghost__load__news--source"></div></div></div>';return b+="</div>"},a._videos_ghost=function(a){return'<div class="ghost__load ghost__load__video--container"><div class="ghost__load__video--pict"></div><div class="ghost__load__video--infos"><div class="ghost__load__video--title"></div><div class="ghost__load__video--title"></div><div class="ghost__load__video--source"></div><div class="ghost__load__video--time"></div></div></div>'},a._web_ghost=function(a){return'<div class="ghost__load ghost__load__web--container"><div class="ghost__load__web--title"></div><div class="ghost__load__web--link"></div><div class="ghost__load__web--desc"></div></div>'},a.result_helplink=function(a){var b='<div class="results-column--ribbon results-ia-ribbon results-ia-ribbon-nodejs"><div id="ribbon_additional_links_caller" class="ribbon__additional_links" data-placement="top"><span class="icon icon-information" id="'+actionManager.addClickListener(this,RibbonModel.toggleHelpTooltip,{clickOutHandler:RibbonModel.hideHelpTooltip,runtime:a.ia_runtime})+'"></span></div><div class="ribbon__additional_links_tooltip" id="ribbon__additional_links_tooltip">';return a.ia_runtime===RibbonModel.RUNTIME_NODEJS&&(b+=""+_("This Instant Answer was made by our Open Source Community","ia_nodejs"),a.ia_lastUpdate&&(b+='<span class="ribbon_tooltip_exchange-rate">'+_("Exchange rate updated on: {date}","ia_nodejs",{date:strftime(i18n.date.longFormat,new Date(a.ia_lastUpdate))})+"</span>")),a.ia_partnerName&&(b+="<p>"+_("In partnership with","ia_nodejs")+'&nbsp;<a href="'+a.ia_partnerName.link+'" '+SecurityHelper.targetBlank()+" class=\"ribbon_tooltip_partner\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.ia_template_name+'\', ia_link: \'see_partner\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+a.ia_partnerName.name+"</a></p>"),a.ia_runtime===RibbonModel.RUNTIME_NODEJS&&(b+='<p><a href="https://github.com/Qwant/Instant-Answers/wiki" title="'+_("Make your own Instant Answer","ia_nodejs")+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.ia_template_name+'\', ia_link: \'open_source_button\' });" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Make your own Instant Answer","ia_nodejs")+"</a></p>"),a.ia_partnerName&&(b+='<p><a href="'+_("https://about.qwant.com/contact/","ia_nodejs")+'" title="'+_("Become Qwant partner","ia_nodejs")+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.ia_template_name+'\', ia_link: \'partner_button\' });" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Become Qwant partner","ia_nodejs")+"</a></p>"),b+="</div></div>"},a.result_list_page=function(a){var b=""+this.renderPartial("auto-complete",a);return a.topBar&&(b+=""+a.topBar.render()),a.resultPage&&(b+=""+a.resultPage.render()),b+=""+(new ExtensionPopinComponent).render()},a.result_page_all=function(a){return""+a.web.render()+a.news.render()+a.mediaOverlay.render()},a.result_page_all_mobile=function(a){return""+a.all_mobile.render()+a.mediaOverlay.render()},a.result_page_images=function(a){return'<div id="images__fragment--container" class="images__fragment--container">'+a.images.render()+"</div>"+a.mediaOverlay.render()},a.result_page_music=function(a){var b="";return a.component&&(b+=""+a.component.render()),b},a.result_page_news=function(a){return""+a.news.render()},a.result_page_shopping=function(a){return""+a.shopping.render()},a.result_page_videos=function(a){return""+a.videos.render()+a.mediaOverlay.render()},a.adgoal_container=function(a){var b="";if(a.hasContent){this.tooltip&&(b+='<div class="adgoal_tooltip"><span id="'+this.tooltipID+'" class="tooltip__icon--'+this.tooltip.id+'"><svg width="22" height="22" viewBox="0 0 22 22"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-info"></use></svg></span>'+this.tooltip.render()+"</div>"),b+='<div class="adgoal_content"><h2 class="adgoal_title">'+_("Discover offers on our partners' websites","adgoal")+'</h2><div class="adgoal_brands">';for(var c in a.partners){var d=UrlHelper.extractDomain(c);b+="<a "+SecurityHelper.targetBlank()+' href="'+c+'" ',-1!==uxVersions.indexOf("adgoal_lite")&&(b+='class="adgoal_brands--lite"'),b+="onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : this.hostname.replace(/\\./g, '-'), component : 'adgoal', context: 'true', t:'default'});this.href='http://www.smartredirect.de/redir/clickGate.php?u=2NgRKmZ5&m=16&p=RiGpKbaaNd&q="+encodeURIComponent(a.query)+"&url="+encodeURIComponent(c)+"&r="+encodeURIComponent("https://www.qwant.com")+'\';"onmouseup="LinkHelper.mouseUpHandler(this, Event)">',-1!==uxVersions.indexOf("adgoal_lite")?b+="<span>"+d.slice(0,d.lastIndexOf("."))+"</span>":b+='<img src="'+a.partners[c]+'" alt="Brand image" title="'+d+'"/>',b+="</a>"}b+="</div></div>"}return b},a.ia_container=function(a){var b="";return a.item&&(a.ia_template_name&&"brand"===a.ia_template_name&&(b+='<div class="brand_tooltip"><span id="'+this.partnerTooltipID+'" class="tooltip__icon--'+this.partnerTooltip.id+'"><svg width="22" height="22" viewBox="0 0 22 22"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-info"></use></svg></span>'+this.partnerTooltip.render()+"</div>"),b+='<div id="ia--container" class="'+a.className+" "+(a.ia_template_name?"ia--"+a.ia_template_name:"")+' results-ia-ribbon-nodejs">',(a.ia_runtime===RibbonModel.RUNTIME_NODEJS||a.ia_partnerName)&&(a.ia_isCNCService||(b+='<div id="ribbon_additional_links_caller" class="ribbon__additional_links ',"movie"===a.ia_template_name&&(b+="ribbon__additional_links_movie"),b+=" ","map"===a.ia_template_name&&(b+="ribbon__additional_links_map_web"),b+='" data-placement="'+a.ia_partnerName.placement+'"><span class="icon icon-information" id="'+actionManager.addClickListener(this,RibbonModel.toggleHelpTooltip,{clickOutHandler:RibbonModel.hideHelpTooltip})+'"></span></div><div class="ribbon__additional_links_tooltip"  id="ribbon__additional_links_tooltip">',a.ia_runtime===RibbonModel.RUNTIME_NODEJS&&(b+=""+_("This Instant Answer was made by our Open Source Community","ia_nodejs"),a.ia_lastUpdate&&(b+='<span class="ribbon_tooltip_exchange-rate">'+_("Exchange rate updated on: {date}","ia_nodejs",{date:strftime(i18n.date.longFormat,new Date(a.ia_lastUpdate))})+"</span>")),a.ia_partnerName&&(b+="<p>"+_("In partnership with","ia_nodejs")+'&nbsp;<a href="'+a.ia_partnerName.link+'" '+SecurityHelper.targetBlank()+" class=\"ribbon_tooltip_partner\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.ia_template_name+'\', ia_link: \'see_partner\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+a.ia_partnerName.name+"</a></p>"),a.ia_helplink&&(b+='<p><a href="'+a.ia_helplink+'" title="'+_("More info","ia_nodejs")+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.ia_template_name+'\', ia_link: \'help_button\' });" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("More info","ia_nodejs")+"</a></p>"),a.ia_runtime===RibbonModel.RUNTIME_NODEJS&&(b+='<p><a href="https://github.com/Qwant/Instant-Answers/wiki" title="'+_("Make your own Instant Answer","ia_nodejs")+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.ia_template_name+'\', ia_link: \'open_source_button\' });" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Make your own Instant Answer","ia_nodejs")+"</a></p>"),a.ia_partnerName&&(b+='<p><a href="'+_("https://about.qwant.com/contact/","ia_nodejs")+'" title="'+_("Become Qwant partner","ia_nodejs")+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.ia_template_name+'\', ia_link: \'partner_button\' });" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Become Qwant partner","ia_nodejs")+"</a></p>"),b+="</div>")),a.ia_runtime===RibbonModel.RUNTIME_NODEJS?b+=""+a.item.template:a.specialRibbon&&RibbonModel.SPECIAL_RIBBONS.indexOf(a.ia_template_name)>-1?b+=""+a.specialRibbon.render():a.ia_runtime===RibbonModel.RUNTIME_PHP&&(a.item.encodedKeyPhrase=a.encodedKeyPhrase,b+=""+this.renderPartial("result_ribbon_"+a.ia_template_name,a.item)),b+="</div>"),b},a.result_page_web=function(a){var b="";return window.innerWidth>1210?(a.filtersContainer&&(b+=""+a.filtersContainer.render()),b+=""+a.web.render(),!BrowserHelper.isTabletOrMobile&&a.adGoal&&-1!==uxVersions.indexOf("adgoal_before_ia")&&(b+=""+a.adGoal.render()),!BrowserHelper.isTabletOrMobile&&a.sponsoredContent&&(b+=""+a.sponsoredContent.render()),a.iaContainer&&(b+=""+a.iaContainer.render()),!BrowserHelper.isTabletOrMobile&&a.adGoal&&(b+=""+a.adGoal.render()),a.smart&&(b+=""+a.smart.render())):(a.filtersContainer&&(b+=""+a.filtersContainer.render()),a.smart&&(b+=""+a.smart.render()),b+=""+a.web.render()),b+=""+a.mediaOverlay.render()},a.sponsored_content=function(a){var b="";return a.hasContent&&(b+='<div class="sponsored_content_container">',this.tooltip&&(b+="<span "+this.hover(!1,"tooltip__icon--"+this.tooltip.id,!1)+' class="ribbon__sponsored tooltip__icon--'+this.tooltip.id+'"><svg class="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-info"></use></svg></span>'+this.tooltip.render()),b+='<a href="'+a.data.link+"\" class=\"result-sponsored--title\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', domain: 'web', url: '"+a.data.display_link+"', type: '"+a.data.type+"', position: '1', ad_type:'"+a.data.ad_type+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" target="_blank">',a.data.thumbnail&&(b+='<div class="result-sponsored--image"><img src="'+a.data.thumbnail+'" /></div>'),b+='<div class="result-sponsored--content"><h3>'+a.data.title+'</h3><div><span class="result__url__type">'+_("Ad","result")+'</span><span class="result__url__long">'+UrlHelper.removeProtocol(a.data.display_link)+"</span></div><p>"+a.data.description+"</p></div></a></div>"),b},a.web_paginate=function(a){var b="";if(BrowserHelper.isMobile)b+='<div id="'+actionManager.addClickListener(this,this.beginning)+'" class="web_pagination__navigation web_pagination__navigation--begin',this.current>2&&(b+=" web_pagination__navigation--visible"),b+='" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone: \'begin\', t: \'web\', component: \'web_paginate\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-selector"></span><span class="icon icon-selector"></span></div><div id="'+actionManager.addClickListener(this,this.previous)+'" class="web_pagination__navigation web_pagination__navigation--prev',this.current>1&&(b+=" web_pagination__navigation--visible"),this.current!==this.total&&(b+=" web_pagination__navigation--no_label"),b+='" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone: \'previous\', t: \'web\', component: \'web_paginate\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-selector"></span><span class="web_pagination__navigation--label">'+_("Previous","pagination")+'</span></div><div class="web_pagination__navigation--number">',this.current!==this.total&&1!==this.current&&(b+=""+_("Page {number}","pagination",{number:this.current})),b+='</div><div id="'+actionManager.addClickListener(this,this.next)+'" class="web_pagination__navigation web_pagination__navigation--next',this.current<this.total&&(b+=" web_pagination__navigation--visible"),1!==this.current&&(b+=" web_pagination__navigation--no_label"),b+="\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'next', t: 'web', component: 'web_paginate'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><span class=\"web_pagination__navigation--label\">"+_("Next","pagination")+'</span><span class="icon icon-selector"></span></div>';else{b+='<div id="'+actionManager.addClickListener(this,this.goTo,{side:"left"})+'" class="web_paginate__selector--container web_paginate__left__selector',1===this.current&&(b+=" web_paginate__selector--hidden"),b+='" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone: \'left\', t: \'web\', component: \'web_paginate\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="web_paginate__selector__icon"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#chevron-left"></use></svg></div>';for(var c=1,d=a.total;c<=d;++c)b+='<div id="'+actionManager.addClickListener(this,this.goTo,{index:c})+'" class="web_paginate__index--'+c+" web_paginate__index",c===this.current&&(b+=" web_paginate__index--current"),b+="\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'index', position: '"+c+"', t: 'web', component: 'web_paginate'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+c+"</div>";b+='<div id="'+actionManager.addClickListener(this,this.goTo,{side:"right"})+'" class="web_paginate__selector--container web_paginate__right__selector',this.current===this.total&&(b+=" web_paginate__selector--hidden"),b+='" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone: \'right\', t: \'web\', component: \'web_paginate\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="web_paginate__selector__icon"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#chevron-right"></use></svg></div>'}return b},a._report_content=function(a){return'<div id="'+actionManager.addClickListener(ReportContentComponent,ReportContentComponent.showPopup,{url:a.url,urlId:a._id,index:a.index+1,type:a.type})+'" class="report_content__button"><span class="report_content__icon"></span><span class="report_content__icon--mobile"></span><span class="report_content__label">Signaler</span></div>'},a._report_content_overlay=function(a){return'<a id="'+actionManager.addClickListener(ReportContentComponent,ReportContentComponent.showPopup,{url:a.url,urlId:a._id,index:a.index+1,type:a.type,context:"overlay"})+'"class="image-overlay__menu__item image-overlay__menu__item--report video-overlay__menu__item--report"><div class="image-overlay__menu__icon image-overlay__menu__icon--report-content"></div><br>'+_("Report","overlay")+"</a>"},a._report_content_overlay_carousel=function(a){return'<a id="'+actionManager.addClickListener(ReportContentComponent,ReportContentComponent.showPopup,{url:a.url,urlId:a._id,index:a.index+1,type:a.type,context:"overlay"})+'"class="image-overlay__menu__item image-overlay__menu__item--report video-overlay__menu__item--report"><div class="image-overlay__menu__icon image-overlay__menu__icon--report-content"></div>'+_("Report","overlay")+"</a>"},a.report_content=function(a){var b="";return a.isVisible&&(b+='<div class="report_content__popup" id="'+a.reportContentPopupId+'"><h1 class="report_content__title">'+_("Report a content","report_content")+'<button class="report_content__close" id="'+actionManager.addClickListener(this,this.hide,{isPersistant:!0})+'">&#10005;</button></h1>',a.isSent?b+='<div class="report_content__success"><span class="report_content__success__icon"></span><strong class="report_content__success__title">'+_("Thank you!","feedback")+'</strong><p class="report_content__success__message">'+_("The report has been successfully sent to our teams. We will process your request as soon as possible.","report_content")+'</p><em class="report_content__success__signature">'+_("The Qwant team","feedback")+"</em></div>":b+='<form class="report_content__form" id="'+actionManager.addSubmitListener(this,this.send)+'">'+_("You are reporting a content. You can add a comment:","report_content")+(new ResultActionsModel).textArea("report_content__message",{classname:"report_content__message",placeholder:_("Write your comment here","report_content"),minLength:1,maxLength:1024})+'<input class="report_content__submit button button--white" id="report_content__submit" type="submit" value="'+_("Send","form")+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone: 'confirm', component : 'form', context: 'report-content', t:'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\" aria-label=\"report_content_submit\"></form>",b+="</div>"),b},a.result_movie_content=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="movie_st__info">';if(BrowserHelper.isTabletOrMobile?c+='<div class="movie_st__info--header"><h1 title="'+a.data.title+'">'+a.data.title+"</h1></div>":a.data.thumbnail&&(c+='<div class="movie_st__poster"><img src="'+a.data.thumbnail+'" alt="'+a.data.title+'" title="'+a.data.title+'" onerror="removeParentByClassName(this, \'movie_st__poster\');" />',a.data.status&&"ENDED"!==a.data.status&&(c+='<div class="ia_movie--seasons--ribbon',"TO_COME"===a.data.status||"PILOT"===a.data.status?c+=" season_to_come":"IN_PROGRESS"===a.data.status?c+=" season_in_progress":"CANCELLED"===a.data.status&&(c+=" season_cancelled"),c+='">'+this.getSeasonStatus(a.data.status)+"</div>"),c+="</div>"),c+='<div class="movie_st__info--container">',window.innerWidth>1210&&this.isWeb&&(c+='<div class="movie_st__info--header"><h1 title="'+a.data.title+'">'+a.data.title+"</h1></div>"),c+='<div class="movie_st__info--details">',a.data.productionYear?c+='<h5 class="movie_st_info--sortie">'+a.data.productionYear+"</h5>":a.data.fullDate&&(c+='<h5 class="movie_st_info--sortie">'+strftime(i18n.date.longFormat,new Date(a.data.fullDate))+"</h5>"),a.data.duration&&((a.data.fullDate||a.data.productionYear)&&(c+='<span class="movie_st_info--separator">•</span>'),c+='<h5 class="movie_st_info--duree">'+a.data.duration+"</h5>"),a.data.genres&&a.data.genres[0]&&((a.data.duration||a.data.fullDate||a.data.productionYear)&&(c+='<span class="movie_st_info--separator">•</span>'),c+='<h5 class="movie_st_info--genre">'+IAHelper.capitalizeFirstLetter(a.data.genres[0])+"</h5>"),c+="</div>",a.data.directors){c+='<h5 class="movie_st__casting"><span class="movie_st__casting--header">'+_("By","movie")+"&nbsp;</span>";var d=a.data.directors;if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],f>0&&(c+="&nbsp;-&nbsp;"),c+='<a href="/?q='+encodeURI(e)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'movie', ia_type: '"+a.data.type+"', ia_link: 'director', category: '"+e+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+e+"</a>";c+="&nbsp;</h5>"}if((window.innerWidth<1210||!this.isWeb)&&a.data.synopsis&&(c+='<p class="movie_st__info--synopsis ',this.isVODService()&&!a.data.video&&(c+="movie_st__info--synopsis_extend"),a.data.directors||(c+="movie_st__info--synopsis--light"),c+='">'+a.data.synopsis.replace(/<\/?[^>]+(?:>|$)/g,"")+"</p>"),c+="</div>",window.innerWidth>1210&&this.isWeb&&a.data.synopsis&&(c+='<div class="movie_st__info--synopsis">'+a.data.synopsis.replace("&nbsp;"," ").replace(/<\/?[^>]+(?:>|$)/g,"")+"</div>"),a.data.stats){if(c+='<div class="ia_movie--stats">',a.data.stats.pressReview){c+='<div class="ia_movie--press-review"><div class="ia_movie--ratings">'+_("Press review","movie")+"</div><div>";for(var h=a.data.stats.pressReview.score,i=h%1,j=i>.25?1:0,k=Math.floor(h)+j,f=1;f<h;f++)c+='<svg class="movie_st__rating active" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';i>.75&&(c+='<svg class="movie_st__rating active" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>'),.25<i&&i<=.75&&(c+='<svg class="movie_st__rating active" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-half-star"></use></svg>');for(var f=0;f<5-k;f++)c+='<svg class="movie_st__rating empty" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';c+='<a class="ia_movie--reviews" href="'+this.getUrlAllocine(a.data.type,a.data.allocineId,!0,!1,null)+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'movie', ia_type: '"+a.data.type+"', ia_link: 'pressReview', category: '"+a.data.title+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+a.data.stats.pressReview.count+" "+_("reviews","movie")+"</a></div></div>"}if(a.data.stats.userRating){c+='<div class="ia_movie--user-rating"><div class="ia_movie--ratings">'+_("User rating","movie")+"</div><div>";for(var l=a.data.stats.userRating.score,m=l%1,j=m>.25?1:0,k=Math.floor(l)+j,f=1;f<l;f++)c+='<svg class="movie_st__rating active" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';m>.75&&(c+='<svg class="movie_st__rating active" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>'),.25<m&&m<=.75&&(c+='<svg class="movie_st__rating active" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-half-star"></use></svg>');for(var f=0;f<5-k;f++)c+='<svg class="movie_st__rating empty" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';c+='<a class="ia_movie--reviews" href="'+this.getUrlAllocine(a.data.type,a.data.allocineId,!1,!0,null)+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'movie', ia_type: '"+a.data.type+"', ia_link: 'userRating', category: '"+a.data.title+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+a.data.stats.userRating.count+" "+_("reviews","movie")+"</a></div></div>"}c+="</div>"}if((a.data.episodeLength||a.data.seasonCount||a.data.episodeCount||a.data.startsAt)&&(c+='<div class="ia_movie--infobox">',
a.data.episodeLength&&(c+='<dl class="ia_movie--infobox--item"><dt class="ia_movie--infobox--key">'+_("Episode length","movie")+'</dt><dd class="ia_movie--infobox--value">'+this.formatEpisodeLength(a.data.episodeLength)+"</dd></dl>"),a.data.seasonCount&&(c+='<dl class="ia_movie--infobox--item"><dt class="ia_movie--infobox--key">'+_("Season count","movie")+'</dt><dd class="ia_movie--infobox--value">'+a.data.seasonCount+"</dd></dl>"),a.data.episodeCount&&(c+='<dl class="ia_movie--infobox--item"><dt class="ia_movie--infobox--key">'+_("Episode count","movie")+'</dt><dd class="ia_movie--infobox--value">'+a.data.episodeCount+"</dd></dl>"),BrowserHelper.isTabletOrMobile?(a.data.startsAt&&(c+='<dl class="ia_movie--infobox--item"><dt class="ia_movie--infobox--key">'+_("Original release","movie")+'</dt><dd class="ia_movie--infobox--value">'+strftime("%d-%m-%Y",new Date(a.data.startsAt))+"</dd></dl>"),a.data.endsAt&&(c+='<dl class="ia_movie--infobox--item"><dt class="ia_movie--infobox--key">'+_("End date","movie")+'</dt><dd class="ia_movie--infobox--value">'+strftime("%d-%m-%Y",new Date(a.data.endsAt))+"</dd></dl>")):a.data.startsAt&&(c+='<dl class="ia_movie--infobox--item"><dt class="ia_movie--infobox--key">'+_("Original release","movie")+'</dt><dd class="ia_movie--infobox--value">'+strftime("%d-%m-%Y",new Date(a.data.startsAt)),a.data.endsAt&&(c+=' <span class="movie_st_info--separator">•</span> '+strftime("%d-%m-%Y",new Date(a.data.endsAt))),c+="</dd></dl>"),c+="</div>"),c+="</div>",BrowserHelper.isTabletOrMobile&&(c+='<div class="ia_movie--container">'),a.data.actors&&(c+=""+new IAListComponent({items:a.data.actors,title:_("Casting","movie"),iconTitle:"users",roundThumbnail:!0,qwantSearch:!0,image:"picture",subName:"role",logItem:{AjaxRoute:"ribbon",ia_name:"movie",ia_type:a.data.type,ia_link:"actor"}}).render()),a.data.episodes){a.data.episodes.length>3&&!BrowserHelper.isTabletOrMobile&&(c+='<div class="movie__expandable--container">'),c+='<div class="movie__episode--list"><h4 class="ia_movie--episode--title"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-movie"></use></svg><span>'+_("Episodes of the season","movie")+" "+a.data.number+"</span></h4>";var n=this.hasPicture(a.data.episodes),o=a.data.episodes;if(o)for(var p,q=-1,r=o.length-1;q<r;)p=o[q+=1],c+='<div class="movie__episode--item-container" id="movie__episode_'+q+'"><div class="movie__episode--item',p.synopsis&&(c+=" expandable"),c+='"',p.synopsis&&(c+=' id="'+actionManager.addClickListener(this,this.toggleEpisode,{index:q})+'"'),c+=">",p.picture&&(c+='<div class="ia__movie__episode--picture"><img src="'+p.picture+'" alt="'+p.title+'"></div>'),c+='<div class="movie__episode--item-title',n&&(c+=" movie__episode--item-title-with-picture"),c+='">S'+this.formatSeasonNumber(a.data.number)+"E"+this.formatSeasonNumber(p.number),p.title&&(c+=" - "+p.title),c+="</div>",p.synopsis&&(c+='<div class="movie__episode--toggle"><svg class="movie__episode--toggle-down" width="24" height="24" viewBox="0 0 35 35"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-down"></use></svg></div>'),c+="</div>",p.synopsis&&(c+='<div class="movie__episode--synopsis">'+p.synopsis+"</div>"),c+="</div>";c+="</div>"}if(a.data.seasons){c+='<div class="ia_movie--seasons"><div class="ia_movie--seasons--header"><h4 class="ia_movie--seasons--title"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-movie"></use></svg><span>',"season"===a.data.type?c+=""+_("The other seasons","movie"):c+=""+_("Seasons","movie"),c+="</span></h4>",!BrowserHelper.isTabletOrMobile&&a.data.seasons.length>4&&(c+='<div class="ia_movie--seasons--nav"><button class="movie_list--nav_prev ia_movie--seasons--nav_prev" disabled id="'+actionManager.addClickListener(this,IAHelper.listScroll,{position:"left",component:ResultMovieContent,type:"seasons",numberOfItems:a.data.seasons.length,footstep:3})+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-up"></use></svg></button><button class="movie_list--nav_next ia_movie--seasons--nav_next" id="'+actionManager.addClickListener(this,IAHelper.listScroll,{position:"right",component:ResultMovieContent,type:"seasons",numberOfItems:a.data.seasons.length,footstep:3})+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-up"></use></svg></button></div>'),c+='</div><div class="ia_movie--seasons--list"><div class="ia_movie--seasons--content">';var s=a.data.seasons.reverse();if(s)for(var t,q=-1,u=s.length-1;q<u;){t=s[q+=1];var v=a.data.series?a.data.series:a.data.title;c+='<a class="ia_movie--seasons--season-link" href="/?q='+v+" saison "+t.number+'" alt="'+v+" - "+t.number+'" title="'+v+" - "+t.number+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'movie', ia_type: '"+a.data.type+"', ia_link: 'season', category: '"+t.number+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="ia_movie--seasons--season-thumbnail"><img src="'+t.picture+'" alt="'+v+" saison "+t.number+'" title="'+v+" saison "+t.number+'">',t.status&&"ENDED"!==t.status&&(c+='<div class="ia_movie--seasons--ribbon',"TO_COME"===t.status||"PILOT"===t.status?c+=" season_to_come":"IN_PROGRESS"===t.status?c+=" season_in_progress":"CANCELLED"===t.status&&(c+=" season_cancelled"),c+='">'+this.getSeasonStatus(t.status)+"</div>"),c+='</div><div class="ia_movie--seasons--season-title">'+_("Season","movie")+" "+t.number+"</div>",t.episodes&&(c+='<div class="ia_movie--seasons--season-episode">'+t.episodes+"</div>"),t.year&&(c+='<div class="ia_movie--seasons--season-year">'+t.year+"</div>"),c+="</a>"}c+="</div></div></div>"}if(a.data.hasShowtime&&!this.isVODService()&&(c+='<div class="ia_movie--theaters"><div class="ia_movie--theaters_search"><h4 class="ia_movie--theaters--title"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#video"></use></svg><span>'+_("Search for a session","movie")+"</span></h4>",a.theatersSearchBar&&(c+=""+a.theatersSearchBar.render()),c+="</div>",a.ticketsComponent&&(c+=""+a.ticketsComponent.render()),c+="</div>"),this.isVODService()){a.data.allocineId&&(c+='<div class="movie_st__tickets--footer"><svg class="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#chevrons-right"></use></svg><a href="'+this.getUrlAllocine(a.data.type,a.data.allocineId,!1,!1,a.data.seriesInternalId)+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'movie', ia_type: '"+a.data.type+"', ia_link: 'allocine', category: '"+a.data.title+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("via {site}","movie",{site:"allocine.fr"})+"</a></div>"),c+='<div class="movie-web__vod"><div class="movie-web__vod--container"><div class="movie-web__vod__item--list">';var w=a.data.vod;if(w)for(var x,q=-1,y=w.length-1;q<y;)x=w[q+=1],q%2==0&&(c+='<div class="movie-web__vod__item--row">'),c+='<a class="movie__vod__item',q+1==a.data.vod.length&&(c+=" movie__vod__item--last"),BrowserHelper.isMobile&&(c+=" movie__vod__item_mobile"),c+='" href="'+x.offer.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'movie', ia_type: 'movie', ia_link: 'offer', ia_position: '"+q+"', brand: '"+b(x.editor.replace(/\s+/g,"_").toLowerCase())+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="movie__vod__item--price">'+_("From","movie")+"&nbsp;<b>"+x.offer.price.toString().replace(".",",")+'€</b></div><div class="movie__vod__item--logo"><img src="/img/vod/'+x.editor.toLowerCase()+'.png" alt="'+x.editor+'" title="'+x.editor+'" ',"SFR"!=x.editor&&"Orange"!=x.editor||(c+='style="max-width: 40px"'),c+='></div><span class="movie__vod__item--logo_text">'+x.editor+"</span></a>",q%2!=1&&q+1!=a.data.vod.length||(c+="</div>");c+='</div></div><div class="movie__vod--partner"><span class="movie__vod--partner_text"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#chevrons-right"></use></svg>'+_("a service provided by","movie")+' <span class="movie__vod--cnc--brand--img"></span></span></div></div>'}return(BrowserHelper.isTabletOrMobile||a.data.episodes&&a.data.episodes.length>3)&&(c+="</div>"),!a.data.allocineId||this.isVODService()&&!BrowserHelper.isTabletOrMobile||(c+='<div class="movie_st__tickets--footer ',this.isVODService()&&(c+="ia__movie--footer-vod"),c+='"><svg class="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#chevrons-right"></use></svg><a href="'+this.getUrlAllocine(a.data.type,a.data.allocineId,!1,!1,a.data.seriesInternalId)+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'movie', ia_type: '"+a.data.type+"', ia_link: 'allocine', category: '"+a.data.title+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("via {site}","movie",{site:"allocine.fr"})+"</a></div>"),!BrowserHelper.isTabletOrMobile&&a.data.episodes&&a.data.episodes.length>3&&(c+='<div class="ia__movie--discover" id="'+actionManager.addClickListener(this,this.toggleMovieContainer)+'"><svg width="20" height="20" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-down"></use></svg><span class="ia__movie--discover-more">'+_("See all the episodes","movie")+'</span><span class="ia__movie--discover-less">'+_("See less episodes","movie")+'</span><svg width="20" height="20" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-down"></use></svg></div>'),(BrowserHelper.isTabletOrMobile||!BrowserHelper.isTabletOrMobile&&this.isVODService()&&a.data.vod.length>4)&&(c+='<div class="ia__movie--discover" id="'+actionManager.addClickListener(this,this.toggleMovieContainer)+'"><svg width="20" height="20" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-down"></use></svg><span class="ia__movie--discover-more">'+_("See more","movie")+'</span><span class="ia__movie--discover-less">'+_("See less","movie")+'</span><svg width="20" height="20" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-down"></use></svg></div>'),this.isVODService()&&a.data.video&&(window.innerWidth<1210||!this.isWeb)&&(a.data.video.type="video"),c},a.result_movie_list_content=function(a){var b='<div class="movie_list"><div class="movie_list--container"><div class="movie_list--header"><h1 class="movie_list--title" title="'+(""!==a.franchise?a.franchise:a.data[0].titleList)+'">'+(""!==a.franchise?_("Films","movie")+" "+a.franchise:a.data[0].titleList)+"</h1>";!BrowserHelper.isTabletOrMobile&&a.data.length>3&&(b+='<div class="movie_list--nav"><button class="movie_list--nav_prev" id="'+actionManager.addClickListener(this,this.navigateMovies,{next:!1})+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-up"></use></svg></button><button class="movie_list--nav_next" id="'+actionManager.addClickListener(this,this.navigateMovies,{next:!0})+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-up"></use></svg></button></div>'),b+='</div><div class="movie_list--items_container"><div class="movie_list--items">';var c=a.data;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],e%this.offset==0&&(b+='<div id="movie-page-'+e/this.offset+'" class="movie_list__page',0===e&&(b+=" active-page"),b+='"><div class="movie_list__flex">'),b+='<a class="movie_list__poster" title="'+d.title+'" href="/?q='+this.getMovieQuery(d)+"&t="+QwantHomepageComponent.currentHomepage.name+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'movie', ia_type: 'list', ia_link: 'item', category: '"+d.title+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">',d.thumbnail?b+='<img class="movie_list__poster--img" src="'+d.thumbnail+'" alt="'+d.title+'" title="'+d.title+'" />':b+='<div class="movie_list__poster--default"><svg width="58" height="58" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-movie"></use></svg></div>',b+='<div class="movie_list__poster_content">'+d.title,d.productionYear?b+='<br /><span class="movie_list__poster_content_year">'+d.productionYear+"</span>":d.fullDate&&(b+='<br /><span class="movie_list__poster_content_year">'+strftime("%Y",new Date(d.fullDate))+"</span>"),b+="</div></a>",e%this.offset!=this.offset-1&&e!==a.data.length-1||(b+="</div></div>");return b+="</div></div></div></div>"},a.result_movie_tickets=function(a){var b="";if(a.loading)b+='<div class="ia_movie--tickets-loader"><svg width="28" height="28" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-loader"></use></svg></div>';else if(a.currentItems){b+='<div class="ia_movie--tickets"><div class="ia_movie--tickets--header"><div class="ia_movie--tickets--day_nav"><button class="movie_list--nav_prev movie__tickets--day_nav_prev"',this.disabledPreviousButton()&&(b+=" disabled"),b+=' id="'+actionManager.addClickListener(this,this.switchDay,{type:ResultMovieTickets.PREVIOUS})+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#arrow-left"></use></svg></button><span class="ia_movie--tickets--day_current">'+this.getFormattedDate()+'</span><button class="movie_list--nav_next movie__tickets--day_nav_next"',this.disableNextButton()&&(b+=" disabled"),b+=' id="'+actionManager.addClickListener(this,this.switchDay,{type:ResultMovieTickets.NEXT})+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#arrow-right"></use></svg></button></div></div><div class="ia_movie--tickets_list"><div class="ia_movie--tickets--content">';var c=a.currentItems;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div class="ia_movie--tickets_item"><div class="ia_movie--tickets_hour">'+strftime("%H:%M",new Date(d.startsAt))+"</div>",(d.diffusionVersion||d.projection)&&(b+='<div class="ia_movie--tickets_diffusion">',d.diffusionVersion&&(b+=""+d.diffusionVersion),d.projection&&(d.diffusionVersion&&(b+="&nbsp;/&nbsp;"),b+=""+d.projection),b+="</div>"),d.tickets&&(b+='<a class="ia_movie--tickets_book" href="'+this.getTicketUrl(d.tickets)+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'movie', ia_type: 'movie', ia_link: 'ticket', ia_position: '"+e+"', category: '"+a.contextData.title+"', ia_element: '"+a.theater.value+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Book","movie")+"</a>"),b+="</div>";b+="</div></div></div>"}return b},a.result_ribbon_movie=function(a){var b="";if(a.data){if(b+='<div class="results-column--ribbon results-column--movie-ribbon">',this.serviceDisplayList()&&a.movieContent)b+=""+a.movieContent.render();else{if(b+='<div id="movie_showtimes"><div class="movie_showtimes--relative',this.isVODService()&&(b+=" movie_showtimes_vod"),b+='"><div class="movie_showtimes--right-panel">',a.data.video){b+='<div class="movie_st__trailer">',a.data.video.type="video";var c=$(".result-smart__video__item");a.data.video.index=c?c.length:0,b+='<div class="movie_st__trailer--embed" id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.open,{media:a.data.video,ia:"movie"})+'"><img src="'+a.data.video.thumbnail+'" alt="trailer" /><div class="circular-button"><span class="icon icon-video-large"></span></div></div></div>'}b+="</div>",a.movieContent&&(b+=""+a.movieContent.render()),b+="</div></div>"}b+="</div>"}return b},a.result_smart_mobile=function(a){var b="";if(a.items.length>0){b+='<div class="result_smart_mobile--container"><h3>'+_("headline news","smart")+'</h3><div class="smart_news_mobile_carousel--container"><div class="smart_news_mobile_carousel">';var c=a.items;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<a class="smart_news_mobile_card" href="'+d.url+'" alt="'+d.title+'" '+SecurityHelper.targetBlank()+'><div class="result--item--report" id='+actionManager.addClickListener(this,ResultFragmentComponent.toggleItemReport,{url:d.url,type:"smart-news",title:d.title,domain:UrlHelper.extractDomain(d.url),position:e+1})+'><svg><use xlink:href="/img/v4/icon-spritesheet.svg?#icon-flag"></use></svg><svg class="report--icon-fill"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-flag-fill"></use></svg></div><div class="smart_news_mobile_card--img" id="result-type__news__link--'+e+'"><img src="'+d.media[0].pict.url+'" alt="'+d.title+'" title="'+d.title+"\" onerror=\"this.onerror=null;this.src='/img/v4/empty-state-news.svg';this.className='result-type__news__item__img--placeholder';removeClass($i('result-type__news__item__text--"+e+"'), 'result-type__news__item__img--text--hidden');addClass($i('result-type__news__link--"+e+'\'), \'result-type__news__item--empty\');"/><span class="result-type__news__item__img--text result-type__news__item__img--text--hidden" id="result-type__news__item__text--'+e+'">'+_("Image not available","results")+'</span></div><div class="smart_news_mobile_card--content"><h4 class="smart_news_mobile_card--title">'+d.title+'</h4><span class="smart_news_mobile_card--domain">'+d.domain+'</span><span class="smart_news_mobile_card--date">'+DateHelper.formatDate(d.date,i18n.date.dateFormat)+"</span></div></a>";b+="</div></div></div>"}return b},a._result_all_mobile=function(a){var b='<div class="result result--'+a.item._type;if(a.item.url.indexOf("youtube")>-1&&(b+=" result--youtube"),a.item._type===siteConfiguration.searchCategories.NEWS.name&&a.item.media&&a.item.media[0]&&a.item.media[0].pict&&"image"===a.item.media[0].pict.type&&(b+=" result--news-image"),b+='">',a.item.resultActionsComponent&&(b+=""+a.item.resultActionsComponent.render()),a.item._type!==siteConfiguration.searchCategories.WEB.name&&(b+='<div class="result__icon"></div>'),a.item._type===siteConfiguration.searchCategories.NEWS.name&&a.item.media&&a.item.media[0]&&a.item.media[0].pict&&"image"===a.item.media[0].pict.type&&(b+='<a class="result__img__container" href="'+a.item.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'default', domain: 'news', url: '"+a.item.url+'\', type: \'serp\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img alt="" src="'+a.item.media[0].pict.url+'" class="result__img" onerror="removeClass(this.parentNode.parentNode, \'result-image\');removeParentByClassName(this, \'result__img__container\');"></a>'),b+='<h3><a href="'+a.item.url+'" '+SecurityHelper.targetBlank()+" ","media"!==a.item._type&&(b+="onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'all', domain: '"+a.item._type+"', url: '"+a.item.url+"', type: '"+(a.type||"serp")+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"'),b+=">"+a.item.title+"</a></h3>","video"!==a.item.type&&(b+='<span class="result__url">',"ad"===a.type?b+='<span class="result__url__type">'+_("Ad","result")+"</span>"+UrlHelper.removeProtocol(a.item.source):a.item._type==siteConfiguration.searchCategories.NEWS.name?b+=""+UrlHelper.extractDomain(a.item.source?a.item.source:a.item.url):b+=""+UrlHelper.removeProtocol(a.item.source?a.item.source:a.item.url),b+="</span>"),a.item._type==siteConfiguration.searchCategories.NEWS.name&&(b+='<span class="result__time"><span class="icon icon-date"></span>'+DotHelper.timeAgoInWords(a.item.date-applicationState.timeMillisOffset/1e3)+"</span>"),b+="<p>"+a.item.desc,"video"==a.item.type&&(b+='<br><span class="result__url">'+UrlHelper.extractDomain(a.item.url)+'</span><span class="result__time">&nbsp;-&nbsp;'+DotHelper.timeAgoInWords(a.item.date-applicationState.timeMillisOffset/1e3)+"</span>"),b+="</p>","media"==a.item._type&&(b+='<a href="'+a.item.url+'" class="result__thumb" '+SecurityHelper.targetBlank()+'><div class="circular-button--small"><span class="icon icon-video-large"></span></div><img alt="" src="'+a.item.img+'"></a>'),a.item.links&&a.item.links.length>0){b+='<div class="result__extensions">';var c=a.item.links;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],e<4&&(b+='<div class="result__extensions__item',""===d.desc1&&(b+=" result__extensions__item--without__desc"),b+='"><div class="result__extensions__item__title"><a class="result__extensions__item__title--link" href="'+d.link+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(10*a.item.position+e+1)+"', t: 'all', domain: '"+a.item._type+"', url: '"+d.link+'\', type: \'ad\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+d.text+"</a></div>",d.desc1&&""!==d.desc1&&(b+='<div class="result__extensions__item__description">'+d.desc1,d.desc2&&""!==d.desc2&&(b+=" "+d.desc2),b+="</div>"),b+="</div>");b+="</div>"}return b+="</div>"},a._result_image_preview=function(a){var b="";return MediaOverlayComponent.media=a.media,MediaOverlayActionComponent.media=a.media,b+='<div class="'+a.key+' result--images-preview"><span class="image_preview--close" id="'+actionManager.addClickListener(this,this.hideImagePreview)+'"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1529484108256#circle-close"></use></svg></span><div class="image_preview--img"><a href="'+a.media.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.media.media+"', overlay: 'image', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+a.media.media_preview+'" alt="'+a.media.title+'" onload="style.opacity=1; parentNode.style.background=\'none\'" /></a></div><div class="image_preview--infos"><h3>'+a.media.title+'</h3><a class="image_preview__info--domain" href="'+a.media.url+'" '+SecurityHelper.targetBlank()+">"+UrlHelper.extractDomain(a.media.url)+"</a>",a.media.hasOwnProperty("thumb_type")&&""!==a.media.thumb_type&&(b+='<span><span class="image_preview__info--thumb_type">'+a.media.thumb_type+'</span><span class="image_preview__info--size">'+a.media.width+" x "+a.media.height+"</span></span>"),b+='<div class="image_preview__action--container"><span class="image_preview__action"><a id="'+actionManager.addClickListener(MediaOverlayActionComponent,MediaOverlayActionComponent.copyLinkToClipboard,{})+'" class="image_preview__menu__item image_preview__menu__item--copy-link"><svg class="image_preview__action--icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#share"></use></svg><span class="image_preview__action--label" >'+_("Share","preview")+'</span></a><input type="text" id="overlay-sharing-url"></span><span class="image_preview__action media_overlay__action--report"><a id="'+actionManager.addClickListener(this,ResultFragmentComponent.toggleItemReport,{url:a.media.media,type:"image",title:a.media.title,domain:UrlHelper.extractDomain(a.media.url),position:a.media.index+1})+'" class="image_preview__menu__item image_preview__menu__item--report"><svg class="image_preview__action--icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?#icon-flag"></use></svg><span class="image_preview__action--label" >'+_("Report","preview")+'</span></a></span><span class="image_preview__action"><a href="'+a.media.media+'" '+SecurityHelper.targetBlank()+" class=\"image_preview__menu__item image_preview__menu__item--see-image\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.media.media+"', overlay: '"+a.media.type+"', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="image_preview__action--icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#maximize"></use></svg><span class="image_preview__action--label" >'+_("Fullscreen","preview")+'</span></a></span><span class="image_preview__action media_overlay__action--website"><a href="'+a.media.url+'" '+SecurityHelper.targetBlank()+" class=\"image_preview__menu__item image_preview__menu__item--see-website\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'overlay', link: '"+a.media.media+"', overlay: '"+a.media.type+"', event: 'overlay_outlink', t: '"+MediaOverlayComponent.tab+'\'})" onclick="MediaOverlayActionComponent.website();LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="image_preview__action--icon" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#minimize"></use></svg><span class="image_preview__action--label" >'+_("View website","preview")+"</span></a></span></div></div></div>"},a._result_images=function(a){var b="";return!BrowserHelper.isTabletOrMobile&&window.innerWidth>1024?b+='<div class="result result--images" id="'+actionManager.addClickListener(this,this.displayImagePreview,{media:a.item})+'"':b+='<div class="result result--images" id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.open,{media:a.item})+'"',"gif"==a.item.thumb_type&&(b+=""+actionManager.addHoverListener(this,this.gifHoverIn,this.gifHoverOut,{id:a.item.count,mediaAnimated:a.item.media_fullsize,parent:this,alreadyGotId:!0})),b+='><a class="result__link" href="'+a.item.media+'"><div class="result__thumb-container">',"gif"==a.item.thumb_type?b+='<div class="gif_container"><span class="result--images__icon_gif button_gif--'+a.item.count+'">GIF</span><img class="result__thumb-container__image" alt="" src="'+a.item.thumbnail+'"data-original="'+a.item.media+'"data-naturalWidth="'+a.item.width+'"data-naturalHeight="'+a.item.height+'"data-thumbWidth="'+a.item.thumb_width+'"data-thumbHeight="'+a.item.thumb_height+'"onerror="ResultFragmentComponent.getInstance().onErrorImageLoad('+a.item.count+")\"onload=\"this.style.visibility='visible'; setStyleToParentByClassName(this, 'result', 'background', 'none')\"><img class=\"result--images__gif_animated gif_animated--"+a.item.count+'" alt=""></div>':b+='<img class="result__thumb-container__image" alt="" src="'+a.item.thumbnail+'"data-original="'+a.item.media+'"data-naturalWidth="'+a.item.width+'"data-naturalHeight="'+a.item.height+'"data-thumbWidth="'+a.item.thumb_width+'"data-thumbHeight="'+a.item.thumb_height+'"onerror="ResultFragmentComponent.getInstance().onErrorImageLoad('+a.item.count+")\"onload=\"this.style.visibility='visible'; setStyleToParentByClassName(this, 'result' ,'background', 'none')\">",b+='</div></a><span class="icon icon-fullscreen result__hover-icon"></span>',BrowserHelper.isTabletOrMobile||(b+='<span class="image_preview--arrow-up"></span>'),b+="</div>"},a._result_news=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c="",d=a.item.media&&a.item.media[0]&&a.item.media[0].pict&&"image"===a.item.media[0].pict.type;if(c+='<div class="result-type__news__item',"ad"===a.type&&(c+=" result--ext"),c+='"><div class="result--item--report" id='+actionManager.addClickListener(this,ResultFragmentComponent.toggleItemReport,{url:a.item.url,type:a.item.type,title:a.item.title,domain:UrlHelper.extractDomain(a.item.url),position:a.item.index+1})+'><svg><use xlink:href="/img/v4/icon-spritesheet.svg?#icon-flag"></use></svg><svg class="report--icon-fill"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-flag-fill"></use></svg></div><div class="result-type__news__img--container"><a href="'+a.item.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"NewsColumnComponent.logClick(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'default', domain: 'news', url: '"+a.item.url+"', type: '","ad"===a.type?c+=""+a.type:c+="serp",c+="', category: '","ad"===a.type?c+=""+a.type:c+=""+a.item.category,c+='\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" onclick="LinkHelper.clickHandler(this, Event)" class="',d||(c+="result-type__news__item--empty"),c+='"id="result-type__news__link--'+a.item.index+'">',c+=d?'<img class="result-type__news__item__img" alt="'+b(a.item.title)+'" src="'+a.item.media[0].pict.url+"\" onerror=\"this.onerror=null;this.src='/img/v4/empty-state-news.svg';this.className='result-type__news__item__img--placeholder';removeClass($i('result-type__news__item__text--"+a.item.index+"'), 'result-type__news__item__img--text--hidden');addClass($i('result-type__news__link--"+a.item.index+'\'), \'result-type__news__item--empty\');"><span class="result-type__news__item__img--text result-type__news__item__img--text--hidden" id="result-type__news__item__text--'+a.item.index+'">'+_("Image not available","results")+"</span>":'<img class="result-type__news__item__img--placeholder"  src="/img/v4/empty-state-news.svg" alt="no img"><span class="result-type__news__item__img--text">'+_("Image not available","results")+"</span>",c+='</a></div><div class="result-type__news__text--container"><a href="'+a.item.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"NewsColumnComponent.logClick(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'default', domain: 'news', url: '"+a.item.url+"', type: '","ad"===a.type?c+=""+a.type:c+="serp",c+="', category: '","ad"===a.type?c+=""+a.type:c+=""+a.item.category,c+='\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" onclick="LinkHelper.clickHandler(this, Event)"><div class="result-type__item__title">'+a.item.title+'</div></a><div class="result-type__news__time--container"><span>',"ad"===a.type?(c+='<span class="result__url__type',0===a.item.state&&(c+=" result__url__type--special"),c+='">'+_("Ad","result")+'</span><span class="result-news--similars-links--first">'+a.item.domain+"</span></span>"):c+=NewsColumnComponent.formatDateOfNews(a.item.date)+" "+_("via","results")+' <span class="result-news--similars-links--first">'+UrlHelper.extractDomain(a.item.url)+"</span></span>",a.item.similar&&a.item.similar.length>1&&this.column.isSingleColumn&&!BrowserHelper.isTabletOrMobile){c+='<span class="result-news--similars--label" id="result-news--similars--label-'+a.item.index+'" onclick="NewsColumnComponent.openSimilars('+a.item.index+")\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'more-similars', context: 'true', t: 'default', component: 'news-similars'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\" "+applicationState.user.target()+">+"+a.item.similar.length+'</span><span class="result-news--similars-container" id="result-news--similars--to-develop-'+a.item.index+'"><span class="result-news--similars-links"><span class="result-news--similars-links--container"><span class="result-news--similars-links--introducer">'+_("and","results")+"</span>";var e=a.item.similar;if(e)for(var f,g=-1,h=e.length-1;g<h;)f=e[g+=1],
c+='<a href="'+f.url+'" '+SecurityHelper.targetBlank()+' class="result--news--similars--similar--domain" title="'+f.domain+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'default', domain: 'news', url: '"+f.url+"', type: 'similar', category: '"+a.item.category+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+UrlHelper.removeProtocol(f.domain)+"</a>";c+="</span></span></span>"}return c+="</div></div></div>"},a._result_smart=function(a){var b='<div class="result result--'+a.item._type;return a.item.url.indexOf("youtube")>-1&&(b+=" result--youtube"),b+='"><div class="result__icon"></div><h3><a href="'+a.item.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'web', domain: '"+a.item._type+"', url: '"+a.item.url+'\', type: \'serp\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)" onclick="LinkHelper.clickHandler(this, Event)">'+a.item.title+'</a></h3><span class="result__url">'+UrlHelper.extractDomain(a.item.url)+"</span><p>"+a.item.desc,a.item._type==siteConfiguration.searchCategories.NEWS.name&&(b+='<span class="result__time">'+DotHelper.timeAgoInWords(a.item.date-applicationState.timeMillisOffset/1e3)+"</span>"),b+="</p>","media"==a.item._type&&(b+='<a href="'+a.item.url+'" class="result__thumb" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'web', domain: '"+a.item._type+"', url: '"+a.item.url+'\', type: \'serp\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)" onclick="LinkHelper.clickHandler(this, Event)"><div class="circular-button--small"><span class="icon icon-video-large"></span></div><img alt="" src="'+a.item.img+'"></a>'),b+="</div>"},a._result_smart_b=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c="";if(a.preparedItems.news&&(a.preparedItems.news[0]&&a.preparedItems.news[0].media&&a.preparedItems.news[0].media[0]&&a.preparedItems.news[0].media[0].pict_big.url||a.preparedItems.news[1]&&a.preparedItems.news[1].media&&a.preparedItems.news[1].media[0]&&a.preparedItems.news[1].media[0].pict_big.url)&&this.shouldDisplaySmartItem("news")){c+='<div class="result-smart__item result-smart__news"><div class="result-smart__header"><h3 class="result-smart__title__text">'+_("News","smart-result")+'</h3><div class="result-smart__see-more--container"><a class="result-smart__see-more__link" href="?q='+a.query+"&t=news\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'more_news', t: 'web', component: 'result_smart'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\" onclick=\"LinkHelper.clickHandler(this, Event)\"><svg class=\"result-smart__see-more__icon\" title=\""+_("See more news","smart-result")+'" width="17" height="17" viewBox="0 0 17 17"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#chevron-right"></use></svg><span class="result-smart__see-more__text">'+_("See more news","smart-result")+"</span></a></div></div>";var d=a.preparedItems.news;if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],e.media&&e.media[0]&&e.media[0].pict_big.url&&(c+='<a class="result-smart__news__item" title="'+b(e.title)+'" href="'+e.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"NewsColumnComponent.logClick(this, Event, {AjaxRoute: 'url', position: '"+(f+1)+"', t: 'web', domain: 'news', url: '"+e.url+"', category: '"+e.category+'\', type: \'serp\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)" onclick="LinkHelper.clickHandler(this, Event)"><div class="result--item--report" id='+actionManager.addClickListener(this,ResultFragmentComponent.toggleItemReport,{url:e.url,type:"smart-news",title:e.title,domain:UrlHelper.extractDomain(e.url),position:f+1})+'><svg><use xlink:href="/img/v4/icon-spritesheet.svg?#icon-flag"></use></svg><svg class="report--icon-fill"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-flag-fill"></use></svg></div><div class="result-smart__news__img--container"><img class="result-smart__news__item__img" alt="'+b(e.title)+'" src="'+e.media[0].pict_big.url+'" onerror="this.onerror=null;this.src=\'/img/error/news_error--small.png\';"></div><div class="result-smart__news__text--container"><div class="result-smart__item__title">'+e.title+'</div><div class="result-smart__news__time--container"><span>'+DotHelper.timeAgoInWords(e.date-applicationState.timeMillisOffset/1e3)+" "+_("via","smart-result")+' <span class="result-news--similars-links--first">'+UrlHelper.extractDomain(e.url)+"</span></span></div></div></a>");c+="</div>"}if(a.preparedItems.videos&&a.preparedItems.videos[0]&&this.shouldDisplaySmartItem("videos")){c+='<div class="result-smart__item result-smart__video"><div class="result-smart__title"><h3 class="result-smart__title__text">'+_("Videos","smart-result")+"</h3></div>",MediaOverlayComponent.addMedias(a.preparedItems.videos,!1,{page:0});var h=a.preparedItems.videos;if(h)for(var e,f=-1,i=h.length-1;f<i;){e=h[f+=1];var j=$(".movie_st__trailer--embed")[0];e.index=j?f+1:f,c+='<div class="result-smart__video__item" id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.open,{media:e})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(f+1)+"', t: 'web', domain: 'video', url: '"+e.url+'\', type: \'serp\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)" onclick="LinkHelper.clickHandler(this, Event)"><div class="result-smart__video__img--container"><div class="result-smart__video__item__border result-smart__video__item__border--top"></div><div class="circular-button--small"><span class="icon icon-video-large"></span></div><img class="result-smart__video__item__img" alt="'+b(e.title)+'" src="'+e.img+'"><div class="result-smart__video__item__border result-smart__video__item__border--bottom"></div></div><div class="result-smart__video__text--container"><div class="result-smart__item__title">'+e.title+'</div><span class="result-smart__item__domain">youtube.com</span></div></div>'}c+='<div class="result-smart__see-more--container"><a class="result-smart__see-more__link" href="?q='+a.query+'&t=videos" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone: \'more_videos\', t: \'web\', component: \'result_smart\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)" onclick="LinkHelper.clickHandler(this, Event)"><span class="result-smart__see-more__icon icon icon-voir-plus-desktop"></span><span class="result-smart__see-more__text">'+_("See more","smart-result")+"</span></a></div></div>"}return c},a._result_videos=function(a){var b='<div class="result result--videos" id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.open,{media:a.item})+'"><div class="result__video-wrapper"><div class="result__video-wrapper__background" style="background-image: url(\''+a.item.thumbnail+'\')"></div><svg class="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938516#play-white"></use></svg>';return a.item.duration&&(b+='<span class="result__duration"><span class="result__duration__icon"></span> '+DateHelper.getDuration(a.item.duration)+"</span>"),b+='</div><div class="result__video__infos-wrapper"><h3>'+a.item.title+'</h3><div class="result__video__infos--container"><span class="result__url"><svg width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-link-2"></use></svg>'+UrlHelper.extractDomain(a.item.url)+'</span><span class="result__time"><svg width="16" height="16" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-clock"></use></svg>'+DotHelper.timeAgoInWords(a.item.date-applicationState.timeMillisOffset/1e3)+"</span></div></div></div>"},a._result_web=function(a){var b='<div class="result result--web';"ad"===a.type&&(b+=" result--ext"),b+='"><div class="result--item--report" id='+actionManager.addClickListener(this,ResultFragmentComponent.toggleItemReport,{url:a.item.url,cache_key:this.state.cacheKey,type:"ad"===a.type?"ad":a.item.type,title:a.item.title,desc:a.item.desc,domain:UrlHelper.removeProtocol(a.item.source?a.item.source:a.item.url),position:a.item.position})+'><svg><use xlink:href="/img/v4/icon-spritesheet.svg?#icon-flag"></use></svg><svg class="report--icon-fill"><use xlink:href="/img/v4/icon-spritesheet.svg?#icon-flag-fill"></use></svg></div><h3>';var c="serp",d=a.item.position;if("ad"===a.type&&(c="ad",d=a.page+1+""+a.index),void 0===a.item.ad_type||"custom"!==a.item.ad_type&&"customAdServer"!==a.item.ad_type?(b+='<a href="'+a.item.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"WebColumnComponent.logClick(this, Event, {AjaxRoute: 'url', position: '"+d+"', t: 'default', domain: 'web', url: '"+a.item.url+"', type: '"+c+"'",this.state.cacheKey&&(b+=", cachekey:'"+this.state.cacheKey+"'"),b+=" ",a.item.ad_type&&(b+=", ad_type:'"+a.item.ad_type+"'"),b+='})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" class="result--web--link">',null!==ResultHelper.checkExtension(a.item.url)&&(b+='<span class="result--web--filetype">['+ResultHelper.checkExtension(a.item.url).toUpperCase()+"]</span>"),a.item.favicon?b+='<img class="result--web--favicon" src="'+a.item.favicon+'" alt="'+UrlHelper.removeProtocol(a.item.source?a.item.source:a.item.url)+'" title="'+UrlHelper.removeProtocol(a.item.source?a.item.source:a.item.url)+'" onerror="this.onerror=null;this.style.display=\'none\';WebColumnComponent.fallbackIcon(this)"/>':b+='<svg class="result--web--favicon result--web--favicon"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-globe"></use></svg>',b+='<span class="result--web--title ',uxVersions.indexOf("dark_links")>-1&&(b+="result--web--title-dark"),b+='">'+a.item.title+'</span><div class="result__url">',"ad"===a.type&&(b+='<span class="result__url__type',0===a.item.state&&(b+=" result__url__type--special"),b+='">'+_("Ad","result")+"</span>"),b+='<span class="result__url__long">'+UrlHelper.removeProtocol(a.item.source?a.item.source:a.item.url)+"</span>",a.item.resultActionsComponent&&applicationState.user.canReportAds()&&"ad"===c&&(b+=""+a.item.resultActionsComponent.render()),a.item.date_update&&(b+='<span class="result__time">&nbsp;-&nbsp;'+DotHelper.timeAgoInWords(a.item.date_update-applicationState.timeMillisOffset/1e3)+"</span>"),b+="</div></a>"):(b+='<a href="'+a.item.source+'" '+SecurityHelper.targetBlank()+" onmousedown=\"WebColumnComponent.logClick(this, Event, {AjaxRoute: 'url', position: '"+d+"', t: 'default', domain: 'web', url: '"+("customAdServer"===a.item.ad_type?a.item.source:a.item.url)+"', type: '"+("customAdServer"===a.item.ad_type?"adwords":c)+"'",this.state.cacheKey&&(b+=", cachekey:'"+this.state.cacheKey+"'"),b+=" ",a.item.ad_type&&(b+=", ad_type:'"+a.item.ad_type+"'"),b+="}); this.href='"+a.item.url+'\';" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" class="result--web--link"><svg class="result--web--favicon result--web--favicon"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-globe"></use></svg><span class="result--web--title ',uxVersions.indexOf("dark_links")>-1&&(b+="result--web--title-dark"),b+='">'+a.item.title+'</span><div class="result__url"><span class="result__url__type',0===a.item.state&&(b+=" result__url__type--special"),b+='">'+_("Ad","result")+'</span><span class="result__url__long">'+UrlHelper.removeProtocol(a.item.source?a.item.source:a.item.url)+"</span>",a.item.resultActionsComponent&&applicationState.user.canReportAds()&&"ad"===c&&(b+=""+a.item.resultActionsComponent.render()),a.item.date_update&&(b+='<span class="result__time">&nbsp;-&nbsp;'+DotHelper.timeAgoInWords(a.item.date_update-applicationState.timeMillisOffset/1e3)+"</span>"),b+="</div></a>"),b+="</h3><p>"+a.item.desc.trim()+"</p>",a.item.links&&a.item.links.length>0){b+='<div class="result__extensions ',a.item.links[0].desc1&&""!==a.item.links[0].desc1&&(b+="result__extensions--extended"),b+='">';var e=a.item.links;if(e)for(var f,g=-1,h=e.length-1;g<h;)f=e[g+=1],(g<4&&!f.desc1||g<6&&f.desc1&&BrowserHelper.isTabletOrMobile||g<2&&f.desc1)&&(b+='<div class="result__extensions__item',""===f.desc1&&(b+=" result__extensions__item--without__desc"),b+='"><div class="result__extensions__item__title"><a class="result__extensions__item__title--link" href="'+f.link+'" '+SecurityHelper.targetBlank()+" onmousedown=\"WebColumnComponent.logClick(this, Event, {AjaxRoute: 'url', position: '"+(10*a.item.position+g+1)+"', t: 'default', domain: 'web', url: '"+f.link+"', type: 'ad'",this.state.cacheKey&&(b+=", cachekey: '"+this.state.cacheKey+"'"),b+='})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+f.text+"</a>",""===f.desc1&&g<3&&(b+='<span class="result__extensions__item--separator"></span>'),b+="</div>",f.desc1&&""!==f.desc1&&(b+='<div class="result__extensions__item__description">'+f.desc1,f.desc2&&""!==f.desc2&&(b+=" "+f.desc2),b+="</div>"),b+="</div>");a.item.links[3]&&a.item.links[3].desc1&&""!==a.item.links[3].desc1&&(b+='<div class="result__extensions__see-more" id="'+actionManager.addClickListener(this,this.toggleMoreSitelinks)+'"><span class="result__extensions__see-more--btn"><svg><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-down"></use></svg></span><span class="result__extensions__see-more--label">'+_("See more links","result")+"</span></div>"),b+="</div>"}return b+="</div>",2===a.item.position&&this.addMobileNews&&(b+=""+new smartMobileComponent(this.route).render()),b},a._result_ribbon_game_editor=function(a){var b='<div class="results-column--ribbon ribbon-knowledge ribbon-knowledge--game">';return a.data?(b+='<div class="ribbon-knowledge--container"><div class="ribbon_info--container"><div class="ribbon_game__description',a.data[0].picture&&(b+=" ribbon_game_info__with_picture"),b+='"><div class="ribbon-knowledge-game-header"><svg class="ribbon-knowledge-game-icon" title="'+_("Game editor","home")+'" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-games"></use></svg><span>'+_("Game editor","home")+'</span></div><div class="ribbon_game__description__header"><a href="/game-editor/'+a.data[0].slug+"\" class=\"ribbon_info__title\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'game_editor', ia_link: 'title', ia_slug: '"+a.data[0].slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+a.data[0].title+"</a>",a.data[0].description&&(b+='<div class="ribbon_info__description">'+a.data[0].description+"</div>"),b+='</div></div><a href="/game-editor/'+a.data[0].slug+"\" class=\"ribbon__cover\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'game_editor', ia_link: 'cover', ia_slug: '"+a.data[0].slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="ribbon__cover__image" title="'+a.data[0].title+'" src="'+a.data[0].picture+'" onerror="removeParentByClassName(this, \'ribbon__cover\');"></a></div><a href="/game-editor/'+a.data[0].slug+"\" class=\"ribbon_editor_discover\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'game_editor', ia_link: 'discover', ia_slug: '"+a.data[0].slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Discover {item}","music_ribbon",{item:a.data[0].title})+"</a></div>"):b+='<div class="no_result">'+_("No results found.","result")+"</div>",b+="</div>"},a._result_ribbon_images=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="results-column results-column--ribbon results-column--images-ribbon"><a class="ribbon__content__see-more"href="/?q='+b(UrlHelper.htmlentitiesToEncodeURI(UrlHelper.formatUrl(a.encodedKeyPhrase)))+"&t=images\"tabindex=\"-1\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction',event:'click',zone: 'more_images',component : 'ribbon',context: 'true'})\"onclick=\"LinkHelper.clickHandler(this, Event)\"onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("More images","result")+'<span class="ribbon__content__see-more__icon"></span></a><div class="ribbon__content ribbon__content--images ribbon__content--current"><div class="ribbon__content__inner">';if(a.data){c+='<div class="result_fragment">';var d=a.data;if(d)for(var e,f=-1,g=d.length-1;f<g;){e=d[f+=1],e.index=f,c+='<div class="result result--images" id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.open,{media:e})+'"><a '+SecurityHelper.targetBlank()+' href="'+e.media+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone:'images', component : 'ribbon', position: '"+(e.index+1)+'\', context: \'true\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">';var h=e.width/e.height,i=200,j=0,k=i*h;k>380&&(k=380,i=380/h,j=(200-i)/2),k>e.width&&(k=e.width,i=e.width/h,j=(200-i)/2),c+='<div class="result__thumb-container"',"gif"==e.thumb_type?c+=actionManager.addHoverListener(this,this.gifHoverIn,this.gifHoverOut,{id:e.count,mediaAnimated:e.media_fullsize,parent:this,alreadyGotId:!0})+'><div class="gif_container"><span class="result--images__icon_gif button_gif--'+e.count+'">GIF</span><img alt="" src="'+e.thumbnail+'" data-original="'+e.media+'"onerror="removeParentByClassName(this, \'result\')"onload="this.style.visibility=\'visible\';"style="width:'+k+"px; min-width:"+k+"px; height: "+i+"px; margin: "+j+"px 0 "+j+'px"><img class="result--images--ribbon__gif_animated gif_animated--'+e.count+'" alt=""onload="this.style.visibility=\'visible\';"style="width:'+k+"px; min-width:"+k+"px; height: "+i+"px; margin: "+j+"px 0 "+j+'px"></div>':c+='><img alt="" src="'+e.thumbnail+'" data-original="'+e.media+'"onerror="removeParentByClassName(this, \'result\')"onload="this.style.visibility=\'visible\';"style="width:'+k+"px; min-width:"+k+"px; height: "+i+"px; margin: "+j+"px 0 "+j+'px">',c+="</div></a></div>"}c+="</div>"}else c+='<div class="no_result">'+_("No results found.","result")+"</div>";return c+="</div></div></div>"},a._result_ribbon_music=function(a){var b='<div class="results-column--ribbon ribbon-knowledge ribbon-knowledge--music">';if(a.data){if(b+='<div class="ribbon-knowledge--container"><div class="ribbon-knowledge-music-header"><svg class="ribbon-knowledge-music-icon" title="'+_("Game editor","home")+'" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-music"></use></svg><span>'+_("Music","home")+'</span></div><a href="'+config_get("qwantUrl")+"/music/artist/"+a.data[0].artist.slug+"\" class=\"ribbon__cover\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'music', ia_link: 'cover', ia_slug: '"+a.data[0].artist.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" target="_blank"><img class="ribbon__cover__image" title="'+a.data[0].artist.name+'" src="'+a.data[0].artist.picture+'" onerror="removeParentByClassName(this, \'ribbon__cover\');"></a><div class="ribbon_info--container"><a href="'+config_get("qwantUrl")+"/music/artist/"+a.data[0].artist.slug+'" class="ribbon_info__title" title="'+a.data[0].artist.name+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'music', ia_link: 'title', ia_slug: '"+a.data[0].artist.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" target="_blank">'+a.data[0].artist.name+"</a>",a.data[0].artist.genre&&(b+='<div class="ribbon_info__genre">'+a.data[0].artist.genre+"</div>"),a.data[0].artist.wikipedia&&a.data[0].artist.wikipedia.biography){var c=a.data[0].artist.wikipedia.biography;c.length>250&&(c=c.replace(/(.{250}[a-zA-Z]+?) .*/g,"$1...")),b+='<div class="ribbon_info__description">'+c+"</div>"}if(b+='</div><div class="ribbon_info__url--container">',a.data[0].artist.wikipedia&&a.data[0].artist.wikipedia.url&&(b+='<a class="ribbon_info__url" href="'+a.data[0].artist.wikipedia.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'music', ia_link: 'wikipedia', ia_slug: '"+a.data[0].artist.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-nav-selector-icon-2"></span> Wikipedia</a>'),a.data[0].artist.wikipedia&&a.data[0].artist.wikipedia.official_url&&(b+='<a class="ribbon_info__url" href="'+a.data[0].artist.wikipedia.official_url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'music', ia_link: 'website', ia_slug: '"+a.data[0].artist.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-nav-selector-icon-2"></span> '+_("Official website","music_ribbon")+"</a>"),b+="</div>",a.data[0].discography&&a.data[0].discography.items&&a.data[0].discography.items.length>2){b+='<div class="ribbon_discography"><div class="ribbon_discography__container" ',BrowserHelper.isTabletOrMobile&&(b+='style="width:'+96*a.data[0].discography.items.length+'px;"'),b+=">";var d=a.data[0].discography.items;if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],b+='<a class="ribbon_discography__link" href="'+config_get("qwantUrl")+"/music/album/"+e.slug+'" title="'+e.name+"\" target=\"_blank\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'music', ia_link: 'discography', ia_slug: '"+a.data[0].artist.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="ribbon_discography__container-image"><img class="ribbon_discography__image" src="'+e.picture+'"></div><div class="ribbon_discography__image-title">'+e.name+'</div><div class="ribbon_discography__image-release">'+e.releaseDate+"</div></a>";b+="</div></div>"}b+='<a href="'+config_get("qwantUrl")+"/music/artist/"+a.data[0].artist.slug+"\" class=\"ribbon_discover\" target=\"_blank\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'music', ia_link: 'discover', ia_slug: '"+a.data[0].artist.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Discover {item}'s universe","music_ribbon",{item:a.data[0].artist.name})+"</a></div>"}else b+='<div class="no_result">'+_("No results found.","result")+"</div>";return b+="</div>"},a._result_ribbon_shopping=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="results-column--ribbon results-column results-column--shopping-ribbon">';if("fr_fr"===applicationState.user.userSetting.getInterfaceLanguageCode()&&this.isShoppingPromo(a.query)&&(c+='<div class="ia_shopping--ribbon"><a href="/shopping?q=black friday" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'ia_shopping', zone: 'ribbon'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"></a></div>"),c+='<div class="ribbon__content ribbon__content--shopping"><div class="ia_shopping--title"><a href="?q='+b(UrlHelper.htmlentitiesToEncodeURI(UrlHelper.formatUrl(a.encodedKeyPhrase)))+"&t=shopping\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', component: 'ia_shopping', zone: 'title'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Shopping results","ia_shopping")+"</a></div>",this.tooltip&&!BrowserHelper.isTabletOrMobile&&(c+="<span ","FR"===applicationState.user.userSetting.getSearchRegionCode()?c+='id="'+this.tooltipID+'"':c+=""+this.hover(!1,"tooltip__icon--"+this.tooltip.id,!1),c+=' class="ribbon_shopping_tooltip tooltip__icon--'+this.tooltip.id+'"><svg class="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-help-circle"></use></svg></span>'+this.tooltip.render()+'<span class="ribbon_shopping_ad_alert">'+_("Ads by Qwant","ia_shopping")+"</span>"),c+='<div class="ribbon__content__inner">',a.data){a.data=this.getSliceShoppingItems(a.data),c+='<div class="result_fragment shopping-mosaic-ia"><div class="result_fragment--wrapper" style="max-width:'+(230*a.data.length+140)+'px">';var d=a.data;if(d)for(var e,f=-1,g=d.length-1;f<g;){e=d[f+=1];var h=new ShoppingSearchResultModel(e),i=h.getMainOffer();c+='<div class="result result--shopping"><a href="'+b(i.url)+'" '+applicationState.user.target()+" tabindex=\"-1\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(f+1)+"', t: 'default', domain: 'shopping', url: '"+i.url+"', type: 'serp', partnerName: '"+i.getPartnerName()+"', seller: '"+i.getName()+"', price: '"+i.getRawPrice()+"', category: '"+LinkHelper.slugalize(h.getCategories().join("_"))+"', isDiscount: '"+(i.isOnSale()?1:0)+"', isRefurbished: '"+(e.offers[0].refurbished?1:0)+"', gtin: '"+i.getGTIN()+"', brand: '"+i.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="result__image--container"><img class="ribbon_shopping__thumbnail" alt="" src="'+h.getMainImageUrl()+'"></span><h3 title="'+h.getLightTitle()+'">'+h.getLightTitle()+'</h3><span class="result__price">'+i.getPrice()+'</span><span class="result__shop">'+i.getName()+"</span>",e.offers[0].refurbished&&(c+='<div class="result--shopping__refurbished">'+_("Refurbished","shopping")+"</div>"),c+="</a></div>"}c+="</div>",a.data.length>6&&!BrowserHelper.isTabletOrMobile&&(c+='<div class="ia_shopping--see_more_container"><div class="ia_shopping--see_more" id="'+actionManager.addClickListener(this,this.addShoppingItems)+'" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', component: \'ia_shopping\', zone: \'see_more\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#chevrons-right"></use></svg></div></div>'),c+="</div>"}else c+='<div class="no_result">'+_("No results found.","result")+"</div>";return c+="</div></div>",this.tooltip&&BrowserHelper.isTabletOrMobile&&(c+="<div><span ","FR"===applicationState.user.userSetting.getSearchRegionCode()?c+='id="'+this.tooltipID+'"':c+=""+this.hover(!1,"tooltip__icon--"+this.tooltip.id,!1),c+=' class="ribbon_shopping_tooltip tooltip__icon--'+this.tooltip.id+'"><svg class="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-help-circle"></use></svg></span>'+this.tooltip.render()+'<span class="ribbon_shopping_ad_alert">'+_("Ads by Qwant","ia_shopping")+"</span></div>"),c+='<hr class="ribbon_box_horizontal-line" /></div>'},a._result_ribbon_videos=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="results-column--ribbon results-column results-column--videos-ribbon"><a class="ribbon__content__see-more"href="/?q='+b(UrlHelper.htmlentitiesToEncodeURI(UrlHelper.formatUrl(a.encodedKeyPhrase)))+"&t=videos\"tabindex=\"-1\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction',event:'click',zone: 'more_videos',component : 'ribbon',context: 'true'})\"onclick=\"LinkHelper.clickHandler(this, Event)\"onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("More videos","result")+'<span class="ribbon__content__see-more__icon"></span></a><div class="ribbon__content ribbon__content--videos"><div class="ribbon__content__inner">';if(a.data){c+='<div class="result_fragment">';var d=a.data;if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],e.index=f,c+='<div class="result result--videos ',e.url.indexOf("youtube")>-1&&(c+="result--youtube"),c+='"id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.open,{media:e})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event:'click', zone:'videos', component : 'ribbon', position: '"+(e.index+1)+'\', context: \'true\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img alt="" src="'+e.thumbnail+'"><div class="circular-button--small"><span class="icon icon-video-large"></span></div><span class="result__info"><h3>'+e.title+"</h3></span></div>";c+="</div>"}else c+='<div class="no_result">'+_("No results found.","result")+"</div>";return c+="</div></div></div>"},a._ribbon_ads=function(a){var b='\x3c!-- do not remove this comment, it resolves a dotjs template bug that removes <a> tags in the beginning of dot files --\x3e<a href="'+a.url+'" class="ribbon_alternative_image" '+a.target+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.type+"', ia_link: 'ads', ia_slug: '"+a.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">';return a.imgLarge&&(b+='<img class="ribbon_alternative_image--img-large" alt="'+a.title+'" title="'+a.title+'" src="'+a.imgLarge+'" />'),a.imgSmall&&(b+='<img class="ribbon_alternative_image--img-small" alt="'+a.title+'" title="'+a.title+'" src="'+a.imgSmall+'" />'),a.imgXSmall&&(b+='<img class="ribbon_alternative_image--img-xsmall" alt="'+a.title+'" title="'+a.title+'" src="'+a.imgXSmall+'" />'),a.imgWeb&&(b+='<img class="ribbon_alternative_image--img-normal" alt="'+a.title+'" title="'+a.title+'" src="'+a.imgWeb+'" />'),b+="</a>"},a._ribbon_cover=function(a){var b='<a href="'+a.route+'" class="ribbon__cover ';return a.roundCoverImage&&(b+="ribbon__round_cover"),b+='" '+a.target+"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.type+"', ia_link: 'cover',",a.is_brand&&(b+="ia_slug: '"+CustomPageHelper.logalize(a.data.brand)+"', ia_campaign: '"+a.data.data.name+"', brand: '"+a.data.brand+"', brand_type: '"+a.data.type+"',"),b+='t: \'default\'})"onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="ribbon__cover__image" title="'+a.title,a.year&&""!==a.year&&(b+=" ("+a.year+")"),b+='" src="'+a.picture+'" onerror="removeParentByClassName(this, \'ribbon__cover\')"></a>'},a._ribbon_filmography=function(a){
var b='<div class="ribbon-knowledge_filmography"><div class="ribbon-knowledge_filmography--header"><h4 class="ribbon-knowledge_filmography--title"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-movie"></use></svg><span>'+_("Filmography","knowledge")+"</span></h4>";!BrowserHelper.isTabletOrMobile&&a.data.filmography.length>3&&(b+='<div class="ribbon-knowledge_filmography--nav"><button class="movie_list--nav_prev" disabled id="'+actionManager.addClickListener(this,IAHelper.listScroll,{position:"left",component:KnowledgeRibbonComponent,type:"movies",numberOfItems:a.data.filmography.length,footstep:3})+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-up"></use></svg></button><button class="movie_list--nav_next" id="'+actionManager.addClickListener(this,IAHelper.listScroll,{position:"right",component:KnowledgeRibbonComponent,type:"movies",numberOfItems:a.data.filmography.length,footstep:3})+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-up"></use></svg></button></div>'),b+='</div><div class="ribbon-knowledge_filmography--list"><div class="ribbon-knowledge_filmography--content">';var c=a.data.filmography;if(c)for(var d,e=-1,f=c.length-1;e<f;){d=c[e+=1];var g="movies"===d.type?"film":"serie";b+='<a class="ribbon-knowledge_filmography--movie-link" href="/?q='+g+" "+d.title+" ",d.productionYear&&(b+=""+d.productionYear),b+='" title="'+g+" "+d.title+'" alt="'+g+" "+d.title+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'knowledge', ia_link: 'movie', category: '"+d.title+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="ribbon-knowledge_filmography--movie-thumbnail">',d.thumbnail?b+='<img src="'+d.thumbnail+'">':b+='<svg width="29" height="29" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-movie"></use></svg>',b+='</div><div class="ribbon-knowledge_filmography--movie-title">'+d.title+"</div>",d.productionYear&&(b+='<div class="ribbon-knowledge_filmography--movie-date">'+d.productionYear+"</div>"),b+="</a>"}return b+="</div></div></div>"},a._ribbon_info=function(a){var b='<div class="ribbon_info--container"><a href="';return a.href?b+=""+a.href:a.route?b+=""+a.route:a.url&&(b+=""+a.url),b+='" '+a.target+' class="ribbon_info__title',a.score&&(b+=" ribbon_info__title--with-score"),b+='" title="'+a.title,a.year&&""!==a.year&&(b+=" ("+a.year+")"),b+="\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.type+"', ia_link: 'title',",a.is_brand?b+="ia_slug: '"+CustomPageHelper.logalize(a.data.brand)+"', ia_campaign: '"+a.data.data.name+"', brand: '"+a.data.brand+"', brand_type: '"+a.data.type+"',":b+="ia_slug: it.slug,",b+="t: 'default'}); this.href='"+a.url.replace("'","\\'")+'\';"onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">',a.is_brand?b+=""+a.title.replace(/ \(.*\)$/,""):b+=""+a.title,a.year&&""!==a.year&&(b+='<sup class="ribbon_info__year">'+a.year+"</sup>"),b+="</a>",a.is_brand&&(b+='<a class="brand__main__link" href="',-1===a.data.url.indexOf("http")&&(b+="https://"),b+=a.data.url.replace(/(<([^>]+)>)/gi,"")+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'brand', ia_link: 'url', ia_slug: '"+CustomPageHelper.logalize(a.data.brand)+"', ia_campaign: '"+a.data.data.name+"', brand: '"+a.data.brand+"', brand_type: '"+a.data.type+"', t: 'default' }); this.href='"+a.data.data.title.url+'\';" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">',-1===a.data.brand.indexOf("Qwant")&&(b+='<span class="result__url__type">'+_("Ad","result")+"</span>"),b+='<span class="brand__main__link__label">'+a.data.url+"</span></a>"),a.score&&(b+='<a href="'+a.route+'" title="'+_("Qwant score","game_ribbon")+'" class="ribbon_info__score '+CustomPageHelper.getScoreColorClass(a.score)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.type+"', ia_link: 'score', ia_slug: '"+a.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="ribbon_info__score__img" src="/img/game/qwant-score-ia.png" alt="'+_("Qwant score","game_ribbon")+'" /><div class="ribbon_info__score__text">'+a.score+"</div></a>"),!a.is_brand&&a.description&&(b+='<div class="ribbon_info__description">'+a.description,a.coordinates&&BrowserHelper.isTabletOrMobile&&(b+='<a href="'+a.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.type+"', ia_link: 'wikipedia', ia_slug: '"+a.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">Wikipedia</a>'),b+="</div>"),b+='<div class="ribbon_info__url--container">',a.textLink&&(b+=a.textLink+'<a class="ribbon_info__url" href="'+a.route+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.type+"', ia_link: 'see_more', ia_slug: '"+a.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-',a.iconType?b+=""+a.iconType:b+=""+a.type,b+='"></span><span class="ribbon_info__url__text">'+a.textLink+"</span></a>"),a.wikipedia&&(b+='<a class="ribbon_info__url" href="'+a.wikipedia+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.type+"', ia_link: 'wikipedia', ia_slug: '"+a.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">',-1!=ResultHelper.getDomainUrl(a.wikipedia).indexOf("vikidia")?b+='<span class="icon icon-vikidiaLine"></span><span class="ribbon_info__url__text">'+_("Vikidia","music_ribbon")+"</span>":b+='<span class="icon icon-wikipedia"></span><span class="ribbon_info__url__text">'+_("Read more on Wikipedia","music_ribbon")+"</span>",b+="</a>"),!a.is_brand&&a.wikipedia_tuto&&"fr"==applicationState.user.userSetting.getInterfaceLanguage().shorthand&&(b+='<a class="ribbon_knowledge_wikipedia_tuto_link" href="https://fr.wikipedia.org/wiki/Aide:Wikip%C3%A9dia_pas_%C3%A0_pas" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: '"+a.type+"', ia_link: 'wikipedia_help_wiki', ia_slug: '"+a.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#help-circle2"></use></svg>Apprenez à enrichir l\'encyclopédie wikipédia</a>'),b+="</div></div>"},a._ribbon_infobox=function(a){var b='<div class="ribbon-knowledge_infobox">';return a.data.infoboxData.birthDate&&(b+='<dl class="ribbon-knowledge_infobox--item"><dt class="ribbon-knowledge_infobox--key">'+_("Birth date","knowledge")+'</dt><dd class="ribbon-knowledge_infobox--value">'+a.data.infoboxData.birthDate+"</dd></dl>"),a.data.infoboxData.nationality&&(b+='<dl class="ribbon-knowledge_infobox--item"><dt class="ribbon-knowledge_infobox--key">'+_("Nationality","knowledge")+'</dt><dd class="ribbon-knowledge_infobox--value">'+a.data.infoboxData.nationality+"</dd></dl>"),a.data.infoboxData.birthPlace&&(b+='<dl class="ribbon-knowledge_infobox--item"><dt class="ribbon-knowledge_infobox--key">'+_("Birth place","knowledge")+'</dt><dd class="ribbon-knowledge_infobox--value">'+a.data.infoboxData.birthPlace+"</dd></dl>"),a.data.infoboxData.significantMovies&&(b+='<dl class="ribbon-knowledge_infobox--item"><dt class="ribbon-knowledge_infobox--key">'+_("Significant movies","knowledge")+'</dt><dd class="ribbon-knowledge_infobox--value">'+a.data.infoboxData.significantMovies+"</dd></dl>"),b+="</div>"},a._result_multi_app_gallery=function(a){var b='<div class="ia__app_gallery--container"><div class="ia__app_gallery--title">'+_("Apps","ia_app_gallery")+'</div><div class="ia__app_gallery--list';a.data.length>3&&(b+=" expandable"),b+='">';var c=a.data;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<a class="ia__app_gallery--list_item" href="'+d.download_link+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'app_gallery', ia_template: 'multiple', ia_position: '"+e+"', ia_element: 'item', category: '"+d.name+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="ia__app_gallery--icon" src="'+d.picture+'" title="'+d.name+'"><div class="ia__app_gallery--item_content"><div class="ia__app_gallery--item_title">'+d.name+"</div>",d.ratings&&(b+='<div class="ia__app_gallery--ratings"><div>'+d.ratings+'</div><div class="ia__app_gallery--rating"><svg class="ia__app_gallery--rating_container" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#star"></use></svg></div>',d.download_price&&(b+="<div>","0"===d.download_price?b+=""+_("Free","ia_app_gallery"):b+=""+d.download_price,b+="</div>"),b+="</div>"),b+="</div></a>";return b+="</div>",a.data.length>3&&(b+='<div class="ia__app_gallery--discover" id="'+actionManager.addClickListener(this,this.toggleGalleryContainer)+'" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_name: \'app_gallery\', ia_template: \'multiple\', ia_element: \'see_more\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="ia__app_gallery--d-more">'+_("See more on apps","ia_app_gallery")+'</span><span class="ia__app_gallery--d-less">'+_("See less on apps","ia_app_gallery")+"</span></div>"),b+="</div>"},a._result_single_app_gallery=function(a){var b='<div class="ia__app_gallery--container"><div class="ia__app_gallery--title">'+a.data.source+'</div><div class="ia__app_gallery--content"><img class="ia__app_gallery--icon" src="'+a.data.picture+'" title="'+a.data.name+'"><div class="ia__app_gallery--header"><div class="ia__app_gallery--appname">'+a.data.name+"</div>";if(a.data.ratings&&a.data.ratings_num){if(b+='<div class="ia__app_gallery--ratings">',a.data.ratings){b+="<div>"+a.data.ratings+'</div><div class="ia__app_gallery--rating">';for(var c=0;c<a.data.ratings_score;c++)b+='<svg class="ia__app_gallery--rating_container active" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#star"></use></svg>';for(var c=0;c<5-a.data.ratings_score;c++)b+='<svg class="ia__app_gallery--rating_container empty" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#star"></use></svg>';b+="</div>"}a.data.ratings_num&&(b+="<div>"+a.data.ratings_num+"</div>"),b+="</div>"}return b+='</div></div><div class="ia__app_gallery--description">'+a.data.description+'</div><div class="ia__app_gallery--discover"><a href="'+a.data.download_link+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'app_gallery', ia_template: 'single', ia_position: '1', ia_element: 'item', category: '"+a.data.name+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Discover more","ia_app_gallery")+'</a></div><div class="ia__app_gallery--price">',"0"===a.data.download_price?b+=""+_("Free","ia_app_gallery"):b+=""+a.data.download_price,b+="</div></div>"},a.result_ribbon_app_gallery=function(a){var b="";return a.data&&(b+='<div class="results-column--ribbon ia__app_gallery">',this.isSingleView()?b+=""+this.renderPartial("result_single_app_gallery",{data:a.data[0]}):b+=""+this.renderPartial("result_multi_app_gallery",{data:a.data}),b+="</div>"),b},a._result_ribbon_brand=function(a){var b='<div class="results-column--ribbon ribbon-knowledge ribbon-knowledge--brand">';return a.data?(b+='<div class="ribbon-knowledge--container">',a.data[0].brand&&(b+=""+this.renderPartial("ribbon_brand",a)),b+="</div>"):b+='<div class="no_result">'+_("No results found.","result")+"</div>",b+="</div>"},a._result_ribbon_brand0=function(a){var b='<div class="results-column--ribbon ribbon-knowledge--brand0">';return a.data?(b+='<div class="ribbon-knowledge--container">',a.data[0].brand&&(b+=""+this.renderPartial("ribbon_brand0",a)),b+="</div>"):b+='<div class="no_result">'+_("No results found.","result")+"</div>",b+="</div>"},a._result_ribbon_brand1=function(a){var b='<div class="results-column--ribbon ribbon-knowledge ribbon-knowledge--brand1">';return a.data?(b+='<div class="ribbon-knowledge--container">',a.data[0].brand&&(b+=""+this.renderPartial("ribbon_brand1",a)),b+="</div>"):b+='<div class="no_result">'+_("No results found.","result")+"</div>",b+="</div>"},a._ribbon_brand=function(a){var b='<h3 class="brand__real_title"><span>'+_("Official website","music_ribbon")+"</span></h3>";return a.data[0]&&a.data[0].data&&a.data[0].data.wiki&&(b+='<div class="brand__wiki--container">',a.data[0].data.wiki.title&&(b+=""+this.renderPartial("ribbon_info",{type:"brand",slug:null,route:null,year:null,score:null,title:a.data[0].data.wiki.title,description:a.data[0].data.wiki.description,coordinates:null,textLink:null,wikipedia:null,target:SecurityHelper.targetBlank(),wikipedia_tuto:!!a.data[0].data.wiki.url,url:null!=a.data[0].data.title.url?a.data[0].data.title.url:a.data[0].data.wiki.url,data:a.data[0],is_brand:!0,href:a.data[0].url.replace(/(<([^>]+)>)/gi,"")})),a.data[0].data.wiki.image&&(b+=""+this.renderPartial("ribbon_cover",{type:"brand",slug:null,route:null!=a.data[0].data.title.url?a.data[0].data.title.url:a.data[0].data.wiki.url,picture:a.data[0].data.wiki.image,title:a.data[0].data.wiki.title,year:null,target:SecurityHelper.targetBlank(),roundCoverImage:!1,data:a.data[0],is_brand:!0})),b+="</div>"),b+='<span class="ribbon__description">',a.data[0].data.description?b+=""+a.data[0].data.description:a.data[0].data.wiki.description&&(b+=a.data[0].data.wiki.description+'<a href="'+a.data[0].data.wiki.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'brand', ia_link: 'wikipedia', ia_slug: '"+CustomPageHelper.logalize(a.data[0].brand)+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">&nbsp;'+_("Read more on Wikipedia","music_ribbon")+"</a>"),b+="</span>","E"===a.data[0].type?(b+='<a href="',-1===a.data[0].data.title.url.indexOf("http")&&(b+="https://"),b+=a.data[0].data.title.url.replace(/(<([^>]+)>)/gi,"")+'" '+SecurityHelper.targetBlank()+"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'brand', ia_link: 'banner', ia_slug: '"+CustomPageHelper.logalize(a.data[0].brand)+"', ia_campaign: '"+a.data[0].data.name+"', brand: '"+a.data[0].brand+"', brand_type: '"+a.data[0].type+"', t: 'default' }); this.href='"+a.data[0].data.title.url+'\';" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+a.data[0].data.banner+'" class="ribbon__brand__banner" /></a>'):"E"!==a.data[0].type&&(b+=""+this.renderPartial("ribbon_brand_sublinks",a)),b},a._ribbon_brand0=function(a){var b=this.renderPartial("ribbon_brand_title",a)+'<a class="brand__main__link" href="';return-1===a.data[0].url.indexOf("http")&&(b+="https://"),b+=a.data[0].url.replace(/(<([^>]+)>)/gi,"")+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'brand', ia_link: '2', ia_slug: '"+a.data[0].brand+"', ia_campaign: '"+a.data[0].data.name+"' }); this.href='"+a.data[0].data.title.url+'\';" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="result__url__type">'+_("Ad","result")+'</span><span class="brand__main__link__label">'+a.data[0].url+'</span></a><span class="ribbon__description">'+a.data[0].data.description+"</span>"+this.renderPartial("ribbon_brand_sublinks",a)},a._ribbon_brand1=function(a){var b=this.renderPartial("ribbon_brand_title",a)+'<a class="brand__main__link" href="';return-1===a.data[0].url.indexOf("http")&&(b+="https://"),b+=a.data[0].url.replace(/(<([^>]+)>)/gi,"")+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'brand', ia_link: '2', ia_slug: '"+a.data[0].brand+"', ia_campaign: '"+a.data[0].data.name+"' }); this.href='"+a.data[0].data.title.url+'\';" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="result__url__type">'+_("Ad","result")+'</span><span class="brand__main__link__label">'+a.data[0].url+'</span></a><span class="ribbon__description">'+a.data[0].data.description+"</span>"+this.renderPartial("ribbon_brand_sublinks",a)},a._ribbon_brand_sublinks=function(a){var b='<div class="brand__sublinks">',c=a.data[0].data.sublinks;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],e<4&&(!a.isWeb||window.innerWidth<1210||a.isWeb&&window.innerWidth>1210)&&(b+='<span class="brand__sublink"><a href="',-1===a.data[0].url.indexOf("http")&&(b+="https://"),b+=a.data[0].url.replace(/(<([^>]+)>)/gi,"")+"/"+CustomPageHelper.slugalize(d.label)+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'brand', ia_link: '"+(e+3)+"', ia_slug: '"+CustomPageHelper.logalize(a.data[0].brand)+"', ia_campaign: '"+a.data[0].data.name+"', brand: '"+a.data[0].brand+"', brand_type: '"+a.data[0].type+"' }); this.href='"+d.url.replace("'","\\'")+'\';" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+d.label+"</a></span>");return b+="</div>"},a._ribbon_brand_title=function(a){var b='\x3c!-- do not remove this comment, it resolves a dotjs template bug that removes <a> tags in the beginning of dot files --\x3e<a class="brand__title" href="';return-1===a.data[0].url.indexOf("http")&&(b+="https://"),b+=a.data[0].url.replace(/(<([^>]+)>)/gi,"")+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'brand', ia_link: '1', ia_slug: '"+CustomPageHelper.logalize(a.data[0].brand)+"', ia_campaign: '"+a.data[0].data.name+"', brand: '"+a.data[0].brand+"', brand_type: '"+a.data[0].type+"'}); this.href='"+a.data[0].data.title.url+'\';" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" '+SecurityHelper.targetBlank()+">"+a.data[0].data.title.label+"</a>"},a.result_flights_filters=function(a){var b='<div class="ia_search_bar"><div class="search_focused"><div class="ia__search_bar__form__input_container" id="'+actionManager.addClickListener(this,this.toggleFilters)+'" title="'+a.inputValue+'"><span class="ia__search_bar__form__input">'+a.inputValue+"</span>";return b+='<svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#'+(a.currentFilterType===ResultFlightsFiltersComponent.TYPE.DATE?"calendar":"user")+'"></use></svg></div></div></div>',a.filtersPopupComponent&&(b+=""+a.filtersPopupComponent.render()),b},a.result_flights_filters_direct=function(a){var b="";return"exploreCacheValue"!==a.data.view&&(b+='<div class="ia_flights_filters_group"><div class="ia_flights_filters_round_trip"><div class="settings__form__option__checkbox--container"><label for="showOnlyDirectFlights" id="'+actionManager.addClickListener(this,this.updateDirectFlight,{propagate:!0})+'"></label><input type="checkbox" '+(a.checked?'checked="checked"':"")+' id="showOnlyDirectFlights"><span class="account_overlay__checkmark"></span></div><span class="ia_flights_filters_direct_label">'+_("Direct flights only","flights")+"</span></div></div>"),b},a.result_flights_filters_popup_date=function(a){var b="";return BrowserHelper.isTabletOrMobile?b+='<div class="ribbon_flights_popup_background"></div><div class="ribbon_flights_popup_mobile"><div class="ribbon_flights_popup--header"></div><div class="ribbon_flights_popup_content">':b+='<div class="ribbon_flights--popup">',b+='<button class="ribbon_flights--popup-cancel" id="'+actionManager.addClickListener(this,this.hideFiltersPopup)+'"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-x"></use></svg></button><div class="ia_flights_popup_flight_type"><button class="ia_flights_popup_flight_type_item ',1===a.dataFilters.flightType&&(b+="selected"),b+='" id="'+actionManager.addClickListener(this,this.selectFlightTypeFilter,{value:1})+'">'+_("Round trip","flights")+'</button><button class="ia_flights_popup_flight_type_item ',2===a.dataFilters.flightType&&(b+="selected"),b+='" id="'+actionManager.addClickListener(this,this.selectFlightTypeFilter,{value:2})+'">'+_("One-way","flights")+'</button></div><div class="ribbon_flights--calendar-container"><input id="flights_calendar" type="text" data-input></div><div class="ribbon_flights--popup-actions"><button class="ribbon_flights--popup-validate" id="'+actionManager.addClickListener(this,this.applyFiltersPopup)+'">'+_("Validate","flights")+"</button></div>",BrowserHelper.isTabletOrMobile&&(b+="</div>"),b+="</div>"},a.result_flights_filters_popup_wayfarer=function(a){var b="";return BrowserHelper.isTabletOrMobile?b+='<div class="ribbon_flights_popup_background"></div><div class="ribbon_flights_popup_mobile"><div class="ribbon_flights_popup--header"></div><div class="ribbon_flights_popup_content">':b+='<div class="ribbon_flights--popup">',b+='<button class="ribbon_flights--popup-cancel" id="'+actionManager.addClickListener(this,this.hideFiltersPopup)+'"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-x"></use></svg></button><h3 class="ia_flights_wayfarer_popup_title">'+_("Travelers","flights")+'</h3><div class="ia_flights_wayfarer_popup_travelers"><div class="ia_flights_wayfarer_popup_traveler"><button ',a.dataFilters.adults<=1?b+='class="disabled"':b+='id="'+actionManager.addClickListener(this,this.changeTraveler,{type:"adults",value:"minus"})+'"',b+='><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#minus"></use></svg></button><div class="ia_flights_wayfarer_popup_traveler_nb">'+a.dataFilters.adults+"</div><button ",a.dataFilters.adults>=8?b+='class="disabled"':b+='id="'+actionManager.addClickListener(this,this.changeTraveler,{type:"adults",value:"more"})+'"',b+='><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#plus"></use></svg></button><div class="ia_flights_wayfarer_popup_traveler_title">'+_n("Adult","Adults",a.dataFilters.adults,"flights")+'</div><div class="ia_flights_wayfarer_popup_traveler_info">'+_("16 years and over","flights")+'</div></div><div class="ia_flights_wayfarer_popup_traveler"><button ',a.dataFilters.children<=0?b+='class="disabled"':b+='id="'+actionManager.addClickListener(this,this.changeTraveler,{type:"children",value:"minus"})+'"',b+='><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#minus"></use></svg></button><div class="ia_flights_wayfarer_popup_traveler_nb">'+a.dataFilters.children+"</div><button ",a.dataFilters.children>=8?b+='class="disabled"':b+='id="'+actionManager.addClickListener(this,this.changeTraveler,{type:"children",value:"more"})+'"',b+='><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#plus"></use></svg></button><div class="ia_flights_wayfarer_popup_traveler_title">'+_n("Child","Children",a.dataFilters.children,"flights")+'</div><div class="ia_flights_wayfarer_popup_traveler_info">'+_("3 to 15 years","flights")+'</div></div><div class="ia_flights_wayfarer_popup_traveler"><button ',a.dataFilters.infants<=0?b+='class="disabled"':b+='id="'+actionManager.addClickListener(this,this.changeTraveler,{type:"infants",value:"minus"})+'"',b+='><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#minus"></use></svg></button><div class="ia_flights_wayfarer_popup_traveler_nb">'+a.dataFilters.infants+"</div><button ",a.dataFilters.infants>=8?b+='class="disabled"':b+='id="'+actionManager.addClickListener(this,this.changeTraveler,{type:"infants",value:"more"})+'"',b+='><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#plus"></use></svg></button><div class="ia_flights_wayfarer_popup_traveler_title">'+_n("Infant","Infants",a.dataFilters.infants,"flights")+'</div><div class="ia_flights_wayfarer_popup_traveler_info">'+_("0 to 2 years","flights")+'</div></div></div><h3 class="ia_flights_wayfarer_popup_title">'+_("Class","flights")+'</h3><div class="ia_flights_wayfarer_popup_class"><div><div class="settings__form__option__checkbox--container"><label for="classEco" id="'+actionManager.addClickListener(this,this.chooseClass,{propagate:!0,value:"economy"})+'"></label><input type="checkbox" '+("economy"===a.dataFilters.cabinClass?'checked="checked"':"")+' id="classEco"><span class="account_overlay__checkmark"></span></div><span class="ia_flights_wayfarer_popup_class_title">'+_("Economy","flights")+'</span></div><div><div class="settings__form__option__checkbox--container"><label for="classBusiness" id="'+actionManager.addClickListener(this,this.chooseClass,{propagate:!0,value:"business"})+'"></label><input type="checkbox" '+("business"===a.dataFilters.cabinClass?'checked="checked"':"")+' id="classBusiness"><span class="account_overlay__checkmark"></span></div><span class="ia_flights_wayfarer_popup_class_title">'+_("Business","flights")+'</span></div><div><div class="settings__form__option__checkbox--container"><label for="classFirst" id="'+actionManager.addClickListener(this,this.chooseClass,{propagate:!0,value:"first"})+'"></label><input type="checkbox" '+("first"===a.dataFilters.cabinClass?'checked="checked"':"")+' id="classFirst"><span class="account_overlay__checkmark"></span></div><span class="ia_flights_wayfarer_popup_class_title">'+_("First","flights")+'</span></div></div><div class="ribbon_flights--popup-actions"><button class="ribbon_flights--popup-validate" id="'+actionManager.addClickListener(this,this.applyFiltersPopup)+'">'+_("Validate","flights")+"</button></div></div>",BrowserHelper.isTabletOrMobile&&(b+="</div>"),b},a._result_flight_detail=function(a){var b="",c=window.innerWidth>1210&&window.innerWidth<=1300;return b+='<tr class="ribbon-flights--flight_info"><td class="ribbon-flights--flight_date">',BrowserHelper.isTabletOrMobile||c?b+=""+strftime("%d %h",new Date(a.startDate)):b+=""+strftime("%a %d %h",new Date(a.startDate)),b+='</td><td class="ribbon-flights--flight_hours">'+strftime("%H:%M",new Date(a.startDate))+"</td>",BrowserHelper.isTabletOrMobile||c||(b+='<td class="ribbon-flights--flight_line"></td>'),b+='<td class="ia_flights_flight_stop_numbers',0===a.flightStops&&(b+=" direct-flight"),b+='"><span class="ribbon-flights--flight_icon',a.isGoflight||(b+=" ribbon-flights--flight_icon_return"),b+='"><svg viewBox="0 0 15 15"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-airport"></use></svg></span>',BrowserHelper.isTabletOrMobile||c||(0===a.flightStops?b+=""+_("Direct","flights"):b+=""+_n("%d stop","%d stops",a.flightStops,"flights")),b+="</td>",BrowserHelper.isTabletOrMobile||c||(b+='<td class="ribbon-flights--flight_line"></td>'),b+='<td class="ribbon-flights--flight_hours">'+strftime("%H:%M",new Date(a.endDate))+'</td><td class="ribbon-flights--flight_date">',BrowserHelper.isTabletOrMobile||c?b+=""+strftime("%d %h",new Date(a.endDate)):b+=""+strftime("%a %d %h",new Date(a.endDate)),b+="</td></tr>"},a._result_flight_detail_accurate=function(a){var b="",c=window.innerWidth>1210&&window.innerWidth<=1425;b+='<tr class="ribbon-flights--flight_info">',a.carrier&&(b+='<td class="ia_flights_carrier_image"><img src="/img/flights/'+a.carrier.carrierCode+'.png" class="ia_flights_carrier_code" title="'+a.carrier.carrierName+'" alt="'+a.carrier.carrierName+'" onerror="this.onerror=null;this.src=\'/img/flights/default.png\';"></td>');new Date(a.startDate).getTimezoneOffset();return b+='<td class="ribbon-flights--flight_hours">'+IAHelper.getUTCHours2digits(a.startDate)+":"+IAHelper.getUTCMinutes2digits(a.startDate)+'</td><td class="ribbon-flights--flight_iata">'+a.outboundIATA+"</td>",BrowserHelper.isTabletOrMobile||c||(b+='<td class="ribbon-flights--flight_line"></td>'),b+='<td class="ia_flights_flight_stop_numbers',0===a.flightStops&&(b+=" direct-flight"),b+='"><span class="ribbon-flights--flight_icon',a.isGoflight||(b+=" ribbon-flights--flight_icon_return"),b+='"><svg viewBox="0 0 15 15"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-airport"></use></svg></span>',BrowserHelper.isTabletOrMobile||c||(0===a.flightStops?b+=""+_("Direct","flights"):b+=""+_n("%d stop","%d stops",a.flightStops,"flights")),b+="</td>",BrowserHelper.isTabletOrMobile||c||(b+='<td class="ia_flights_flight_stop_duration">'+IAHelper.transformMinutesToHoursMinutes(a.duration)+"</td>"),BrowserHelper.isTabletOrMobile||c||(b+='<td class="ribbon-flights--flight_line"></td>'),b+='<td class="ribbon-flights--flight_hours">'+IAHelper.getUTCHours2digits(a.endDate)+":"+IAHelper.getUTCMinutes2digits(a.endDate)+'</td><td class="ribbon-flights--flight_iata">'+a.inboundIATA+"</td></tr>"},a._result_flight_leg=function(a){var b="",c=a.segment;if(c)for(var d,e=-1,f=c.length-1;e<f;){if(d=c[e+=1],b+='<dl class="ia_flights_detail_step"><dt class="ia_flights_detail_step_carrier">',d.carrier&&(b+='<img src="/img/flights/'+d.carrier.carrierCode+'.png" class="ia_flights_carrier_code" title="'+d.carrier.carrierName+'" alt="'+d.carrier.carrierName+'" onerror="this.onerror=null;this.src=\'/img/flights/default.png\';">'),b+='</dt><dd class="ia_flights_detail_step_content"><div><span class="ia_flights_oval"></span><div class="ia_flights_detail_step_airport"><span>'+IAHelper.getUTCHours2digits(d.startDate)+":"+IAHelper.getUTCMinutes2digits(d.startDate)+"</span> "+d.origin.airport+" "+d.origin.city+'</div></div><div><span class="ia_flights_oval_link"></span><div class="ia_flights_detail_step_duration">'+IAHelper.transformMinutesToHoursMinutes(d.duration)+" ",d.carrier&&(b+=""+d.carrier.carrierName),b+='</div></div><div><span class="ia_flights_oval"></span><div class="ia_flights_detail_step_airport"><span>'+IAHelper.getUTCHours2digits(d.arrivalDate)+":"+IAHelper.getUTCMinutes2digits(d.arrivalDate)+"</span> "+d.destination.airport+" "+d.destination.city+"</div></div>",e<a.segment.length-1){b+='<div class="ia_flights_detail_airport_connection"><span>';var g=a.segment[e+1].startDate-d.arrivalDate;b+=IAHelper.getUTCHours2digits(g)+":"+IAHelper.getUTCMinutes2digits(g)+"</span>"+_("Airport connection","flights")+"</div>"}b+="</dd></dl>"}return b},a._result_flights_deals=function(a){var b="",c=window.innerWidth>1210&&window.innerWidth<=1425,d=a.data.flights;if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],b+='<div class="ribbon-flights--flight"><a  class="ribbon-flights--flight_link" href="'+e.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'flights', ia_type: '"+a.type+"', ia_element: 'item', ia_item: "+f+', brand: \'easyvoyage\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"></a><div class="ribbon-flights--row"><div class="ribbon-flights--flight_ref">',a.light||(b+='<div class="ribbon-flights--flight_title">'+e.cityStartName+" - "+e.cityEndName+"</div>"),b+="<table>"+this.renderPartial("result_flight_detail",{startDate:e.goStartDate,endDate:e.goEndDate,flightStops:e.goStops,isGoflight:!0}),e.returnStartDate&&e.returnEndDate&&(b+=""+this.renderPartial("result_flight_detail",{startDate:e.returnStartDate,endDate:e.returnEndDate,flightStops:e.returnStops,isGoflight:!1})),b+='</table></div><div class="ia_flights_price_container">',
BrowserHelper.isTabletOrMobile||c||(e.offers[0].refPrice?b+='<span class="ia_flights_price_container_text ribbon-flights--ref_price">'+this.formatDealsPrice(e.offers[0].refPrice)+FlightsRibbonComponent.replaceCurrencyBySymbol(e.offers[0].currency)+"</span>":b+='<span class="ia_flights_price_container_text ribbon-flights--partner_name">'+e.offers[0].carrierName+"</span>"),b+='<div class="ia_flights_price">'+this.formatDealsPrice(e.offers[0].price)+FlightsRibbonComponent.replaceCurrencyBySymbol(e.offers[0].currency)+"</div>",(BrowserHelper.isTabletOrMobile||c)&&(e.offers[0].refPrice?b+='<div class="ia_flights_price_container_text ribbon-flights--ref_price">'+this.formatDealsPrice(e.offers[0].refPrice)+FlightsRibbonComponent.replaceCurrencyBySymbol(e.offers[0].currency)+"</div>":b+='<div class="ia_flights_price_container_text ribbon-flights--partner_name">'+e.offers[0].carrierName+"</div>"),b+="</div></div>",e.relevance&&(b+='<div class="ribbon-flights--flight_more_info">',e.weatherTemperature&&(b+='<div class="ribbon-flights--label"><svg width="14" height="14" viewBox="0 0 32 32"><use xlink:href="/img/v4/icon-spritesheet-weather.svg#'+FlightsRibbonComponent.getWeatherIcon(e.scoreWeather)+'"></use></svg>'+e.weatherTemperature+"°</div>"),b+='<div class="ribbon-flights--label">'+e.mainKeyword+'</div><span class="ribbon-flights--recommanded">'+_("Recommended to","flights")+'<div class="ribbon-flights--label">'+e.relevance+"%</div></span></div>"),b+="</div>";return b},a._result_flights_explore_cache=function(a){var b='<div class="ia_flights_explore_cache">',c=a.data.flights[0].outboundLeg.isSearchByCountry||a.data.flights[0].inboundLeg.isSearchByCountry,d=void 0===a.filters.startIata||void 0===a.filters.returnIata,e=a.data.flights;if(e)for(var f,g=-1,h=e.length-1;g<h;)f=e[g+=1],b+='<div class="ribbon-flights--flight',(c||d)&&(b+=" ia__flights_flight_country_display"),b+='" id="'+actionManager.addClickListener(this,this.clickCacheItem,{item:f})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'flights', ia_type: 'cache', ia_element: 'item', ia_item: "+g+', brand: \'skyscanner\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="ia_flights__explore_cache_date">'+strftime("%d/%m",new Date(f.outboundLeg.departureDate))+" - "+strftime("%d/%m",new Date(f.inboundLeg.departureDate))+'</div><div class="ia_flights_flight_stop_numbers',f.direct&&(b+=" direct-flight"),b+='"><span class="ribbon-flights--flight_icon"><svg viewBox="0 0 15 15"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-airport"></use></svg></span>',c||d||(f.direct?b+=""+_("Direct","flights"):BrowserHelper.isTabletOrMobile||(b+=""+_("stops","flights"))),f.outboundLeg.isSearchByCountry||void 0===a.filters.returnIata?b+=_("To","flights")+" "+f.outboundLeg.return:(f.inboundLeg.isSearchByCountry||void 0===a.filters.startIata)&&(b+=_("From","flights")+" "+f.inboundLeg.return),b+='</div><div class="ia_flights_price_container"><span class="ia_flights_price_container_text">'+_("From","flights")+'</span><div class="ia_flights_price">'+f.minPrice+f.currency+"</div></div></div>";return b+="</div>"},a._result_flights_list_ghost_loading=function(a){var b="";if(void 0===a.filters.returnDate&&void 0===a.filters.startDate)for(var c=0;c<3;c++)b+='<div class="ghost__load__flights__list"><div class="ghost__load__flights__list--item"><div class="ghost__load__flights__list--content_cache"><div class="ghost__load__flights__list--crop ghost__load__flights__list--crop21"></div><div class="ghost__load__flights__list--crop ghost__load__flights__list--crop22"></div></div></div></div>';else for(var c=0;c<2;c++)b+='<div class="ghost__load__flights__list"><div class="ghost__load__flights__list--item"><div class="ghost__load__flights__list--content"><div class="ghost__load__flights__list--crop ghost__load__flights__list--crop1"></div><div class="ghost__load__flights__list--crop ghost__load__flights__list--crop2"></div><div class="ghost__load__flights__list--crop ghost__load__flights__list--crop3"></div></div></div></div>';return b},a.result_flights_list=function(a){var b="";if(a.noData)b+='<div class="ribbon-flights--no_flights">',a.filters.startIata?a.filters.returnIata?b+=""+_("No flights were found. You can try to refine your search by changing the travel dates, the departure or the destination","flights"):b+=""+_("No flights were found. Please refine your search and provide a given city or airport as destination.","flights"):b+=""+_("No flights were found. Please refine your search and provide a given city or airport as departure.","flights"),b+="</div>";else if(a.data.flights)if("exploreCacheValue"===a.data.view){if(b+='<div class="ribbon-flights--flight_list "><div class="ribbon-flights--flight_list--with_relevance">',a.data.deals){var c={flights:a.data.deals};b+=""+this.renderPartial("result_flights_deals",{data:c,light:!0,type:"cache"})}b+="</div>"+this.renderPartial("result_flights_explore_cache",{data:a.data,filters:a.filters})+"</div>"}else{if("exploreDealsValue"===a.data.view){var d=3;b+='<div class="ribbon-flights--flight_list ribbon-flights--flight_list--with_relevance">'+this.renderPartial("result_flights_deals",{data:a.data,light:!1,type:"deals"})+"</div>"}else{var d=5,e=window.innerWidth>1210&&window.innerWidth<=1300;b+='<div class="ribbon-flights--flight_list">';var f=a.data.flights;if(f)for(var g,h=-1,i=f.length-1;h<i;){g=f[h+=1];var j=!g.leg.inbound||0===g.leg.inbound.length;b+='<div class="flight_'+h+'"><div class="ribbon-flights--flight"><div class="ia_flights--flight_expand"><div class="ia_flights_flight_more_zone"',a.data.hash||(b+=' id="'+actionManager.addClickListener(this,this.toggleFlightSeeMore,{item:h})+'"'),b+='></div><div class="ribbon-flights--row',j&&(b+=" one_way_flight"),b+='"><table class="ribbon-flights--flight_ref">'+this.renderPartial("result_flight_detail_accurate",{startDate:g.goStartDate,endDate:g.goEndDate,duration:g.outboundDuration,flightStops:g.goStops,isGoflight:!0,carrier:g.leg.outbound[0].carrier,outboundIATA:a.filters.startIata,inboundIATA:a.filters.returnIata}),j||(b+=""+this.renderPartial("result_flight_detail_accurate",{startDate:g.returnStartDate,endDate:g.returnEndDate,duration:g.inboundDuration,flightStops:g.returnStops,isGoflight:!1,carrier:g.leg.inbound[0].carrier,outboundIATA:a.filters.returnIata,inboundIATA:a.filters.startIata})),b+='</table><div class="ia_flights_flight_offers_container">',BrowserHelper.isTabletOrMobile||e?(b+='<div><div class="ia_flights_price_container_text ia_flights_price_container_text_mobile">'+_("From","flights")+'</div><div class="ia_flights_price">'+this.formatPrice(g.offers[0].price)+FlightsRibbonComponent.replaceCurrencyBySymbol(g.offers[0].currency)+'</div></div><div class="ia_flights_flight_more_offers_icon">',!a.data.completed&&a.data.hash?b+='<div class="ia_flights_loader_mobile"><svg width="22" height="22" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-loader"></use></svg></div>':b+='<svg viewBox="0 0 35 35" class="ia_flights_flight_more_offers_chevron"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-down"></use></svg>',b+="</div>"):(b+='<div class="ia_flights_price_container" id="'+actionManager.addClickListener(this,this.redirectPartner,{url:g.offers[0].url,position:0,partnerName:g.offers[0].partnerName,carrierName:g.offers[0].carrierName,isHighlighted:!0})+'"><span class="ia_flights_price_container_text">'+_("From","flights")+'</span><div class="ia_flights_price">'+this.formatPrice(g.offers[0].price)+FlightsRibbonComponent.replaceCurrencyBySymbol(g.offers[0].currency)+"</div></div>",j?(b+='<div class="ia_flights_flight_more_offers_icon">',!a.data.completed&&a.data.hash?b+='<div class="ia_flights_loader_mobile"><svg width="22" height="22" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-loader"></use></svg></div>':b+='<svg viewBox="0 0 35 35" class="ia_flights_flight_more_offers_chevron"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-down"></use></svg>',b+="</div>"):!a.data.completed&&a.data.hash?b+='<div class="ia_flights_loader"><svg width="22" height="22" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-loader"></use></svg></div>':b+='<div class="ia_flights_flight_more_offers" id="'+actionManager.addClickListener(this,this.toggleFlightSeeMore,{item:h})+'"><svg width="15" height="15" viewBox="0 0 35 35"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-plus"></use></svg>'+_("Information and offers","flights")+'<svg width="15" height="15" viewBox="0 0 35 35" class="ia_flights_flight_more_offers_chevron"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-down"></use></svg></div>'),b+='</div></div></div><div class="ia_flights_flight_details flight_details_'+h+'"><table class="ia_flights_offers">';var k=g.offers;if(k)for(var l,m=-1,n=k.length-1;m<n;)l=k[m+=1],b+='<tr class="ia_flights_offer" id="'+actionManager.addClickListener(this,this.redirectPartner,{url:l.url,position:m,partnerName:l.partnerName,carrierName:l.carrierName})+'"><td class="ia_flights_offer_carrier',(BrowserHelper.isTabletOrMobile||e)&&(b+=" ia_flights_offer_carrier_link"),b+='">'+l.carrierName+'</td><td class="ia_flights_offer_partner">'+_("By","flights")+" "+l.partnerName+"</td>",BrowserHelper.isTabletOrMobile||e||(b+="<td>",0===m&&(b+='<div class="ia_flights_label green">'+_("Best offer","flights")+"</div>"),b+="</td>"),b+='<td class="ia_flights_offer_price">'+l.price+l.currency+"</td>",BrowserHelper.isTabletOrMobile||e||(b+='<td class="ia_flights_offer_link">'+_("See offer","flights")+"</td>"),b+="</tr>";b+='</table><div class="ia_flights_detail_date"><span>'+_("Go","flights")+"</span> "+strftime("%a %d %h %Y",new Date(g.goStartDate))+'</div><div class="ia_flights_detail_flight',BrowserHelper.isTabletOrMobile&&(b+=" ia_flights_detail_flight--mobile"),b+='">'+this.renderPartial("result_flight_leg",{segment:g.leg.outbound})+"</div>",j||(b+='<div class="ia_flights_detail_date"><span>'+_("Return","flights")+"</span> "+strftime("%a %d %h %Y",new Date(g.returnStartDate))+'</div><div class="ia_flights_detail_flight',BrowserHelper.isTabletOrMobile&&(b+=" ia_flights_detail_flight--mobile"),b+='">'+this.renderPartial("result_flight_leg",{segment:g.leg.inbound})+"</div>"),b+="</div></div></div>"}b+="</div>"}a.data.flights.length>d&&(b+='<div class="ribbon_flights_discover',!a.data.completed&&a.data.hash&&(b+=" ribbon_flights_discover_loading"),b+='" ',!a.data.completed&&a.data.hash||(b+='id="'+actionManager.addClickListener(this,this.toggleSeeMore)),b+='"><svg class="ribbon_flights--icon_see_more ribbon_flights--icon_see_more_down" width="20" height="20" viewBox="0 0 20 20"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-down"></use></svg><div class="ribbon_flights--see_more-link">'+_("See more offers","flights")+'</div><div class="ribbon_flights--see_less-link">'+_("See less offers","flights")+'</div><svg class="ribbon_flights--icon_see_more" width="20" height="20" viewBox="0 0 20 20"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-down"></use></svg></div>')}else b+=""+this.renderPartial("result_flights_list_ghost_loading",{filters:a.filters});return b},a.result_flights_progress_bar=function(a){var b="";return a.loading&&(b+='<div class="progress-wrap progress"><div class="progress-bar progress"></div></div>'),b},a.result_flights_sort=function(a){var b="";if(a.section){b+='<div class="ia_flights_order">';var c=a.section;b+='<div class="ia_flights_order_section ia_flights_section_cheapest selected ',!a.data.completed&&a.data.hash&&(b+=" ia_flights_order_section_disable"),b+='"',!a.data.completed&&a.data.hash||(b+=' id="'+actionManager.addClickListener(this,this.clickSort,{sort:ResultFlightsListComponent.SORT.CHEAPEST})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'flights', ia_type: 'flights', ia_element: 'cheapest'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\""),b+='><div class="ia_flights_order_background"></div><div class="ia_flights_order_section_title">'+_("Cheapest","flights")+'</div><div class="ia_flights_order_section_detail">'+c.cheapest.price+c.cheapest.currency+" "+IAHelper.transformMinutesToHoursMinutes(c.cheapest.duration)+'</div></div><div class="ia_flights_order_section ia_flights_section_fastest',!a.data.completed&&a.data.hash&&(b+=" ia_flights_order_section_disable"),b+='"',!a.data.completed&&a.data.hash||(b+=' id="'+actionManager.addClickListener(this,this.clickSort,{sort:ResultFlightsListComponent.SORT.FASTEST})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'flights', ia_type: 'flights', ia_element: 'fastest'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\""),b+='><div class="ia_flights_order_background"></div><div class="ia_flights_order_section_title">'+_("Fastest","flights")+'</div><div class="ia_flights_order_section_detail">'+c.fastest.price+c.fastest.currency+" "+IAHelper.transformMinutesToHoursMinutes(c.fastest.duration)+"</div></div></div>"}return b},a.result_ribbon_flights=function(a){var b='<div class="results-column--ribbon ribbon-flights"><div class="ribbon_flights--container">';return a.data&&(b+='<div class="ribbon-flights--partner',"exploreDealsValue"===a.data.view&&(b+=" ribbon-flights--partner-easyvoyage"),b+='">',this.tooltip&&(b+="<span ","FR"===applicationState.user.userSetting.getSearchRegionCode()?b+='id="'+this.tooltipID+'"':b+=""+this.hover(!1,"tooltip__icon--"+this.tooltip.id,!1),b+=' class="ribbon-flights--tooltip tooltip__icon--'+this.tooltip.id+'"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-info"></use></svg></span>'+this.tooltip.render()),b+='</div><div class="ribbon_flights--search">',a.goSearchBar&&(b+=""+a.goSearchBar.render()),b+='<button class="ribbon_flights--search_switch" id="'+actionManager.addClickListener(this,this.switchSearch)+'"><svg width="16" height="16" viewBox="0 0 16 16"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-shuffle"></use></svg></button>',a.returnSearchBar&&(b+=""+a.returnSearchBar.render()),b+='</div><div class="ia_flights_filters"><div class="ia_flights_filters_group">',a.filtersDateComponent&&(b+=""+a.filtersDateComponent.render()),a.filtersWayfarerComponent&&(b+=""+a.filtersWayfarerComponent.render()),b+="</div>",a.filtersDirectComponent&&(b+=""+a.filtersDirectComponent.render()),b+="</div>",a.sortComponent&&(b+=""+a.sortComponent.render()),a.progressBar&&(b+=""+a.progressBar.render()),a.flightsList&&(b+=""+a.flightsList.render())),b+="</div></div>"},a._hotel_ribbon_search=function(a){return'<div class="hotel-ribbon--top-bar"><form class="hotel-ribbon--top-bar--form"><div class="hotel-ribbon--top-bar--form--desktop"><div class="hotel-ribbon--top-bar--form--input">'+_("Check in : {checkIn} Check out : {checkOut} Rooms : {room}","hotel",{checkIn:this.checkInCalendar.render()+'</div><div class="hotel-ribbon--top-bar--form--input">',checkOut:this.checkOutCalendar.render()+'</div><div class="hotel-ribbon--top-bar--form--input hotel-ribbon--top-bar--form--input--room">',room:this.roomSelector.render()})+'</div></div><div class="hotel-ribbon--top-bar--form--mobile"><div class="hotel-ribbon--top-bar--form--input">'+_("Check in : {checkIn} Check out : {checkOut}","hotel",{checkIn:this.checkInCalendarMobile.render()+'</div><div class="hotel-ribbon--top-bar--form--input hotel-ribbon--right">',checkOut:this.checkOutCalendarMobile.render()})+"</div></div></form>"+this.hotelsComponent.render()+"</div>"},a._hotel_ribbon_suggest=function(a){var b='<div class="hotel_ribbon__suggest"><div class="hotel_ribbon__suggest__place__slider" id="hotel_ribbon__suggest__place__slider" style="width:'+(window.innerWidth>640?144*a.places.length:130*a.places.length+5)+'px">',c=a.places;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<a class="hotel_ribbon__suggest__place" href="/?q=hotel%20'+d.entityKey.replace("place:","").replace(/_/g," ")+(this.searchColumn?"&t="+this.searchColumn:"")+'"><div class="hotel_ribbon__suggest__place__image-container"><img class="hotel_ribbon__suggest__place__image" src="'+d.picture+'" alt="'+d.name+'"></div><h3 class="hotel_ribbon__suggest__place__name">'+d.name.toUpperCase()+"</h3></a>";return b+='</div><div class="hotel_ribbon__suggest__place__left hotel_ribbon__suggest__place__left--disabled" onclick="HotelRibbonComponent.slide(-1)" title="'+_("Previous","trends")+'"><div class="icon icon-nav-selector-icon-small"></div></div><div class="hotel_ribbon__suggest__place__right" onclick="HotelRibbonComponent.slide(1)" title="'+_("Next","trends")+'"><div class="icon icon-nav-selector-icon-small-reverse"></div></div></div>'},a.hotels=function(a){var b="";if(a.hotels&&a.hotels.length>0){b+='<div class="hotel-ribbon--hotels-container">';var c=a.hotels;if(c)for(var d,e=-1,f=c.length-1;e<f;)if(d=c[e+=1],e<6){b+='<a href="'+d.offer.link.url+'" class="hotel-ribbon--hotel" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_element: 'hotel', ia_name: 'hotels', position: '"+(e+1)+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="hotel-ribbon--hotel--image-container icon icon-sidebar-images">',""!==d.picture?b+='<div class="hotel-ribbon--hotel--image" style="background-image: url(\''+d.picture+'\');" title="'+d.name+'"></div>':b+='<div class="hotel-ribbon--hotel--image" style="background: #8C8C8C" title="'+d.name+'"></div>',b+='</div><div class="hotel-ribbon--hotel--info"><h3>'+d.name+' <span class="hotel-ribbon--star-container"> '+d.starCount+'<span class="hotel-ribbon--star">★</span></span></h3><div class="hotel-ribbon--address">'+(d.address?d.address:"")+'</div><span class="hotel-ribbon--grade"><span class="hotel-ribbon--grade--stars">';for(var g=0;g<Math.ceil(d.review.mark/2);g++)b+="★";for(var g=0;g<5-Math.ceil(d.review.mark/2);g++)b+='<span class="empty">★</span>';b+='</span><span class="hotel-ribbon--grade--total">'+_("{count} avis","hotel",{grade:d.review.mark,count:d.review.count})+'</span></span><div class="hotel-ribbon--price hotel-ribbon--price--line">',Number.isInteger(d.offer.price.amount)?b+=""+d.offer.price.amount:b+=""+d.offer.price.amount.toFixed(2),b+=d.offer.price.currency.replace("EUR","€").replace("DOL","$").replace("GBP","£").replace("USD","$")+'<span class="hotel-ribbon--domain">'+d.offer.link.domain+'</span></div></div><div class="hotel-ribbon--price hotel-ribbon--price--column">',Number.isInteger(d.offer.price.amount)?b+=""+d.offer.price.amount:b+=""+d.offer.price.amount.toFixed(2),b+=d.offer.price.currency.replace("EUR","€").replace("DOL","$").replace("GBP","£").replace("USD","$")+'<span class="hotel-ribbon--domain">'+d.offer.link.domain+"</span></div></a><hr>"}b+='</div><a href="https://www.hotelscombined.com/" class="hotel-ribbon--hotels--brand" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_element: 'see_more', ia_name: 'hotels'})\" onclick=\"LinkHelper.clickHandler(this, Event); LinkHelper.openAffiliate(this, Event, 'https://www.hotelscombined.com/?a_aid=177916');\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("In partnership with {img}","hotel",{img:'<span class="hotel-ribbon--hotels--brand--img"></span>'})+'</a><a href="'+a.searchUrl+'" class="hotel-ribbon--see-more" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_element: \'brand\', ia_name: \'hotels\'})" onclick="LinkHelper.clickHandler(this, Event);" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="hotel-ribbon--see-more--icon"><span class="icon icon-board-create-large"></span></div></a>'}else a.hotels&&0===a.hotels.length&&!0===a.isComplete?b+='<div class="hotel-ribbon--empty">'+_("No result for your search criteria","hotel")+"</div>":b+='<div class="hotel-ribbon--busy" id="hotel-ribbon--busy"><img src="/img/qwant-loader.gif"></div>';return b},a.result_ribbon_hotels=function(a){var b="";return"search"===a.hotelState?b+=""+this.renderPartial("hotel_ribbon_search",a):"suggest"===a.hotelState?b+=""+this.renderPartial("hotel_ribbon_suggest",a):b+=""+_("Nothing to display","hotel"),b},a._result_ribbon_local_single_view=function(a){var b="",c=a.item.categoryTriggered?a.item.categoryTriggered:"unknown";if(b+='<div class="ribbon_local-header"><div class="ribbon_local-header__partner"><span class="local__partner_icon local__partner_icon_pages_jaunes">PagesJaunes</span></div><span class="local__partner_tooltip_right">'+this.renderPartial("result_partner_tooltip_local",{parent:this})+'</span></div><div class="ribbon--map-container" id="'+actionManager.addClickListener(a.itRibbonLocal,a.itRibbonLocal.getLocalUrl)+'"><div class="ribbon--map-container-inner"><a id="'+actionManager.addClickListener(a.itRibbonLocal,a.itRibbonLocal.getLocalUrl)+'" class="ribbon--map-mobile-mask" title="'+_("See all results on map","maps")+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'local', ia_type: '"+a.type+"', ia_template: 'single', ia_link: 'map', ia_item: "+a.item.key+'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"></a><div id="result_ribbon_local__map"><div id="map_container"></div></div><div class="maps_global--button-shadowed-box maps_global--button-shadowed-box--bigger"><div class="maps_global--button ribbon--map-info__button--fullscreen" title="'+_("fullscreen","maps")+'"><svg class="" title="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#maximize"></use></svg></div></div></div></div><div class="ribbon_local-container__info"><div class="result-local">',a.item.picture&&(b+='<div class="result-local__image"><a href="'+a.item.searchUrl+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'local', ia_type: '"+a.type+"', ia_template: 'single', ia_link: 'website', ia_item: "+a.item.key+", category: '"+c+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+a.item.picture+'" alt="'+a.item.name+'" title="'+a.item.name+'"/></a></div>'),b+='<div class="result-local__details ',a.item.picture||(b+="result-local__details--no_image"),b+='">',a.item.searchUrl&&(b+='<a href="'+a.item.searchUrl+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'local', ia_type: '"+a.type+"', ia_template: 'single', ia_link: 'website', ia_item: "+a.item.key+", category: '"+c+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'),b+='<h3 class="result-local__title">'+a.item.name,a.item.starCount&&(b+="&nbsp;"+a.item.starCount+"<sup>★</sup>"),b+="</h3>",a.item.searchUrl&&(b+="</a>"),a.item.category){b+='<div class="result-local__category" title="'+LocalHelper.formatDisplayCategory(a.item.category)+'">';var d=a.item.category;if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],b+='<div class="result-local__category_item">'+e+"</div>";b+="</div>"}if(a.item.address){var h=a.item.address.split(", ");b+='<div class="result-local__address">'+h[0],h[1]&&(b+=", "+h[1]),b+="</div>"}if(b+='<div class="result-local__review">',a.item.review&&a.item.review.count){for(var i=0;i<a.item.review.mark;i++)b+='<svg class="local_star_container active" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';for(var i=0;i<5-a.item.review.mark;i++)b+='<svg class="local_star_container empty" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#star"></use></svg>';b+='&nbsp;<a class="result-local__reviews" href="'+a.item.review.links+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'local', ia_type: '"+a.type+"', ia_template: 'single', ia_link: 'reviews', ia_item: "+a.item.key+", category: '"+c+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_n("%d review","%d reviews",a.item.review.count,"local")+"</a>"}else b+='<span class="result-local__no-reviews">'+_("No reviews","local")+"</span>";return b+="</div>",a.parent.storeOpenComponent&&(b+='<div class="result-local__isOpen">'+a.parent.storeOpenComponent.render()+"</div>"),a.item.phoneNumbers&&(b+='<div class="result-local__phone-numbers-button" id="'+actionManager.addClickListener(this,this.showPhoneNumbers,{phoneNumber:a.item.phoneNumbers[0].phoneNumber})+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'local', ia_type: '"+a.type+"', ia_template: 'single', ia_link: 'phone', ia_item: "+a.item.key+", category: '"+c+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg><use xlink:href="/img/v4/icon-spritesheet.svg#icon-phone"></use></svg>'+_("See phone number","local")+"</div>"),a.item.reviewQuotes&&a.item.reviewQuotes.length&&(b+='<div class="result-local__comments">"'+a.item.reviewQuotes[0]+'"</div>'),b+='</div></div></div><a id="'+actionManager.addClickListener(a.itRibbonLocal,a.itRibbonLocal.getLocalUrl)+"\" class=\"ribbon_local__discover\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'local', ia_type: '"+a.type+"', ia_template: 'single', ia_link: 'more', ia_item: "+a.item.key+", category: '"+c+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Learn more","local")+"</a>"},a.result_ribbon_local=function(a){var b='<link rel="stylesheet" href="css/maps/mapbox-gl.css"><div class="ribbon_local-container ';if(1===a.data.items.length&&"city"!==a.data.type&&"basic"!==a.data.type&&(b+="ribbon_local-container_single_view"),"basic"===a.data.type&&(b+="ribbon_local-container_basic"),b+='">',1===a.data.items.length&&"city"!==a.data.type&&"basic"!==a.data.type)b+=""+this.renderPartial("result_ribbon_local_single_view",{type:a.data.type,item:a.data.items[0],itRibbonLocal:this,parent:a});else{if("basic"===a.data.type)b+='<div class="ribbon_local-header_basic"><div class="ribbon_local-header_basic__logo"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-map"></use></svg><span>Qwant Maps</span></div><div class="ribbon_local-header_basic__text">'+_("Move around without being followed","local")+".</div></div>";else if("city"===a.data.type){var c=a.data.items[0];b+='<div class="ribbon_local-header_cities">',c.place?b+='<div class="ribbon_local-header__street">'+c.street+'</div><div class="ribbon_local-header__city">'+c.place+"</div>":b+='<div class="ribbon_local-header__coords"><svg width="35" height="42" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-pin-map"></use></svg><span>'+c.coordinates.latitude+", "+c.coordinates.longitude+"</span></div>",b+="</div>"}else b+='<div class="ribbon_local-header"><div class="ribbon_local-header__partner"><span class="local__partner_icon local__partner_icon_pages_jaunes">PagesJaunes</span></div>',a.localFilters&&(b+='<div class="result_page_local__filters">'+a.localFilters.render()+"</div>"),b+="</div>";b+='<div class="ribbon--map-container"><div class="ribbon--map-container-inner"><a id="'+actionManager.addClickListener(this,this.getLocalUrl)+'" class="ribbon--map-mobile-mask" title="'+_("See all results on map","maps")+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'local', ia_type: '"+a.type+"', ia_template: ",1===a.data.items.length?b+="'single'":b+="'multiple'",b+=', ia_link: \'map\', ia_item: 1})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"></a><div id="result_ribbon_local__map"><div id="map_container"></div></div><div class="maps_global--button-shadowed-box maps_global--button-shadowed-box--bigger" id="'+actionManager.addClickListener(this,this.getLocalUrl)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'local', ia_type: '"+a.type+"', ia_template: ",1===a.data.items.length?b+="'single'":b+="'multiple'",b+=', ia_link: \'map\', ia_item: 1})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="maps_global--button ribbon--map-info__button--fullscreen" title="'+_("fullscreen","maps")+'"><svg class="" title="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#maximize"></use></svg></div></div></div></div><div class="ribbon_local__infos">',"city"===a.data.type&&a.data.items[0].place?(b+='<a class="ribbon_local__discover" id="'+actionManager.addClickListener(this,this.getLocalUrl)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'local', ia_type: '"+a.type+"', ia_template: ",1===a.data.items.length?b+="'single'":b+="'multiple'",b+=', ia_link: \'map\', ia_item: 1})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg class="" title="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#eye"></use></svg>'+_("See more","maps")+"</a>"):"basic"===a.data.type&&(b+='<a id="'+actionManager.addClickListener(this,this.getLocalUrl)+"\" class=\"ribbon_local__discover\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'local', ia_type: '"+a.type+"', ia_template: 'single', ia_link: 'more', ia_item: 1})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Discover Qwant Maps","local")+"</a>"),b+="</div>"}return b+="</div>"},a.result_ribbon_covid19=function(a){var b="";return a.data&&(b+='<div class="ia_covid"><div class="ia_covid--container"><div class="ia_covid--header"><div class="ia_covid--header-text"><a class="ia_covid--via-link" href="https://www.interieur.gouv.fr/" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_name: \'covid-19\', ia_link: \'title\'});" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#external-link"></use></svg>via interieur.gouv.fr</a><h3 class="ia_covid--title">COVID-19 - Information couvre feu</h3>',BrowserHelper.isTabletOrMobile||(b+='<p class="ia_covid--text">A compter du mardi 15 décembre 2020, il est obligatoire de se munir d\'une attestation dérogatoire de déplacement pour toute sortie entre 20h et 6h. Vous pouvez générer cette attestation depuis l\'application TousAntiCovid du gouvernement, ou depuis le site du ministère de l\'Intérieur.</p><a class="button button--blue ia_covid--download ia_covid--download-link" href="https://interieur.gouv.fr/Actualites/L-actu-du-Ministere/Attestations-de-deplacement" target="_blank" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_name: \'covid-19\', ia_link: \'generate\'});" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">Générer une attestation</a>'),b+="</div><div>",a.data.thumbnail&&(b+='<img class="ribbon__cover__image" title="Informations du gouvernement Français" alt="Informations du gouvernement Français" src="'+a.data.thumbnail+'">'),b+="</div></div>",
BrowserHelper.isTabletOrMobile&&(b+='<p class="ia_covid--text">A compter du mardi 15 décembre 2020, il est obligatoire de se munir d\'une attestation dérogatoire de déplacement pour toute sortie entre 20h et 6h. Vous pouvez générer cette attestation depuis l\'application TousAntiCovid du gouvernement, ou depuis le site du ministère de l\'Intérieur.</p><a class="button button--blue ia_covid--download ia_covid--download-link" href="https://mobile.interieur.gouv.fr/Actualites/L-actu-du-Ministere/Attestations-de-deplacement" target="_blank" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_name: \'covid-19\', ia_link: \'generate\'});" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">Générer une attestation</a>'),b+='<div class="ia_covid--content"><p>+ d\'informations et formats complémentaires :&nbsp;<a href="https://www.interieur.gouv.fr/Actualites/L-actu-du-Ministere/Attestation-de-deplacement-et-de-voyage" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_name: \'covid-19\', ia_link: \'content-link\'});" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">interieur.gouv.fr</a></p><p>+ Application TousAntiCovid (iOS / Android) :&nbsp;<a href="https://bonjour.tousanticovid.gouv.fr/" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_name: \'covid-19\', ia_link: \'app-link\'});" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">bonjour.tousanticovid.gouv.fr</a></p><hr /><div class="ia_covid--sub-title">Gestes barrières</div><p>Face aux infections, il existe des gestes simples :</p><ul><li>Se laver les mains très régulièrement</li><li>Tousser ou éternuer dans son coude ou dans un mouchoir</li><li>Saluer sans se serrer la main, arrêter les embrassades</li><li>Utiliser des mouchoirs à usage unique et les jeter</li><li>Eviter les rassemblements, limiter les déplacements et les contacts</li></ul><div class="ia_covid--sub-title">Produits essentiels</div><p>Vous êtes fabricant, distributeur de matériel médical ou de première nécessité, ou logisticien ? Vous êtes à la recherche de produits ou matériel de première nécessité pour protéger votre personnel ?&nbsp;<a href="https://stopcovid19.fr/" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'covid-19', ia_link: 'essential_products'});\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">StopCovid19.fr</a>&nbsp;est une marketplace dédiée qui s’adresse aux établissements hospitaliers ou de santé, aux maisons de retraite et EHPADs, aux acteurs de la distribution alimentaire, aux acteurs du service public ou à toute entreprise dont les salariés doivent être protégés.</p></div></div>",BrowserHelper.isTabletOrMobile&&(b+='<div class="ia_covid--discover" id="'+actionManager.addClickListener(this,this.toggleCovidContainer)+'"><svg width="20" height="20" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-down"></use></svg><span class="ia_covid--discover-more">'+_("See more","movie")+'</span><span class="ia_covid--discover-less">'+_("See less","movie")+'</span><svg width="20" height="20" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-down"></use></svg></div>'),b+="</div>"),b},a.result_ribbon_game=function(a){var b='<div class="results-column--ribbon ribbon-knowledge ribbon-knowledge--game">';if(a.data){if(b+='<div class="ribbon-knowledge--container"><div class="ribbon_info--container"><div class="ribbon_game__description',a.data.picture&&(b+=" ribbon_game_info__with_picture"),b+='"><div class="ribbon_game__description__header"><a href="/game/'+a.data.slug+"\" class=\"ribbon_game_info__title\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'game', ia_link: 'title', ia_slug: '"+a.data.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+a.data.title+"</a>",a.data.genre){b+="<div class='ribbon_game_info__genre__container'>",a.data.year&&(b+=a.data.year+" •&nbsp;");var c=a.data.genre.splice(0,3),d=c;if(d)for(var e,f=-1,g=d.length-1;f<g;)e=d[f+=1],b+=""+e,f!==c.length-1&&(b+="&nbsp;•&nbsp;");b+="</div>"}if(a.data.platforms){b+='<div class="ribbon_game_info__platforms">';var h=a.data.platforms.toShow;if(h)for(var i,j=-1,k=h.length-1;j<k;)i=h[j+=1],b+='<div class="ribbon_game_platform"><span>'+i+"</span></div>";a.data.platforms.toToolTip.length>0&&(b+="<span "+this.hover(!1,"tooltip__icon--"+this.tooltip.id,!1)+' class="ribbon-game--tooltip tooltip__icon--'+this.tooltip.id+'"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#more-horizontal"></use></svg></span>'+this.tooltip.render()),b+="</div>"}if(b+="</div>",a.data.description&&(b+='<div class="ribbon_game_info__description',a.data.picture&&(b+=" ribbon_game_info__description_with_picture"),b+='">'+a.data.description,(!BrowserHelper.isTabletOrMobile&&a.data.description.length>=185||BrowserHelper.isTabletOrMobile&&a.data.description.length>=100)&&(b+='<span class="ribbon_game_info__description_gradient"></span>'),b+="</div>"),b+="</div>",a.data.picture&&(b+="<div class='ribbon__cover'><a href=\"/game/"+a.data.slug+"\" class=\"ribbon__cover\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'game', ia_link: 'cover', ia_slug: '"+a.data.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="ribbon__cover__image" title="'+a.data.title+'" src="'+a.data.picture+'" onerror="removeParentByClassName(this, \'ribbon__cover\');"></a></div>'),b+="</div>",a.data.gamesPlanet){if(b+="<div class='ribbon_game_info__versions'><a href=\""+a.data.gamesPlanet.url+'" '+SecurityHelper.targetBlank()+" class='ribbon_game_info__version' onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'game', ia_link: 'gamesplanet', ia_slug: '"+a.data.slug+"', t: 'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><div class='ribbon_gamesplanet__container'>",a.data.gamesPlanet.picture?b+="<img src='"+a.data.gamesPlanet.picture+"' onerror=\"removeParentByClassName(this, 'ribbon_game_info__version');\">":b+='<div class="ribbon_game__no-image"><svg width="40" height="40" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#image"></use></svg></div>',b+='<div class="ribbon_gamesplanet_partner"><span class="ribbon_gamesplanet_game_name">'+IAHelper.capitalizeFirstLetter(a.data.gamesPlanet.name)+'</span><span class="ribbon_gamesplanet_partner_name">gamesplanet.com</span></div></div><div class="ribbon_gamesplanet_info"><div class=\'ribbon_gamesplanet__price\'>'+a.data.gamesPlanet.price.toString().replace(/\./g,",")+" €</div>",a.data.gamesPlanet.platforms){b+='<div class="ribbon_game_info__platforms">';var l=a.data.gamesPlanet.platforms;if(l)for(var i,m=-1,n=l.length-1;m<n;)i=l[m+=1],b+='<div class="ribbon_game_platform"><span>'+i+"</span></div>";b+="</div>"}b+="</div></a></div>"}b+='<div class="ribbon_game__discover"><a href="/game/'+a.data.slug+"\" class=\"ribbon_discover\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'game', ia_link: 'discover', ia_slug: '"+a.data.slug+'\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span>'+_("Discover {item}","music_ribbon",{item:a.data.title})+"</span></a></div></div>"}else b+='<div class="no_result">'+_("No results found.","result")+"</div>";return b+="</div>"},a.result_ribbon_knowledge=function(a){var b='<div class="results-column--ribbon ribbon-knowledge ribbon-knowledge--knowledge">';if(a.data){if(b+='<div class="ribbon-knowledge--container">',a.data.thumbnail&&a.data.thumbnail.portrait&&(b+=""+this.renderPartial("ribbon_cover",{type:"knowledge",slug:null,route:a.data.url,picture:a.data.thumbnail.portrait,title:a.data.title,year:null,target:SecurityHelper.targetBlank(),roundCoverImage:a.roundCoverImage})),b+=""+this.renderPartial("ribbon_info",{type:"knowledge",slug:null,route:null,year:null,score:null,title:a.data.title,description:a.data.description,coordinates:a.data.coordinates,textLink:null,wikipedia:null,target:SecurityHelper.targetBlank(),wikipedia_tuto:!0,url:a.data.url}),a.data.coordinates&&(b+='<link rel="stylesheet" href="css/maps/mapbox-gl.css"><div class="ribbon--map-container"><div class="ribbon--map-container-inner"><a id="'+actionManager.addClickListener(this,this.getLocalUrl)+'" class="ribbon--map-mobile-mask" title="'+_("See all results on map","maps")+'" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_name: \'knowledge\', ia_link: \'maps\', ia_slug: \'null\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"></a><div id="result_ribbon_local__map"><div id="map_container"></div></div><div class="maps_global--button-shadowed-box maps_global--button-shadowed-box--bigger" id="'+actionManager.addClickListener(this,this.getLocalUrl)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'knowledge', ia_link: 'maps', ia_slug: 'null', t: 'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><div class=\"maps_global--button ribbon--map-info__button--fullscreen\" title=\""+_("fullscreen","maps")+'"><svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#maximize"></use></svg></div></div></div></div>'),a.data.nearby||a.data.coordinates){if(b+='<div class="ribbon-knowledge_nearby">',a.data.nearby){b+='<h4 class="ribbon-knowledge_nearby--title"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-camera"></use></svg>'+_("Places of interest","knowledge")+'</h4><div class="ribbon-knowledge_nearby__places"><div class="ribbon-knowledge_nearby__places--content">';var c=a.data.nearby;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],e<5&&(b+='<a class="ribbon-knowledge_nearby__link" href="/?q='+d.wiki_name+'" title="'+d.name+'" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_name: \'knowledge\', ia_link: \'nearby_places\', ia_slug: \'null\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="ribbon-knowledge_nearby__container-image"><img class="ribbon-knowledge_nearby__image" src="'+d.picture+'" onerror="removeParentByClassName(this, \'ribbon-knowledge_nearby__link\');"></div><div class="ribbon-knowledge_nearby__image--title">'+d.name+"</div></a>");b+="</div></div>"}if(a.data.coordinates&&this.categorySearchNearbyIsActive(a.data.country,a.data.infobox_type)){b+='<div class="ribbon-knowledge_nearby__search"><h4 class="ribbon-knowledge_nearby--title"><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#compass"></use></svg>'+_("Search nearby","knowledge")+'</h4><div class="result_knowledge_proximity_buttons">';var g=config_get("maps.ia.enabled")?"bar":"bar "+a.data.title,h=config_get("maps.ia.enabled")?"restaurant":"restaurant "+a.data.title,i=config_get("maps.ia.enabled")?"hotel":"hotel "+a.data.title;b+='<div class="result_knowledge_proximity_button" id="'+actionManager.addClickListener(this,this.searchCategoriesNearby,{query:g})+'" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_name: \'knowledge\', ia_link: \'nearby_bar\', ia_slug: \'null\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg width="24" height="24" viewBox="0 0 15 15"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-bar"></use></svg><div class="result_knowledge_proximity_button_text">'+_("Bar","local")+'</div></div><div class="result_knowledge_proximity_button" id="'+actionManager.addClickListener(this,this.searchCategoriesNearby,{query:h})+'" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_name: \'knowledge\', ia_link: \'nearby_restaurant\', ia_slug: \'null\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg width="24" height="24" viewBox="0 0 15 15"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-restaurant"></use></svg><div class="result_knowledge_proximity_button_text">'+_("Restaurant","local")+'</div></div><div class="result_knowledge_proximity_button" id="'+actionManager.addClickListener(this,this.searchCategoriesNearby,{query:i})+'" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'ribbon\', ia_name: \'knowledge\', ia_link: \'nearby_hotel\', ia_slug: \'null\', t: \'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><svg width="24" height="24" viewBox="0 0 15 15"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-building"></use></svg><div class="result_knowledge_proximity_button_text">'+_("Hotels","local")+"</div></div></div></div>"}b+="</div>"}a.data.filmography&&(a.data.infoboxData&&(b+=""+this.renderPartial("ribbon_infobox",{data:a.data})),b+=""+this.renderPartial("ribbon_filmography",{data:a.data})),a.data.nearby&&BrowserHelper.isTabletOrMobile?b+='<div class="ribbon_knowledge_discover ribbon_knowledge_discover_light" id="'+actionManager.addClickListener(this,this.toggleSeeMore)+'"><svg class="ribbon_knowledge--icon_see_more ribbon_knowledge--icon_see_more_down" width="20" height="20" viewBox="0 0 20 20"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-down"></use></svg><svg class="ribbon_knowledge--icon_see_more ribbon_knowledge--icon_see_more_up" width="20" height="20" viewBox="0 0 20 20"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-up"></use></svg><div class="ribbon_knowledge--see_more-link">'+_("See more","knowledge")+'</div><div class="ribbon_knowledge--see_less-link">'+_("See less","knowledge")+'</div><svg class="ribbon_knowledge--icon_see_more ribbon_knowledge--icon_see_more_down" width="20" height="20" viewBox="0 0 20 20"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-down"></use></svg><svg class="ribbon_knowledge--icon_see_more ribbon_knowledge--icon_see_more_up" width="20" height="20" viewBox="0 0 20 20"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-chevron-up"></use></svg></div>':b+='<a class="ribbon_knowledge_discover" href="'+a.data.url+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'knowledge', ia_link: 'wikipedia', ia_slug: 'null', t: 'default'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><span class=\"icon icon-wikipedia\"></span><span>"+_("Read more on Wikipedia","knowledge")+"</span></a>",b+="</div>"}else b+='<div class="no_result">'+_("No results found.","result")+"</div>";return b+="</div>"},a.result_ribbon_shopping_product=function(a){var b='<div class="results-column--ribbon ia-shopping-product">';return a.data&&(b+='<div class="ia-shopping-product--container">',a.shoppingProductHeader&&(b+=""+a.shoppingProductHeader.render()),a.shoppingProductFilters&&(b+=""+a.shoppingProductFilters.render()),a.productComponent&&(b+=""+a.productComponent.render()),b+="</div>"),b+='</div><div class="ia-shopping-product--ad_alert">',this.tooltip&&(b+="<span ","FR"===applicationState.user.userSetting.getSearchRegionCode()?b+='id="'+this.tooltipID+'"':b+=""+this.hover(!1,"tooltip__icon--"+this.tooltip.id,!1),b+=' class="ribbon_shopping_tooltip tooltip__icon--'+this.tooltip.id+'"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-info"></use></svg></span>'+this.tooltip.render()+'<span class="ia-shopping-product--ad_alert_text">'+_("Sponsored ads","result")+"</span>"),b+="</div>"},a.shopping_product_filters=function(a){var b='<div class="result_page_shopping_product_filters">',c=a.filters;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div class="shopping_product_filters"><span class="shopping_product_filters--title">'+this.getTranslatedName(d.name)+"</span>"+d.dropdown.render()+"</div>";return b+="</div>"},a.shopping_product_images=function(a){var b="";return a.data&&(b+=""+new IAListComponent({items:a.data,title:a.title,noLink:!0,onErrorRemoveImg:!0}).render()),b},a.shopping_product_list=function(a){var b="";if(a.data){b+='<div class="ia-shopping-product--offers"><div class="ia-shopping-product--offers-title">'+_("All offers","shoppingProduct")+"</div>",0===a.offersNb&&(b+='<div class="ia-shopping-product--no_data">'+_("No products found! Try other filters","shoppingProduct")+"</div>"),b+='<div class="ia-shopping-product--offers-content',a.offersNb>4&&(b+=" expandable"),b+='"><table class="ia-shopping-product--offers-list">';var c=a.data;if(c)for(var d,e=-1,f=c.length-1;e<f;){d=c[e+=1];var g=d.offers;if(g)for(var h,i=-1,j=g.length-1;i<j;){h=g[i+=1],b+='<tr class="shopping-product--offers-row" id="'+actionManager.addClickListener(this,this.redirectOffer,{url:h.url})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'ribbon', ia_name: 'shopping_product', ia_position: '"+i+"', ia_element: 'offer', category: '"+h.seller+"', ia_item: '"+d.gtin+'\' })" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><td class="shopping-product--offers-price">'+h.price+" "+this.getCurrencySymbol(h.currency)+'</td><td class="shopping-product--offers-seller">'+IAHelper.capitalizeFirstLetter(h.seller)+'</td><td class="shopping-product--offers-infos">';var k=a.filters;if(k)for(var l,m=-1,n=k.length-1;m<n;)l=k[m+=1],void 0!==d[l.name]&&(b+="<span>"+IAHelper.capitalizeFirstLetter(d[l.name]),m<a.filters.length-1&&void 0!==d[a.filters[m+1].name]&&(b+=" • "),b+="</span>");b+="</td></tr>"}}b+="</table></div>",a.offersNb>4&&(b+='<div class="ia-shopping-product--see-offers" id="'+actionManager.addClickListener(this,this.toggleSeeMore)+'"><svg class="ia-shopping-product--see-offers-icon" width="16" height="16" viewBox="0 0 20 20"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-down"></use></svg><div class="ia-shopping-product--see_more-offers">'+_("See all offers","shoppingProduct")+'</div><div class="ia-shopping-product--see_less-offers">'+_("See less","shoppingProduct")+'</div><svg class="ia-shopping-product--see-offers-icon" width="16" height="16" viewBox="0 0 20 20"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-chevron-down"></use></svg></div>'),b+="</div>"}return b},a._result_shopping=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c="";if(Object.keys(a.item).length>0){c+='<div class="result result--shopping">';var d=a.item.getMainOffer();a.item.getOffers().length;if(c+='<div class="product_info_column_left"><a class="product_info_image" href="'+b(d.getUrl())+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'shopping', domain: 'shopping', url: '"+d.getUrl()+"', partnerName: '"+d.getPartnerName()+"', type: 'serp', seller: '"+d.getName()+"', price: '"+d.getRawPrice()+"', category: '"+LinkHelper.slugalize(a.item.getCategories().join("_"))+"', isDiscount: '"+(d.isOnSale()?1:0)+"', gtin: '"+d.getGTIN()+"', brand: '"+d.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img class="result__thumbnail" alt="" src="'+a.item.getMainImageUrl()+'"></a></div><div class="product_info_column_right"><h3><a class="product_title" href="'+b(d.getUrl())+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'shopping', domain: 'shopping', url: '"+d.getUrl()+"', partnerName: '"+d.getPartnerName()+"', type: 'serp', seller: '"+d.getName()+"', price: '"+d.getRawPrice()+"', category: '"+LinkHelper.slugalize(a.item.getCategories().join("_"))+"', isDiscount: '"+(d.isOnSale()?1:0)+"', gtin: '"+d.getGTIN()+"', brand: '"+d.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+a.item.getTitle()+'</a></h3><a class="result--shopping__main-offer" href="'+b(d.getUrl())+'" '+applicationState.user.target()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'shopping', domain: 'shopping', url: '"+d.getUrl()+"', partnerName: '"+d.getPartnerName()+"', type: 'serp', seller: '"+d.getName()+"', price: '"+d.getRawPrice()+"', category: '"+LinkHelper.slugalize(a.item.getCategories().join("_"))+"', isDiscount: '"+(d.isOnSale()?1:0)+"', gtin: '"+d.getGTIN()+"', brand: '"+d.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="result--shopping__main-offer-price">'+d.getPrice(!1)+"</span>",d.isOnSale()&&(c+='<span class="result--shopping__main-offer-discount">'+d.getDiscountValue()+"</span>"),c+='<br><span class="result--shopping__main-offer-advert">'+_("Ad","result")+'</span><span class="result--shopping__main-offer-shop">'+d.getName()+'</span></a><p tabindex="0" class="result--shopping__desc">'+textSnippet(a.item.getDescription(),140)+"</p>",a.item.getOtherOffers().length>0){c+='<div class="result--shopping__other-offers"><span class="result--shopping__other-offers--label">'+_n("Other offer","Other offers",a.item.getOtherOffers().length,"result")+" : </span>";var e=a.item.getOtherOffers().slice(0,2);if(e)for(var f,g=-1,h=e.length-1;g<h;)f=e[g+=1],c+='<span class="result--shopping__other-offer"><a href="'+b(f.getUrl())+'" '+applicationState.user.target()+'  class="result--shopping__other-offer-price">'+f.getPrice(!1)+'</a><a class="result--shopping__other-offer-shop" href="'+b(f.getUrl())+'" '+applicationState.user.target()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'shopping', domain: 'shopping', url: '"+f.getUrl()+"', type: 'other-offers', partnerName: '"+f.getPartnerName()+"', seller: '"+f.getName()+"', price: '"+f.getRawPrice()+"', category: '"+LinkHelper.slugalize(a.item.getCategories().join("_"))+"', isDiscount: '"+(f.isOnSale()?1:0)+"', gtin: '"+f.getGTIN()+"', brand: '"+f.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+f.getName()+"</a></span>";c+="</div>"}c+="</div></div>"}return c},a._result_shopping_see_more=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="result--shopping__other-offers" id="result--shopping__other-offers-'+a.index+"-"+a.category+'" onclick="ShoppingColumnComponent.openOtherOffers('+a.index+", '"+a.category+'\')"><span class="result--shopping__other-offers--see-more"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1529484108256#icon-plus"></use></svg><span class="result--shopping__other-offers--label">'+_n("%d offer","%d offers",a.otherOffers.length,"result")+'</span></span><h3 class="result--shopping__all-offers">'+_("All offers","result")+'</h3><span class="result--shopping__all-offers--close"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1529484108256#circle-close"></use></svg></span>',d=a.item.categories?a.item.categories:a.item.product.categories?a.item.product.categories:null,e=null!=d?d.join("_"):a.item.offers.slice(0,8).join("_"),f=BrowserHelper.isTabletOrMobile?0:2;c+='<a class="result--shopping__other-offer result--shopping__other-offer-'+a.index+'" '+applicationState.user.target()+' href="'+b(a.mainOffer.url)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.index+1)+"', t: 'shopping', domain: 'shopping', url: '"+a.mainOffer.url+"', type: 'other-offers', partnerName: '"+a.mainOffer.partnerName+"', seller: '"+a.mainOffer.name+"', price: '"+a.mainOffer.finalPrice+"', category: '"+LinkHelper.slugalize(e)+"', isDiscount: '"+(a.mainOffer.discount?1:0)+"', gtin: '"+a.mainOffer.gtin+"', brand: '"+a.mainOffer.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="result--shopping__other-offer-shop">'+a.mainOffer.getName()+"</span><span "+applicationState.user.target()+'  class="result--shopping__other-offer-price">'+(a.mainOffer.finalPrice.toFixed(f).replace(".",",")+a.mainOffer.priceCurrency.replace("EUR","€").replace("DOL","$").replace("GBP","£").replace("USD","$"))+"</span></a>";var g=a.otherOffers.slice(0,7);if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],c+='<a class="result--shopping__other-offer result--shopping__other-offer-'+a.index+'" '+applicationState.user.target()+' href="'+b(h.url)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.index+1)+"', t: 'shopping', domain: 'shopping', url: '"+h.url+"', type: 'other-offers', partnerName: '"+h.partnerName+"', seller: '"+h.name+"', price: '"+h.finalPrice+"', category: '"+LinkHelper.slugalize(e)+"', isDiscount: '"+(h.discount?1:0)+"', gtin: '"+h.gtin+"', brand: '"+h.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="result--shopping__other-offer-shop">'+h.name+"</span><span "+applicationState.user.target()+'  class="result--shopping__other-offer-price">'+(h.finalPrice.toFixed(f).replace(".",",")+h.priceCurrency.replace("EUR","€").replace("DOL","$").replace("GBP","£").replace("USD","$"))+"</span></a>";return c+="</div>"},a._result_shopping_v4=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c="";if(Object.keys(a.item).length>0){var d=a.item.getMainOffer(),e=(a.item.getOffers().length,void 0===a.is_column||a.is_column),f=null;if(a.category&&(f=a.category),"mosaic"===ShoppingColumnComponent.getDisplayType()){c+='<div class="result result--shopping',a.hidden&&(c+=" result--shopping--hidden-item"),c+='"><a class="result--shopping--card" href="'+b(d.getUrl())+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'shopping', domain: '",a.home_shopping?c+="homeShopping":c+="shopping",c+="', url: '"+d.getUrl()+"', partner: '"+d.getPartnerName()+"', type: 'serp', partnerName: '"+d.getPartnerName()+"', seller: '"+d.getName()+"', price: '"+d.getRawPrice()+"', category: '"+LinkHelper.slugalize(a.item.getCategories().join("_"))+"', isDiscount: '"+(d.isOnSale()?1:0)+"', isRefurbished: '"+(a.item.offers[0].refurbished?1:0)+"', gtin: '"+d.getGTIN()+"', brand: '"+d.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="product_info_column_left"><img src="'+a.item.getMainImageUrl()+'" alt="'+a.item.getTitle()+'" title="'+a.item.getTitle()+'" ></span><div class="product_info_column_right"><div class="product_info__price"><span class="result--shopping__main-offer-price">'+d.getPrice(!1)+"</span>",d.isOnSale()&&(c+='<span class="result--shopping__main-offer-discount">'+d.getBasePrice(!1)+"</span>"),c+='<span class="result--shopping__main-offer-shop">'+d.getName()+"</span></div><h3><p>"+a.item.getTitle()+'</p></h3><p tabindex="0" class="result--shopping__desc">'+textSnippet(a.item.getDescription(),140)+"</p>",a.item.offers[0].refurbished&&(c+='<div class="result--shopping__refurbished">'+_("Refurbished","shopping")+"</div>"),c+="</div></a>";var g=a.item.getOtherOffers();g.length>0&&(c+=""+this.renderPartial("result_shopping_see_more",{index:a.item.index,item:a.item,mainOffer:d,otherOffers:g,category:f})),c+="</div>"}else{c+='<div class="result result--shopping',a.hidden&&(c+=" result--shopping--hidden-item"),c+='"><a href="'+b(d.getUrl())+'" '+SecurityHelper.targetBlank()+" class=\"product_info_column_left\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'shopping', domain: '",a.home_shopping?c+="homeShopping":c+="shopping",c+="', url: '"+d.getUrl()+"', type: 'serp', partnerName: '"+d.getPartnerName()+"', seller: '"+d.getName()+"', price: '"+d.getRawPrice()+"', category: '"+LinkHelper.slugalize(a.item.getCategories().join("_"))+"', isDiscount: '"+(d.isOnSale()?1:0)+"', gtin: '"+d.getGTIN()+"', brand: '"+d.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+a.item.getMainImageUrl()+'" alt="'+a.item.getTitle()+'" title="'+a.item.getTitle()+'"></a><div class="product_info_column_right"><h3><a href="'+b(d.getUrl())+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'shopping', domain: '",a.home_shopping?c+="homeShopping":c+="shopping",c+="', url: '"+d.getUrl()+"', type: 'serp', partnerName: '"+d.getPartnerName()+"', seller: '"+d.getName()+"', price: '"+d.getRawPrice()+"', category: '"+LinkHelper.slugalize(a.item.getCategories().join("_"))+"', isDiscount: '"+(d.isOnSale()?1:0)+"', gtin: '"+d.getGTIN()+"', brand: '"+d.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+a.item.getTitle()+'</a></h3><div><a href="'+b(d.getUrl())+'" '+SecurityHelper.targetBlank()+"  class=\"product_info__price\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'shopping', domain: '",a.home_shopping?c+="homeShopping":c+="shopping",c+="', url: '"+d.getUrl()+"', type: 'serp', partnerName: '"+d.getPartnerName()+"', seller: '"+d.getName()+"', price: '"+d.getRawPrice()+"', category: '"+LinkHelper.slugalize(a.item.getCategories().join("_"))+"', isDiscount: '"+(d.isOnSale()?1:0)+"', isRefurbished: '"+(a.item.offers[0].refurbished?1:0)+"', gtin: '"+d.getGTIN()+"', brand: '"+d.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="result--shopping__main-offer-price">'+d.getPrice(!1)+'</span><span class="result--shopping__main-offer-discount">',d.isOnSale()&&(c+=""+d.getBasePrice(!1)),c+='</span><span class="result--shopping__main-offer-shop">'+d.getName()+"</span>",a.item.offers[0].refurbished&&(c+='<div class="result--shopping__refurbished">'+_("Refurbished","shopping")+"</div>"),c+="</a>";var g=a.item.getOtherOffers();if(e)if(g.length>0){c+='<div class="result--shopping__other-offers" id="result--shopping__other-offers-'+a.item.index,f&&(c+="-"+f),c+='">';var h=g.slice(0,7);if(h)for(var i,j=-1,k=h.length-1;j<k;)i=h[j+=1],c+='<span class="result--shopping__other-offer"><a href="'+b(i.getUrl())+'" '+applicationState.user.target()+" class=\"result--shopping__other-offer-price\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'shopping', domain: '",a.home_shopping?c+="homeShopping":c+="shopping",
c+="', url: '"+i.getUrl()+"', type: 'other-offers', partnerName: '"+i.getPartnerName()+"', seller: '"+i.getName()+"', price: '"+i.getRawPrice()+"', category: '"+LinkHelper.slugalize(a.item.getCategories().join("_"))+"', isDiscount: '"+(i.isOnSale()?1:0)+"', gtin: '"+i.getGTIN()+"', brand: '"+i.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+i.getPrice(!1)+'</a><a class="result--shopping__other-offer-shop" href="'+b(i.getUrl())+'" '+applicationState.user.target()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'url', position: '"+(a.item.index+1)+"', t: 'shopping', domain: '",a.home_shopping?c+="homeShopping":c+="shopping",c+="', url: '"+i.getUrl()+"', type: 'other-offers', partnerName: '"+i.getPartnerName()+"', seller: '"+i.getName()+"', price: '"+i.getRawPrice()+"', category: '"+LinkHelper.slugalize(a.item.getCategories().join("_"))+"', isDiscount: '"+(i.isOnSale()?1:0)+"', gtin: '"+i.getGTIN()+"', brand: '"+i.getBrand()+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+i.getName()+"</a></span>";c+='</div><span class="result--shopping__other-offers--see-more" onclick="ShoppingColumnComponent.openOtherOffers('+a.item.index+", ",c+=f?"'"+f+"'":"null",c+=')"><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1529484108256#icon-plus"></use></svg><span class="result--shopping__other-offers--label">'+_n("%d offer","%d offers",g.length,"result")+"</span></span>"}else BrowserHelper.isTabletOrMobile&&(c+='<div class="result--shopping__other-offers--see-more-empty"></div>');c+='</div><p tabindex="0" class="result--shopping__desc">'+textSnippet(a.item.getDescription(),140)+"</p></div>",e||g.length>0&&(c+=""+this.renderPartial("result_shopping_see_more",{index:a.item.index,item:a.item,mainOffer:d,otherOffers:g,category:f})),c+="</div>"}}return c},a.ia_search_bar=function(a){var b='<div class="ia__search_bar" id="'+this.id+'_search_bar"><form><div class="ia__search_bar__form__input_container"><input name="q" id="'+this.id+'_input" class="ia__search_bar__form__input" onchange="" type="search" autocomplete="off" spellcheck="false" placeholder="';return BrowserHelper.isTabletOrMobile?b+=""+a.data.mobilePlaceholder:b+=""+a.data.placeholder,b+='" aria-label="ia__search_bar"/><svg width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-map-pin"></use></svg></div></form></div>'+new IASuggesterComponent(a.data,this.id).render()},a.ia_suggester=function(a){var b="";if(a.data){b+='<ul class="ia_suggester__list">';var c=a.data;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<li class="ia_suggester__list__element',d.payload.sub&&(b+=" ia_suggester__list__element_sub"),b+='" id="'+actionManager.addClickListener(this,this.onClickItem,d)+'">',d.payload.type&&"airport"===d.payload.type?b+='<svg class="icon-airport" width="14" height="14" viewBox="0 0 14 14"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-airport"></use></svg>':d.payload.type&&"city"===d.payload.type?b+='<svg width="14" height="14" viewBox="0 0 14 14"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-residential-community"></use></svg>':d.payload.type&&"country"===d.payload.type&&(b+='<svg width="14" height="14" viewBox="0 0 14 14"><use xlink:href="/img/v4/icon-spritesheet.svg#icon-globe"></use></svg>'),b+=d.value+"</li>";b+="</ul>"}return b},a.search_bar=function(a){var b='<div class="search_bar__form">';return this.hasLogo&&(b+='<a href="/',userClient&&(b+="?client="+userClient),b+="\" class=\"search_bar__form__logo\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'logo', context: 'true', t: 'default', component: 'search_bar'})\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><img alt=\"logo\" src=\"",hasClass(document.body,"theme-dark")?b+="/img/v4/qwant-logo-mini-white.svg":b+="/img/v4/qwant-logo-mini.svg",b+='?123456d"/></a>'),b+='<div class="search_bar__return" id="'+actionManager.addClickListener(this,this.onBlur)+'"><svg title="'+_("Return","home")+'"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#arrow-left"></use></svg></div><input id="'+this.id+'_placeholder" class="search_bar__form__placeholder" disabled value="" spellcheck="false" ',"ie"===BrowserHelper.getBrowserUri()&&(b+=" hidden "),b+='/><div class="search_bar__form__icons"><span id="'+this.id+'_reset" class="search_bar__form__reset ',""===SearchBarComponent.homeLastQuery&&(b+=" search_bar__form__reset--hidden "),b+='"  title="'+_("Clear search","home")+'"><span class="icon icon-switch-close"></span></span><svg id="'+this.id+'_search" class="search_bar__form__search" title="'+_("Search","home")+'" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-search"></use></svg></div><form action="." id="'+this.id+'_form"><input name="q" id="'+this.id+'_input" class="search_bar__form__input" type="search" autocomplete="off" spellcheck="false" placeholder="'+(this.options&&this.options.placeholder?this.options.placeholder:"")+'" value="'+Url.htmlEntities(SearchBarComponent.homeLastQuery)+'" aria-label="search_bar"/></form></div><div id="search_bar_loader"><svg viewBox="0 0 375 2" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><linearGradient id="k2000"><stop offset="0%" stop-color="black"/><stop offset="46%" stop-color="black"/><stop offset="48%" stop-color="white"/><stop offset="52%" stop-color="white"/><stop offset="54%" stop-color="black"/><stop offset="100%" stop-color="black"/><animate id="search_bar_loader_animation" attributeName="x1" values="-44%;40%;-44%" dur="1.5s"begin="indefinite" repeatCount="indefinite" restart="whenNotActive" fill="freeze"/></linearGradient><linearGradient id="transition"><stop offset="0%" stop-color="white"/><stop offset="98%" stop-color="white"/><stop offset="100%" stop-color="black"/></linearGradient><g fill-rule="evenodd" id="search_bar_loader_light"><path fill="#353C52" d="M80.302 0c-1.197.68-2.41 1.35-3.65 2h76.195a146.705 146.705 0 0 1-5.002-2H80.302z"/><path fill="#4BA2EA" d="M47.02 0a73.37 73.37 0 0 1-1.943 2h31.575c1.24-.65 2.453-1.32 3.65-2H47.02z"/><path fill="#65CEE7" d="M0 0v2h44.867a72.755 72.755 0 0 0 1.93-2H0z"/><path fill="#65CEE7" d="M46.797 0a72.755 72.755 0 0 1-1.93 2h.21a73.37 73.37 0 0 0 1.944-2h-.224z"/><path fill="#87C966" d="M147.846 0c1.638.69 3.304 1.358 5.001 2h71.318c-.915-.656-1.81-1.325-2.69-2h-73.63z"/><path fill="#FF3B4A" d="M284.72 0c-1.634.69-3.292 1.358-4.981 2h48.996c.067-.67.147-1.336.24-2H284.72z"/><path fill="#FFDA12" d="M221.45 0c.882.675 1.776 1.344 2.694 2h55.636c1.696-.642 3.358-1.31 4.996-2H221.45z"/><path fill="#AF27CC" d="M328.98 0c-.095.664-.177 1.33-.245 2h46.263V0H328.98z"/></g><g fill-rule="evenodd" id="search_bar_loader_dark"><path fill="#60787E" d="M80.302 0c-1.197.68-2.41 1.35-3.65 2h76.195a146.705 146.705 0 0 1-5.002-2H80.302z"/><path fill="#708B93" d="M47.02 0a73.37 73.37 0 0 1-1.943 2h31.575c1.24-.65 2.453-1.32 3.65-2H47.02z"/><path fill="#82A2AA" d="M0 0v2h44.867a72.755 72.755 0 0 0 1.93-2H0z"/><path fill="#65CEE7" d="M46.797 0a72.755 72.755 0 0 1-1.93 2h.21a73.37 73.37 0 0 0 1.944-2h-.224z"/><path fill="#50626A" d="M147.846 0c1.638.69 3.304 1.358 5.001 2h71.318c-.915-.656-1.81-1.325-2.69-2h-73.63z"/><path fill="#414E55" d="M284.72 0c-1.634.69-3.292 1.358-4.981 2h48.996c.067-.67.147-1.336.24-2H284.72z"/><path fill="#414E55" d="M221.45 0c.882.675 1.776 1.344 2.694 2h55.636c1.696-.642 3.358-1.31 4.996-2H221.45z"/><path fill="#60787E" d="M328.98 0c-.095.664-.177 1.33-.245 2h46.263V0H328.98z"/></g></defs><mask id="k2000mask" x="0" y="0" width="3" height="1" maskContentUnits="objectBoundingBox"><rect x="-1" y="0" width="3" height="1" fill="url(#k2000)"/></mask><mask id="transitionMask" x="0" y="0" width="1" height="1" maskContentUnits="objectBoundingBox"><rect x="0" y="0" width="1" height="1" fill="url(#transition)"><set attributeName="x" to="-1" begin="search_bar_loader_animation.begin"/><animate id="search_bar_loader_transition" attributeName="x" values="-1;0" dur="0.4s"begin="search_bar_loader_animation.end" fill="freeze" calcMode="spline" keyTimes="0;1" keySplines="0.5 0 0.5 1"/></rect></mask><use xlink:href="#search_bar_loader_light" noxhr="true" style="mask: url(#k2000mask)" class="svg-light"/><use xlink:href="#search_bar_loader_light" noxhr="true" style="mask: url(#transitionMask)" class="svg-light"/><use xlink:href="#search_bar_loader_dark" noxhr="true" style="mask: url(#k2000mask)" class="svg-dark"/><use xlink:href="#search_bar_loader_dark" noxhr="true" style="mask: url(#transitionMask)" class="svg-dark"/></svg></div>',this.isAutoCompleteEnabled()&&(b+=""+new SuggesterComponent(this.id).render()),BrowserHelper.isTabletOrMobile&&(b+='<div class="search_bar__mask"></div>'),b},a.suggester=function(a){var b="";if(a.data&&(a.data.availableQwick&&a.data.availableQwick.length>0||a.data.special&&a.data.special.length>0||a.data.items&&a.data.items.length>0)){if(b+='<ul class="suggester__list">',a.data.availableQwick&&(b+=""+this.renderPartial("suggester_available_qwick",a.data.availableQwick)),a.data.special){var c=a.data.special;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],d.type!==SuggesterComponent.CATEGORIES.TOP_QUERY&&(b+=""+this.renderPartial("suggester_special_small",d))}var g=a.data.items;if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],h.type===SuggesterComponent.CATEGORIES.NORMAL?b+=""+this.renderPartial("suggester_standard",h):h.type===SuggesterComponent.CATEGORIES.QWICK&&(b+=""+this.renderPartial("suggester_qwick",h));b+="</ul>"}return b},a._suggester_artist=function(a){return'<li class="suggester__list__element suggester__list__element--special suggester__list__element--artist--big" id="'+actionManager.addClickListener(this,this.onClick,a)+'"><span class="suggester__list__element__image-wrapper"><img class="suggester__list__element__image" src="'+a.picture+'" onerror="this.onerror=null;this.src=\'/img/error/people_error.png\';"/></span><span class="suggester__list__element__content"><span class="suggester__list__element__name">'+a.name+'</span><span class="suggester__list__element__description">'+a.description+'</span></span><div class="suggester__list__element__link"><span class="icon dropdown-special__'+a.icon+'-icon"></span><span class="suggester__list__element__see-more">'+_("See the complete artist sheet","suggest-game")+"</span></div></li>"},a._suggester_available_qwick=function(a){return'<li class="suggester__list__element--available-qwick--container suggester__list__element--available-qwick"><a class="suggester__list__element--available-qwick--info-button" href="'+_("https://help.qwant.com/help/qwant-search/searching/how-use-qwick/","suggester")+'" '+SecurityHelper.targetBlank()+'><span class="icon icon-information" title="'+_("More information","suggester")+'"></span></a><div class="suggester__list__element" id="'+actionManager.addClickListener(this,this.onClick,a)+'"><img src="'+a.icon+'" onerror="this.parentNode.removeChild(this);"/><span>'+_("Type <b>{command}</b> for a direct access to <b>{website}</b>","suggester",{command:a.command,website:a.site_name})+"</span></div></li>"},a._suggester_game=function(a){return'<li class="suggester__list__element suggester__list__element--special suggester__list__element--game" id="'+actionManager.addClickListener(this,this.onClick,a)+'"><span class="suggester__list__element__image-wrapper"><img class="suggester__list__element__image" src="'+a.picture+'" onerror="this.onerror=null;this.src=\'/img/game/game_error.jpg\';"/></span><span class="suggester__list__element__content"><span class="suggester__list__element__name">'+a.name+'</span><span class="suggester__list__element__description">'+a.description+'</span></span><div class="suggester__list__element__link"><span class="icon icon-'+a.icon+'"></span><span class="suggester__list__element__see-more">'+_("See the complete game sheet","suggest-game")+"</span></div></li>"},a._suggester_gameeditor=function(a){return'<li class="suggester__list__element suggester__list__element--special suggester__list__element--game" id="'+actionManager.addClickListener(this,this.onClick,a)+'"><span class="suggester__list__element__image-wrapper"><img class="suggester__list__element__image" src="'+a.picture+'" onerror="this.onerror=null;this.src=\'/img/game/game_error.jpg\';"/></span><span class="suggester__list__element__content"><span class="suggester__list__element__name">'+a.name+'</span><span class="suggester__list__element__description">'+a.description+'</span></span><div class="suggester__list__element__link"><span class="icon icon-'+a.icon+'"></span><span class="suggester__list__element__see-more">'+_("See the complete game publisher sheet","suggest-game")+"</span></div></li>"},a._suggester_qwick=function(a){return'<li class="suggester__list__element suggester__list__element--qwick" id="'+actionManager.addClickListener(this,this.onClick,a)+'"><img src="'+a.icon+'" /><b>'+SecurityHelper.escape(a.value)+"</b><span>- "+a.site_name+"</span></li>"},a._suggester_special_small=function(a){var b="",c=a.type===SuggesterComponent.CATEGORIES.ARTIST?"error/people_error.png":"game/game_error.jpg";if(b+='<li class="suggester__list__element suggester__list__element--special suggester__list__element--special--small suggester__list__element--'+a.type+'--special--small" id="'+actionManager.addClickListener(this,this.onClick,a)+'"><span class="suggester__list__element__content">',a.type===SuggesterComponent.CATEGORIES.BRAND_SUGGEST?b+='<span class="suggester__list__element__name">'+this.formatSpecialSuggestName(a.name)+'</span><span class="suggester__list__element__image-wrapper"><img class="suggester__list__element__image" src="'+a.favicon_url+'" onerror="removeParentByClassName(this, \'suggester__list__element__image-wrapper\');"/></span>':b+="<span>"+this.formatSpecialSuggestName(a.name)+"</span>",b+="</span>",a.type!==SuggesterComponent.CATEGORIES.BRAND_SUGGEST&&(b+='<span class="suggester__list__element__image-wrapper"><img class="suggester__list__element__image" src="'+a.picture+'" onerror="this.onerror=null;this.src=\'/img/'+c+"';\"/></span>"),b+='<span class="suggester__list__element__type">',a.type===SuggesterComponent.CATEGORIES.ARTIST)b+='<svg><use xlink:href="/img/v4/sidebar-spritesheet.svg?1608192960675#icon-music"></use></svg><span>Music</span>';else if(a.type===SuggesterComponent.CATEGORIES.GAME||a.type===SuggesterComponent.CATEGORIES.GAME_EDITOR)b+='<svg><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-games"></use></svg><span>Games</span>';else if(a.type===SuggesterComponent.CATEGORIES.BRAND_SUGGEST&&(b+="<span>"+_("Ad","result")+"</span>",a.tooltip)){var d=_("This search suggestion is an advertisement for {brand}. If you click on this advertisement, you will be redirected to the advertiser's site: {domain}","suggest",{brand:IAHelper.capitalizeFirstLetter(a.brand),domain:a.domain});b+="<div ",BrowserHelper.isTabletOrMobile?b+='id="'+a.tooltipID+'"':b+=""+this.hover(d,"tooltip__icon--"+a.tooltip.id,!1),b+=' class="suggester__list__element__tooltip tooltip__icon--'+a.tooltip.id+'" ><svg><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-info"></use></svg><div>'+a.tooltip.render()}return b+="</span></li>"},a._suggester_standard=function(a){var b='<li class="suggester__list__element suggester__list__element--standard" id="'+actionManager.addClickListener(this,this.onClick,a)+'">';return BrowserHelper.isTabletOrMobile&&(b+='<svg class="icon" width="14" height="14" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#icon-search"></use></svg>'),b+=a.commonPart+"<b>"+a.value.substr(SuggesterComponent.LAST_SUGGEST.length,a.value.length)+"</b></li>"},a.panel_form_user_rating=function(a){var b='<a class="panel__form__close_button" href="#" id="'+actionManager.addClickListener(this,PanelFormHelper.close)+'">×</a><h1>'+_("Rate the result","user rating")+'</h1><table class="panel_form_user_rating__table"><tr><td>'+this.ratingData.label("rating",_("Rating","user rating"))+'</td><td class="panel_form__user_rating__radio_buttons">',c=this.ratingData.radio("rating",{required:!0,entries:this.ratingData.getRatingScale()});if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<span class="panel_form__user_rating__color panel_form__user_rating__color--'+e+'"></span><span class="panel_form__user_rating__input">'+d+"</span><br>";b+='</td></tr><tr><td colspan="2"><hr></td></tr><tr><td>'+this.ratingData.label("flags",_("Flags","user rating"))+'</td><td class="panel_form__user_rating__checkboxes">';var g=this.ratingData.getFlags();if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],b+=""+this.ratingData.checkbox(h.fieldName,{callback:this.updateFlags,component:this,flagName:h.flagName,ratingData:this.ratingData})+this.ratingData.label(h.fieldName,h.label)+"<br>";b+='</td></tr><tr><td colspan="2"><hr></td></tr><tr><td>'+this.ratingData.label("languageRating",_("Language","user rating"))+'</td><td class="panel_form__user_rating__radio_buttons">';var k=this.ratingData.radio("languageRating",{required:!0,entries:this.ratingData.getLanguageRatingScale()});if(k)for(var d,l=-1,m=k.length-1;l<m;)d=k[l+=1],b+=d+"<br>";return b+='</td></tr><tr><td colspan="2"><hr></td></tr><tr><td>'+this.ratingData.label("comment",_("Comment","user rating"))+"</td><td>"+this.ratingData.textArea("comment",{maxLength:1024})+'</td></tr></table><div class="panel__form__button_container"><button class=\'button button--blue\' id="'+actionManager.addClickListener(this,this.submit)+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction',event:'click',zone: 'confirm',component : 'form',context: 'user-rating',t:'default'})\"onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Create","board creator")+"</button><button class='button button--grey' id=\""+actionManager.addClickListener(this,PanelFormHelper.close)+"\"onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction',event:'click',zone: 'cancel',component : 'form',context: 'user-rating',t:'default'})\"onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">"+_("Cancel","user rating")+"</button></div>"},a.web_add_block=function(a){var b="";if(a.ads&&a.ads.length>0&&ResultFragmentComponent.hasValidResultsToDisplay(a.ads)){"B"===this.whichBlock&&(b+='<hr class="result_extensions__underline"/>');var c=ResultFragmentComponent.prepareResultItems(a.ads,this.type,0,!0),d=c;if(d)for(var e,f=-1,g=d.length-1;f<g;){e=d[f+=1];var h=f+1;b+=""+this.renderPartial("result_"+this.type,{page:a.page,item:e,query:encodeURIComponent(this.route.rawParams.q),type:"ad",index:h})}b+='<span class="result_extensions__policy',"A"!==this.whichBlock&&(b+=" result_extensions__policy--bottom"),b+='">',"C"===this.whichBlock?b+='<a href="https://help.qwant.com/fr/aide/comment-fonctionnent-les-publicites-qwant-ads/" '+SecurityHelper.targetBlank()+">"+_("Ads by Qwant","result")+"</a>":a.isQwantAds?(b+=""+_("Ads by Qwant","result"),this.tooltip&&(b+='<span id="'+this.tooltipID+'" class="result_web_tooltip tooltip__icon--'+this.tooltip.id+'"><svg class="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-info"></use></svg></span>'+this.tooltip.render())):b+=""+_("Ads by Microsoft {linkStart}Privacy{linkEnd}","result",{linkStart:'<a href="http://go.microsoft.com/fwlink/?LinkId=248681" '+SecurityHelper.targetBlank()+">",linkEnd:"</a>"}),b+="</span>"}return b},a._all_categories=function(a){var b='<div class="home_shopping__category"><span class="home_shopping__category_dash"></span><span class="home_shopping__category_title">'+_("Most popular categories","shopping")+'</span></div><div class="home_shopping--popular_categories">';if(a.categories&&a.categories.length){var c=a.categories;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],-1===a.isNotPopularCategory.indexOf(d.keys)&&(b+='<a href="/shopping?category='+d.keys,a.rawKeyPhrase&&(b+="&q="+a.rawKeyPhrase),b+='" title="'+d["display-name"]+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'home_shopping_category--block', category: '"+d.keys+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="popular_categories--item"><img src="/img/shopping/categories/'+d.keys+'.jpg?1608192960675" alt="'+d["display-name"]+'" onerror="this.onerror=null;this.src=\'/img/shopping/categories/square.png\';" /><span class="popular_categories--name">'+d["display-name"]+"</span></span></a>")}return b+="</div>"},a._ghost_loading_home_shopping=function(a){var b='<div class="ghost__load__home_shopping"><div class="ghost__load__home_shopping__category"><span class="ghost__load__home_shopping__category_dash"></span><span class="ghost__load__home_shopping__category_title"></span></div>';if(BrowserHelper.isTabletOrMobile)for(var c=0;c<5;c++)b+=""+this.renderPartial("shopping_ghost");else for(var c=0;c<5;c++)b+=""+this.renderPartial("shopping_card_ghost");return b+="</div>"},a.home_shopping_category=function(a){var b="";if(a.data.items){b+='<div class="home_shopping__category"><span class="home_shopping__category_dash"></span><span class="home_shopping__category_title">',a.fullPage?b+=""+a.category["display-name"]:b+='<a href="/shopping?category='+a.category.keys+'" title="'+a.category["display-name"]+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'home_shopping_category', category: '"+a.category.keys+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+a.category["display-name"]+"</a>",b+="</span>",-1===a.twoLinesCategory.indexOf(a.category.keys)&&(b+='<span class="home_shopping__category_results">',a.fullPage?b+=""+_n("%d result","%d results",a.data.items.length,"summary"):b+='<a href="/shopping?category='+a.category.keys+'" title="'+_("Show all the results","local")+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'home_shopping_category', category: '"+a.category.keys+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_n("%d result","%d results",a.data.items.length,"summary")+"</a>",b+="</span>",a.fullPage||(b+='<span class="home_shopping__category_nav"><span class="home_shopping__category_nav-item" id="'+actionManager.addClickListener(this,this.navBack,{category:a.category.keys})+'"><svg viewBox="0 0 17 17"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#chevron-left"></use></svg></span><span class="home_shopping__category_nav-item" id="'+actionManager.addClickListener(this,this.navNext,{category:a.category.keys})+'"><svg viewBox="0 0 17 17"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#chevron-right"></use></svg></span></span>')),this.tooltip&&(b+="<span ","FR"===applicationState.user.userSetting.getSearchRegionCode()?b+='id="'+this.tooltipID+'"':b+=""+this.hover(!1,"tooltip__icon--"+this.tooltip.id,!1),b+=' class="result_shopping_tooltip tooltip__icon--'+this.tooltip.id+'"><svg class="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-info"></use></svg></span>'+this.tooltip.render()),b+='</div><div class="results--category-content results--category-'+a.category.keys+" ",-1!==a.twoLinesCategory.indexOf(a.category.keys)?b+="results--category-column":b+="results--category-row",b+='">';var c=ResultFragmentComponent.prepareResultItems(a.randomItems.items,"shopping",0),d=c;if(d)for(var e,f=-1,g=d.length-1;f<g;){e=d[f+=1];var h=!1;!a.fullPage&&f>a.items_per_page-1&&-1===a.twoLinesCategory.indexOf(a.category.keys)&&(h=!0),e.index=f,e.type="shopping",b+=""+this.renderPartial("result_shopping_v4",{item:e,hidden:h,category:a.category.keys,home_shopping:!0,is_column:-1!==a.twoLinesCategory.indexOf(a.category.keys)})}if(b+='</div><div style="clear: both;"></div>',!a.fullPage){if(-1===a.twoLinesCategory.indexOf(a.category.keys)){b+='<div class="results--category-pages category-'+a.category.keys+'">';for(var i=1;i<=a.nb_pages;i++)b+='<span id="'+actionManager.addClickListener(this,this.bulletNav,{category:a.category.keys,page:i})+'" class="results--category-page results--category-page-'+i,1===i&&(b+="  active-page"),b+='"><span></span></span>';b+="</div>"}b+='<div class="results--category--see_more"><a href="/shopping?category='+a.category.keys,a.query&&(b+="&q="+a.query),b+='" title="'+_("Show all the results","local")+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'home_shopping_category', category: '"+a.category.keys+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Show all the results","local")+"</a></div>"}}return b},a.home_shopping_page=function(a){var b=""+this.renderPartial("auto-complete",a);if(a.topBar&&!BrowserHelper.isTabletOrMobile&&(b+=""+a.topBar.render()),b+='<div class="results-page results-page--shopping results-page--home-shopping"><div class="results-column results-column--shopping results-column--home-shopping">',a.categories.length<1)b+=""+this.renderPartial("ghost_loading_home_shopping",a);else{if(b+='<div class="result_column_title--container"><h2><span class="result_column__title">',"FR"===applicationState.user.userSetting.getSearchRegionCode()?b+=""+_("Shopping ads","result"):b+=""+_("Shopping","result"),b+="</span>",this.tooltip&&(b+="<span ","FR"===applicationState.user.userSetting.getSearchRegionCode()?b+='id="'+this.tooltipID+'"':b+=""+this.hover(!1,"tooltip__icon--"+this.tooltip.id,!1),b+=' class="result_shopping_tooltip tooltip__icon--'+this.tooltip.id+'"><svg class="" width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-info"></use></svg></span>'+this.tooltip.render()),b+='</h2></div><div class="banner__home-shopping"><a href="/shopping?q=black friday" title="'+_("Shopping","result")+'"><img alt="'+constants.HomeShoppingCurrentEvent[applicationState.user.userSetting.getSearchRegionCode().toLowerCase()]+'" src="/img/shopping/banners/home-',BrowserHelper.isTabletOrMobile&&(b+="mobile-"),b+=""+applicationState.user.userSetting.getSearchRegionCode().toLowerCase(),BrowserHelper.isRetina()&&(b+="-x2"),b+='.png?1608192960675" onerror="this.parentNode.removeChild(this);"/></a></div>',a.fullPage){if(a.components&&a.components.length){var c=a.components;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+=""+d.render()}b+=""+this.renderPartial("all_categories",a)}else{if(a.highlightCategory){var g=a.highlightCategory;if(g)for(var h,i=-1,j=g.length-1;i<j;)(h=g[i+=1])&&(b+=""+h.render())}if(b+=""+this.renderPartial("all_categories",a),a.components&&a.components.length){var k=a.components;if(k)for(var d,l=-1,m=k.length-1;l<m;)d=k[l+=1],b+=""+d.render()}}"fr"===applicationState.user.userSetting.getSearchRegionCode().toLowerCase()&&(b+='<div class="home_shopping__legal">Les annonces sur cette page peuvent correspondre à des produits non soldés. Vérifiez sur le site du marchand.</div>')}return b+="</div></div>"},a.campaign_landing_page=function(a){var b=a.mediaOverlay.render()+'<div class="campaign_landing_page_header"><div class="campaign_landing_page_header--content"><img src="/img/campaign_landing_page/logo-qwant-colori';return BrowserHelper.isRetina()&&(b+="-x2"),b+='.png" alt="Qwant"/><h3 class="campaign_landing_page_header--title">'+a.data.header.title[a.lang]+'</h3><p class="campaign_landing_page_header--description">'+a.data.header.description[a.lang]+'</p><div class="campaign_landing_page_header--download">',!a.restParams||"1"!==a.restParams[2]&&"3"!==a.restParams[2]||(b+='<a href="/?client='+this.getCampaignClient()+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : 'landing_btn_header_try', component : 'landing_"+a.lang+"_"+a.restParams[2]+'\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" class="campaign_landing_page--button campaign_landing_page--button-pink">'+a.data.buttons.try[a.lang]+"</a>"),!a.restParams||"2"!==a.restParams[2]&&"3"!==a.restParams[2]||(b+="<div class=\"campaign_download_container\"><button onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : 'landing_btn_header_install', component : 'landing_"+a.lang+"_"+a.restParams[2]+'\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" id="'+actionManager.addClickListener(this,ExtensionHelper.openExtensionOverlay)+'" class="campaign_landing_page--button campaign_landing_page--button-pink download"><span class="icon icon-download-icon" aria-hidden="true"></span>'+a.data.buttons.install[a.lang]+"</button><small>"+a.data.buttons.description[a.lang]+"</small></div>"),b+='</div></div></div><div class="campaign_landing_page_array"><h3 class="campaign_landing_page_array--title">'+a.data.array.title[a.lang]+'</h3><p class="campaign_landing_page_array--description">'+a.data.array.description[a.lang]+'</p><div class="campaign_landing_page_array--array"><table><tr><th class="campaign_landing_page_array--array-head">'+a.data.array.head[0][a.lang]+'</th><th class="campaign_landing_page_array--array-img"><img src="/img/campaign_landing_page/logo-qwant-colori',BrowserHelper.isRetina()&&(b+="-x2"),b+='.png"/></th><th>'+a.data.array.head[1][a.lang]+'</th></tr><tr><td class="campaign_landing_page_array--array-item">'+a.data.array.rows[0][a.lang]+'</td><td class="campaign_landing_page_array--array-no">',"fr"===a.lang?b+="NON":b+="NO",b+='</td><td class="campaign_landing_page_array--array-yes">',"fr"===a.lang?b+="OUI":b+="SI",b+='</td></tr><tr><td class="campaign_landing_page_array--array-item">'+a.data.array.rows[1][a.lang]+'</td><td class="campaign_landing_page_array--array-no">',"fr"===a.lang?b+="NON":b+="NO",b+='</td><td class="campaign_landing_page_array--array-yes">',"fr"===a.lang?b+="OUI":b+="SI",b+='</td></tr><tr><td class="campaign_landing_page_array--array-item">'+a.data.array.rows[2][a.lang]+'</td><td class="campaign_landing_page_array--array-no">',"fr"===a.lang?b+="NON":b+="NO",b+='</td><td class="campaign_landing_page_array--array-yes">',"fr"===a.lang?b+="OUI":b+="SI",b+='</td></tr><tr><td class="campaign_landing_page_array--array-item">'+a.data.array.rows[3][a.lang]+'</td><td class="campaign_landing_page_array--array-no">',"fr"===a.lang?b+="NON":b+="NO",b+='</td><td class="campaign_landing_page_array--array-yes">',"fr"===a.lang?b+="OUI":b+="SI",b+='</td></tr><tr class="campaign_landing_page_array--thanks"><td><span><img src="/img/campaign_landing_page/thanks',BrowserHelper.isRetina()&&(b+="-x2"),b+='.jpg"></span></td></tr></table></div></div><div class="separator"><img src="/img/campaign_landing_page/separator',BrowserHelper.isRetina()&&(b+="-x2"),b+='.jpg" class="img-separator"></div><div class="campaign_landing_page_video"><div class="campaign_landing_page_video--overlay"><div id="'+actionManager.addClickListener(MediaOverlayComponent,MediaOverlayComponent.open,{media:a.data.video[a.lang]})+'" class="campaign_landing_page_video--overlay-open"><div class="circular-button--small"><span class="icon icon-video-large"></span></div></div></div><div class="campaign_landing_page_video--description"><h3>'+a.data.video[a.lang].title+"</h3><p>"+a.data.video[a.lang].description+'</p></div></div><div class="separator"><img src="/img/campaign_landing_page/separator',BrowserHelper.isRetina()&&(b+="-x2"),
b+='.jpg" class="img-separator"></div><div class="campaign_landing_page_download"><div class="campaign_landing_page_download--content"><div class="campaign_landing_page_download--text"><h3 class="campaign_landing_page_download--title">'+a.data.download.title[a.lang]+'</h3><p class="campaign_landing_page_download--description">'+a.data.download.description[a.lang]+'</p><div class="campaign_landing_page_download--download">',!a.restParams||"1"!==a.restParams[2]&&"3"!==a.restParams[2]||(b+='<a href="/?client='+this.getCampaignClient()+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : 'landing_btn_footer_try', component : 'landing_"+a.lang+"_"+a.restParams[2]+'\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" class="campaign_landing_page--button campaign_landing_page--button-blue">'+a.data.buttons.try[a.lang]+"</a>"),!a.restParams||"2"!==a.restParams[2]&&"3"!==a.restParams[2]||(b+="<div class=\"campaign_download_container\"><button onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone : 'landing_btn_footer_install', component : 'landing_"+a.lang+"_"+a.restParams[2]+'\', context: \'true\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" id="'+actionManager.addClickListener(this,ExtensionHelper.openExtensionOverlay)+'"  class="campaign_landing_page--button campaign_landing_page--button-blue download"><span class="icon icon-download-icon" aria-hidden="true"></span>'+a.data.buttons.install[a.lang]+"</button><small>"+a.data.buttons.description[a.lang]+"</small></div>"),b+='</div></div><div class="campaign_landing_page_download--img"><img src="/img/campaign_landing_page/illustration',BrowserHelper.isRetina()&&(b+="-x2"),b+='.png"/></div></div></div><div class="campaign_landing_page_footer"><div class="campaign_landing_page_footer--logo"><img src="/img/campaign_landing_page/logo-qwant-white',BrowserHelper.isRetina()&&(b+="-x2"),b+='.png" class="Logo_Qwant_White" /></div><div class="campaign_landing_page_footer--description">&copy; 2018 Qwant SAS. All Rights Reserved.</div></div>'},a.extensions=function(a){return'<div class="extension--about"><div class="extension__header"><div class="extension__header__content"><div class="extension__header__content__logo"></div><h1>'+a.header.title+'</h1><p class="extension__header__content__main-text">'+a.header.main_text+'</p><p class="extension__header__content__login">'+a.header.login_text+'<a class="extension__header__content__login__link" href="/login" '+SecurityHelper.targetBlank()+">"+a.header.login_link_text+'</a><span class="icon icon-selector"></span></p></div></div>'+this.renderPartial("firefox-qwant_firstrun_content",a)+"</div>"},a.feedback=function(a){for(var b='<div class="light__ext__alert"><div class="light__ext__alert__close icon icon-error" id="'+actionManager.addClickListener(this,this.closeAlertClickListener)+'"></div><div class="light__ext__alert__content"><div class="light__ext__alert__spaceship"></div><div class="light__ext__alert__button" id="'+actionManager.addClickListener(this,ExtensionHelper.openExtensionOverlay,{element:"button",type:"lite"})+'">'+_("Install Qwant Basic","extension_feedback")+'</div><div class="light__ext__alert__message"><h2 class="light__ext__alert__title">'+_("Good news!","extension_feedback")+'</h2><p class="light__ext__alert__text">'+_("You can now click here to install Qwant as a Search Engine in your browser <b>without replacing your homepage.</b>","extension_feedback")+'</p></div></div></div><form class="extension__feedback__survey__form" onsubmit="return false;"><div class="welcome_page__shapes"><img src="/img/welcome_page/shapes.svg"></div><div class="home__logo__container home__logo__container--default"><div class="home__logo" title="Qwant"></div></div><div class="white-overlay"><h2>'+_("We want to get better...","extension_feedback")+'</h2><div id="step-one" class="step-one"><h3>'+_("why do you uninstall Qwant's extension?","extension_feedback")+"</h3><p>"+_("(you can select several answers)","extension_feedback")+'</p><ul class="first">',c=0;c<a.answersCount;c++)b+="<li>",a.alertTriggerIndex===a.indexes[c]?b+='<input type="checkbox" id="feedback_'+c+'" value="'+a.answersKeys[a.indexes[c]]+'" class="no-homepage-checkbox" /><label id="'+actionManager.addClickListener(this,this.noHomepageClickListener)+'" class="no-select no-homepage" for="feedback_'+c+'">'+a.answersLabels[a.indexes[c]]+"</label>":b+='<input type="checkbox" id="feedback_'+c+'" value="'+a.answersKeys[a.indexes[c]]+'" /><label class="no-select" for="feedback_'+c+'">'+a.answersLabels[a.indexes[c]]+"</label>",b+="</li>";return b+='<li><input type="checkbox" id="other" value="" /><label id="'+actionManager.addClickListener(this,this.otherClickListener)+'" class="no-select other-label" for="other">'+_("Other<br />reason","extension_feedback")+'</label></li></ul><ul class="last"></ul><div><input class="submit-step-one" id="'+actionManager.addClickListener(this,this.submitFeedback)+'" type="button" value="'+_("Submit","extension_feedback")+'" /></div></div><div id="step-two" class="step-two"><h3>'+_("Any thing you want to add? Your feedback will be very helpful.","extension_feedback")+"</h3>"+this.feedbackModel.textArea("feedback_other",{placeholder:_("Message","extension_feedback"),maxLength:255})+'<div><input id="'+actionManager.addClickListener(this,this.submitFeedback)+'" type="button" value="'+_("Submit","extension_feedback")+'" /></div></div></div></form>'},a["tracking-protection"]=function(a){var b='<div class="tp__header"><a href="'+this.lastPage+'" class="tp__header__qwant">'+_("for Firefox","extension-page")+'</a><span class="tp__header__shield">'+_("Easy Tracking Protection","extension-page")+'</span></div><div class="extension__content">',c=a.content;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div class="extension__content__block extension__content__block extension__content__block--'+d.align+" extension__content__block--"+d.class+'"><h2>'+d.title+"</h2><p>"+d.text+"</p></div>";return b+="</div>"},a.extension_thanks=function(a){var b=new SearchBarComponent({autoFocus:!0}).render()+'<div class="ext_thanks__header';1===applicationState.user.userSetting.selectedTheme&&(b+=" ext_thanks__header-dark"),b+='"><h1>'+_("Installation completed successfully!","ext_thanks")+"</h1><p>"+_("Thank you for choosing Qwant for your browser, you won’t regret it. With the Qwant extension, all of the web is accessible on one single page!","ext_thanks")+'</p></div><div class="ext_thanks__content">';var c=a.elements;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div class="ext_thanks__element"><img src="/img/extensions/icon-'+d.picture,1===applicationState.user.userSetting.selectedTheme&&(b+="-dark"),b+='.svg" /><h2>'+d.title+"</h2><p>"+d.content+"</p></div>";return b+="</div>"},a._f4q_dl_form=function(a){var b='<span class="f4q_download-others__download__text">'+_("Choose your <b>language</b> and your <b>operating system</b>, then click on the download button.","firefox_for_qwant")+'</span><div class="f4q_download-others__version-container">';return a.data.languageDropdown&&(b+='<div class="f4q_download-others__version"><div class="f4q_download-others__version__text">'+_("Language","firefox_for_qwant")+'</div><div class="f4q_download-others__dropdown">'+new DropDownComponent(a.data.languageDropdown,{placeholder:this.getLanguage(a.currentLanguage),key:a.currentLanguage,value:a.currentLanguage,callback:this.updateCurrentLanguage,component:this}).render()+"</div></div>"),b+=" ",a.data.osDropdown&&(b+='<div class="f4q_download-others__version"><div class="f4q_download-others__version__text">'+_("Operating System","firefox_for_qwant")+'</div><div class="f4q_download-others__dropdown">'+new DropDownComponent(a.data.osDropdown,{placeholder:a.currentOs,key:a.currentOs,value:a.currentOs,callback:this.updateCurrentOs,component:this}).render()+"</div></div>"),b+="</div>",a.downloadUrl&&(b+='<a class="button" href="https://downloads.qwant.com/firefoxforqwant/'+a.downloadUrl+'"><span class="icon icon-download-icon"></span> '+_("Download","firefox_for_qwant")+"</a>"),b},a._f4q_dl_header=function(a){var b='<div class="f4q__header"><a href="'+this.lastPage+'" class="tp__header__qwant"></a><div class="f4q__header__container"><span class="f4q__header__firefox"></span><span class="icon icon-board-create-large f4q__header__icon-plus"></span><span class="f4q__header__qwant"></span><h1 class="f4q__header__title">'+_("Download Firefox for Qwant","firefox_for_qwant")+"</h1>";return"esr"===a.dlVersion&&(b+='<h2 class="f4q__header__subtitle">'+_("ESR release","firefox_for_qwant")+"</h2>"),b+="</div></div>"},a["_firefox-qwant_firstrun_content"]=function(a){var b="";a.jumbotron&&(b+='<div class="extension__jumbotron"><div class="extension__jumbotron__img"></div><p>'+a.jumbotron.text+"</p>",!1!==a.jumbotron.link&&ExtensionHelper.isntFirefoxQuantum()&&(b+='<a href="javascript:;" class="button extension__button"id="open-extension-btn"><span class="icon icon-qwant-logo"></span>'+_("Open the extension","extension-page")+"</a>"),b+="</div>"),b+='<div class="extension__content">';var c=a.content;if(c)for(var d,e=-1,f=c.length-1;e<f;)d=c[e+=1],b+='<div class="extension__content__block extension__content__block extension__content__block--'+d.align+" extension__content__block--"+d.class+'"><h2>'+d.title+"</h2><p>"+d.text+"</p>",d.button&&(b+='<a class="button extension__button f4q__button" ',!0===d.button.spa?b+='href="javascript:;" id="'+actionManager.addClickListener(this,this.openLink,{link:d.button.link})+'"':b+='href="'+d.button.link+'"',b+='">'+d.button.text+"</a>"),b+="</div>";return b+="</div>"},a.f4q_download=function(a){var b='<div class="f4q__header"><a href="/" class="tp__header__qwant"></a><div class="f4q__header__container"><span class="f4q__header__firefox"></span><span class="icon icon-board-create-large f4q__header__icon-plus"></span><span class="f4q__header__qwant"></span><h1 class="f4q__header__title">'+_("Download Firefox for Qwant","firefox_for_qwant")+'</h1><h2 class="f4q__header__subtitle">'+_("on {os}","firefox_for_qwant",{os:a.download.name})+' </h2><div class="f4q__header__buttons">';return"macos"===a.download.os?(b+='<a class="button f4q__download-link f4q__download-link-big" href="https://downloads.qwant.com/firefoxforqwant/',a.download.links&&(b+=""+a.download.links[0]),b+='"><strong class="f4q__download-link__title"><span class="icon icon-apple"></span>'+_("Download","firefox_for_qwant")+"</strong></a>"):a.download.is64?(b+='<a class="button f4q__download-link" href="https://downloads.qwant.com/firefoxforqwant/',a.download.links&&(b+=""+a.download.links[1]),b+='"><strong class="f4q__download-link__title"><span class="icon icon-download-icon"></span>'+_("64-bit Version","firefox_for_qwant")+"</strong></a>"):(b+='<a class="button f4q__download-link" href="https://downloads.qwant.com/firefoxforqwant/',a.download.links&&(b+=""+a.download.links[0]),b+='"><strong class="f4q__download-link__title"><span class="icon icon-download-icon"></span>'+_("32-bit Version","firefox_for_qwant")+"</strong></a>"),b+='<a class="f4q__download-others" href="/firefoxqwant/download/others?referer=F4Q"><span class="icon  icon-nav-selector-icon-2"></span><p>'+_("See all versions","firefox_for_qwant")+'</p></a></div><br><div class="f4q__header__desc"><p class="f4q__header__text">'+_("This version of Firefox uses Qwant as the default search engine and makes it easy to activate Firefox tracking protection features.","firefox_for_qwant")+'</p><p class="f4q__header__text f4q__header__text--sources">'+_("See the sources:","firefox_for_qwant")+" <a "+SecurityHelper.targetBlank()+' href="https://github.com/mozilla/gecko-dev">'+_("Firefox project","firefox_for_qwant")+"</a> & <a "+SecurityHelper.targetBlank()+' href="https://github.com/Qwant/WebExtension">'+_("Qwant WebExtension","firefox_for_qwant")+"</a></p></div></div></div>"+this.renderPartial("firefox-qwant_firstrun_content",a)},a.f4q_download_esr=function(a){var b="";return a.dlVersion="esr",b+=this.renderPartial("f4q_dl_header",a)+'<div class="f4q_download-others__content"><span class="f4q_download-others__jumbotron"><span class="f4q_download-others__jumbotron__title">'+_("What is Mozilla Firefox ESR?","firefox_for_qwant")+'</span><span class="f4q_download-others__jumbotron__text">'+_('Mozilla Firefox ESR is meant for organizations that manage their client desktops, including schools, businesses and other institutions that want to offer Firefox.<br><br>Users who want to get the latest features, performance enhancements and technologies in their browsing experience should download Firefox for <a href="/firefoxqwant/download">personal use</a>, as these improvements will only be available to ESR users several development cycles after being made available in Firefox for desktop.',"firefox_for_qwant")+"</span></span>"+this.renderPartial("f4q_dl_form",a)+"</div>"},a.f4q_download_mobile=function(a){var b='<div class="f4q__header"><a href="/" class="tp__header__qwant_container"><i class="icon icon-home"></i><p class="tp__header--back_home">'+_("Home","firefox_for_qwant")+'</p></a><div class="f4q__header__container"><span class="f4q__header__firefox mobile_header_icon"></span><span class="icon icon-board-create-large f4q__header__icon-plus"></span><span class="f4q__header__qwant mobile_header_icon"></span><h1 class="f4q__header__title">'+_("Download Firefox for Qwant","firefox_for_qwant")+'</h1><h2 class="f4q__header__subtitle">'+_("on {os}","firefox_for_qwant",{os:a.download.name})+' </h2></div></div><div class="f4q__sub-header">'+_("<h2>Protect yourself against tracking</h2><p>& preserve your personal data</p>","application-page")+'</div><div class="f4q__mobile-content" >',c=a.content.steps;if(c)for(var d,e=-1,f=c.length-1;e<f;){d=c[e+=1],d.title&&(b+='<h3 class="f4q_step_title"><span class="f4q_step_puce"> '+(e+1)+". </span>"+d.title+"</h3>"),d.image&&d.image.link?b+='<a class="f4q__mobile__image_link" href="'+d.image.link+'"><image src="'+d.image.src+'" class="f4q__mobile--step_image"></a>':d.image&&d.image.src&&(b+='<div class="f4q__mobile--step_image--container"><image src="'+d.image.src+'" class="f4q__mobile--step_image"></div>');var g=d.paragraphs;if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],b+='<p class="f4q__mobile--step_paragraph">'+h+"</p>"}return b+="</div>"},a.f4q_download_others=function(a){var b="";return a.dlVersion="others",b+=this.renderPartial("f4q_dl_header",a)+'<div class="f4q_download-others__content">'+this.renderPartial("f4q_dl_form",a)+'<span class="f4q_download-others__content__esr_link">'+_('Or find ESR version <a href="/firefoxqwant/download/esr">here</a>',"firefox_for_qwant")+"</span></div>"},a.f4q_firstrun=function(a){var b='<div class="f4q__header"><div class="f4q__header__container"><span class="f4q__header__firefox f4q__header__firefox-clean"></span><span class="icon icon-board-create-large f4q__header__icon-plus"></span><span class="f4q__header__qwant f4q__header__qwant-clean"></span><h1 class="f4q__header__title">'+_("Firefox for Qwant","firefox_for_qwant")+'</h1><div class="f4q__header__left"><h3 class="f4q__header__subtitle">'+_("Almost Done!","firefox_for_qwant")+'</h3><div class="f4q__header__enable__tp"><span class="toggle-switch"><input class="f4q__switch__input" type="checkbox" ';return a.tpSwitch&&(b+="checked"),b+='><label id="'+actionManager.addClickListener(this,this.toggleTrackingProtection)+'" for="'+a.tpSwitch+'" title="'+(a.tpSwitch?_("Enabled","switch"):_("Disabled","switch"))+'"></label></span><span class="f4q__header__switch__container f4q__header__switch__container--text"><p class="f4q__header__text">',!0===a.tpSwitch?b+=""+a.tpSwitchEnabled:b+=""+a.tpSwitchDisabled,b+='</p></span></div><p class="f4q__header__text">'+_("Turn on <b>Firefox Tracking Protection</b> and <b>Do Not Track</b> features to browse the Web with better privacy.","firefox_for_qwant")+'</p><div class="f4q__header__tp__container"  id="'+actionManager.addClickListener(this,this.displayTPTutorial)+'"><span class="f4q__header__tp__close icon icon-close-icon-2" id="'+actionManager.addClickListener(this,this.hideTPTutorial)+'"></span><div class="f4q__header__tp"><img src="/img/firefoxqwant/tracking_protection.gif"/></div></div></div><div class="f4q__header__right"><h2 class="f4q__header__subtitle">'+_("Congratulations!","firefox_for_qwant")+'</h2><p class="f4q__header__text">'+_("Thank you for installing Firefox for Qwant. This version of Firefox uses Qwant as the default search engine and makes it easy to activate Firefox Tracking Protection features.<br><br>In addition, by using <b>Qwant Boards</b> and <b>Favorites</b>, you can now keep track of all your preferred content and organize your favorite websites.","firefox_for_qwant")+"</p></div></div></div>"+this.renderPartial("firefox-qwant_firstrun_content",a)},a.landing_page=function(a){var b='<div class="home__logo__container home__logo__container--default"><div class="home__logo" title="Qwant"></div></div>'+new SearchBarComponent({autofocus:!0}).render();return"DE"===this.version?b+='<div class="landing_page__intro landing_page__intro--DE"><div class="landing_page__intro__description"><h2>Entdecke das Web mit uns neu!</h2><p>Hallo, wir sind das Team von Qwant und helfen dir dabei, das Web neu zu entdecken. Ja, auch Qwant ist eine <b>Suchmaschine</b>, gleichzeitig aber sind wir noch viel mehr: Wir sind europäisch. Wir sind <b>neutral</b>. Wir sind voller Inspiration. Und wir <b>respektieren deine Privatsphäre</b>.</p><p>Im Gegensatz zu vielen anderen Suchmaschinen wurde Qwant ausdrücklich dafür geschaffen, seine Nutzer nicht zu verfolgen. Füge Qwant deshalb als <b>Standard-Suchmaschine</b> und <b>Startseite</b> deines Browsers hinzu und lade das entsprechende <b>Add-on herunter</b>. Wähle Qwant für deinen Browser, um deine <b>Privatsphäre im Web</b> zu schützen!</p><div class="landing_page__intro__button--container"><div id="'+actionManager.addClickListener(this,this.openExtensionOverlay,{position:1})+'" class="landing_page__button button button--blue">Qwant installieren</div></div><p>Natürlich kannst du <b>Qwant auch mobil nutzen</b>. Was dafür zu tun ist erfährst du hier: <a href="https://help.qwant.com/de/help/qwant-mobile/" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: 'all', type: 'landing_page_qwant_mobile'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\">https://help.qwant.com/de/help/qwant-mobile</a></p></div></div>":b+='<div class="landing_page__intro"><div class="landing_page__intro__img--container"><img class="landing_page__intro__img" src="/img/landing_page/firefox-qwant.jpg" /></div><div class="landing_page__intro__description landing_page__intro__description--firefox"><h2>Entdecke das Web mit uns neu!</h2><p>Hallo, wir sind das Team von Qwant und helfen dir dabei, das Web neu zu entdecken. Ja, auch Qwant ist eine <b>Suchmaschine</b>, gleichzeitig aber sind wir noch viel mehr: Wir sind europäisch. Wir sind <b>neutral</b>. Wir sind voller Inspiration. Und wir <b>respektieren deine Privatsphäre</b>. </p><p>Im Gegensatz zu vielen anderen Suchmaschinen wurde Qwant ausdrücklich dafür geschaffen, seine Nutzer nicht zu verfolgen. Mit <b>Firefox für Qwant</b> erweitern User diese Funktion ganz einfach für das gesamte Web. Qwant hält sich übrigens auch strikt an die <b>Neutralitätsregeln für Suchergebnisse</b> – sie sind unbeeinflusst und damit für alle gleich.</p><p>Die Tatsache dass wir unsere Suchmaschine für das Browsing in Firefox optimiert haben unterstreicht unser Engagement für <b>eine bessere Privatsphäre</b> im gesamten Web. Und sie hilft dabei, mit allen Beteiligten einen respektvollen und aufrichtigen Umgang zu pflegen. Firefox für Qwant ist ab sofort für Windows, OSB und Linux verfügbar und hier zu finden:</p></div></div><a href="firefoxqwant/download" class="landing_page__button button button--blue button--icon" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', position: 1, type: \'landing_page_firefox_download\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-download-icon"></span>Firefox für Qwant</a>',b+='<div class="landing_page__block landing_page__definition',"firefox"===this.version&&(b+=" landing_page__definition--firefox"),b+='"><h2>Wir leben vier Ideen für einen <br/> neuen Blick auf das Internet</h2><div class="landing_page__definition__steps"><div class="landing_page__definition__step"><img class="landing_page__definition__step__img" src="/img/landing_page/ico1-l1.png" /><h3>1. Privatsphäre steht an erster Stelle</h3><p>Unsere Datenschutzrichtlinien sind einfach zu erklären: Wir speichern deine Suchhistorie nicht, sammeln keine persönlichen Informationen über dich, und speichern, teilen oder verkaufen KEINE persönlichen Daten von dir an Werbetreibende. <a href="https://about.qwant.com/de/rechtlich/datenschutzrichtlinie/#help_details" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'landing_page_privacy\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)">Mehr zu unseren Privatsphäre-Prinzipien findest du <u>hier</u></a>.</p></div><div class="landing_page__definition__step"><img class="landing_page__definition__step__img" src="/img/landing_page/ico2-l1.png" /><h3>2. Unsere Suchergebnisse auf deine Eingaben sind neutral und objektiv</h3><p>Wir verstecken Informationen nicht und heben sie auch nicht hervor, weder aus politischen noch aus moralischen oder kommerziellen Gründen. Alle Suchergebnisse sind deshalb für dich und andere User gleich und werden nicht individuell anders gelistet.</p></div><div class="landing_page__definition__step"><img class="landing_page__definition__step__img" src="/img/landing_page/ico3-l1.png" /><h3>3. Wir liefern einen Panoramablick auf das Internet</h3><p>Für deine Suchanfragen sammeln wir alle möglichen und verfügbaren Informationen aus allen möglichen Quellen und zeigen dir die Ergebnisse kompakt auf einer einzelnen Seite an.</p></div><div class="landing_page__definition__step"><img class="landing_page__definition__step__img" src="/img/landing_page/ico4-l1.png" /><h3>4. Wir sind Europa</h3><p>Wir unterstützen Europa und die Entwicklung der Digitalwirtschaft innerhalb der Europäischen Union. Dazu zählen strenge Datenschutzrichtlinien, europäische Standards und ein eigener Such-Index, der nicht von anderen Quellen beeinflusst wird. Oh, und übrigens: Wir zahlen unsere Steuern in Europa.</p></div></div>',"DE"===this.version?b+='<div id="'+actionManager.addClickListener(this,this.openExtensionOverlay,{position:2})+'" class="landing_page__button button button--blue">Qwant installieren</div>':b+='<a href="firefoxqwant/download" class="landing_page__button button button--blue button--icon" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', position: 2, type: \'landing_page_firefox_download\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-download-icon"></span>Firefox für Qwant</a>',b+='</div><div class="landing_page__block landing_page__outro"><h2>Wir sind für dich die etwas andere Suchmaschine</h2><div class="landing_page__definition__steps"><div class="landing_page__definition__step"><img class="landing_page__definition__step__img" src="/img/landing_page/ico1-l2.png" /><h3>Mit uns bist du schnell</h3><p>Wir haben eine eigene Indizierungstechnologie entwickelt, durch die deine Suche effizienter und transparenter wird.</p></div><div class="landing_page__definition__step"><img class="landing_page__definition__step__img" src="/img/landing_page/ico2-l2.png" /><h3>Mit uns bist du sicher</h3><p>Wir schützen und verschlüsseln deine persönlichen Daten und erstellen KEINE Nutzerprofile.</p></div><div class="landing_page__definition__step"><img class="landing_page__definition__step__img" src="/img/landing_page/ico3-l2.png" /><h3>Mit uns bist du anonym</h3><p>Wir respektieren deine Privatsphäre und speichern KEINE persönlichen Einstellungen und Informationen von dir.</p></div><div class="landing_page__definition__step"><img class="landing_page__definition__step__img" src="/img/landing_page/ico4-l2.png" /><h3>Mit uns bist du selbstbestimmt</h3><p>Wir zeigen dir alle Suchergebnisse, die wir finden können, und zwar wertfrei. Entdecke das Web selbst.</p></div></div>',"DE"===this.version?b+='<div id="'+actionManager.addClickListener(this,this.openExtensionOverlay,{position:3})+'" class="landing_page__button button button--blue">Qwant installieren</div>':b+='<a href="firefoxqwant/download" class="landing_page__button button button--blue button--icon" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', position: 3, type: \'landing_page_firefox_download\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-download-icon"></span>Firefox für Qwant</a>',b+='</div><div class="landing_page__no-tracking"><h2>Kein Tracking. Keine Cookies. Keine individualisierte Werbung.</h2><p class="landing_page__no-tracking__description"> Behalte die Kontrolle über deine privaten Daten und installiere Qwant als Standard-Suchmaschine. <br/> Bleib flexibel und individuell und hilf uns, das Web der Zukunft aktiv zu gestalten. </p></div><div class="landing_page__footer">Natürlich findest du uns auch in den sozialen Netzwerken. Werde Teil unserer Community, besuche uns auf <a href="https://www.facebook.com/QwantDE/" class="landing_page__footer__social landing_page__footer--facebook" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'landing_page_facebook\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-facebook"></span> Facebook</a> und folge uns auf <a href="https://twitter.com/qwant_de" class="landing_page__footer__social landing_page__footer--twitter" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'landing_page_twitter\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-twitter"></span>Twitter</a>.</div>'},a.liberty_popup=function(a){var b='<div class="qwant-oldapp__popup"><div class="qwant-oldapp__popup-offset--height"></div><div class="qwant-oldapp__popup-container"><div class="qwant-oldapp__popup-step" id="qwant-oldapp__popup-step0"><img src="/img/liberty/unplugged.svg" class="qwant-oldapp__popup-img"/><h2 class="qwant-oldapp__popup-title">'+_("Your version of Qwant Mobile is out of date !","popupLiberty")+'</h2><p class="qwant-oldapp__popup-text">'+_("Following an important update, this version will soon be obsolete.","popupLiberty")+'</p><p class="qwant-oldapp__popup-text">'+_("You can continue to enjoy Qwant Mobile in two easy steps.","popupLiberty")+'</p><div class="qwant-oldapp__popup-btn-container"><a href="javascript:;" id="'+actionManager.addClickListener(this,this.selectStep,{index:1})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'libertyPopup', element: 'step_0_next'})\" class=\"qwant-oldapp__popup-btn qwant-oldapp__popup-btn--blue\"><span class=\"qwant-oldapp__popup-btn--span\">"+_("I'm updating","popupLiberty")+'</span></a><a href="javascript:;" id="'+actionManager.addClickListener(this,this.selectStep,{index:3})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'libertyPopup', element: 'step_0_cancel'})\" class=\"qwant-oldapp__popup-btn\"><span class=\"qwant-oldapp__popup-btn--span\">"+_("No thanks","popupLiberty")+'</span></a></div></div><div class="qwant-oldapp__popup-step" id="qwant-oldapp__popup-step1"><div class="qwant-oldapp__popup-step-header"><h3>'+_("Step 1/2","popupLiberty")+"</h3><p>"+_('In the Play Store, press <b>"Uninstall"</b>, then confirm.',"popupLiberty")+'</p></div><img src="/img/liberty/';return-1!==["fr","de","it"].indexOf(applicationState.user.userSetting.getInterfaceLanguage().shorthand)?b+=""+applicationState.user.userSetting.getInterfaceLanguage().shorthand:b+="en",b+='_UNINSTALL@2x.png" class="qwant-oldapp__popup-step-img"/><div class="qwant-oldapp__popup-btn-container"><a href="javascript:;" id="'+actionManager.addClickListener(this,this.selectStep,{index:2})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'libertyPopup', element: 'step_1_next'})\" class=\"qwant-oldapp__popup-btn qwant-oldapp__popup-btn--blue\"><span class=\"qwant-oldapp__popup-btn--span\">"+_("Next step","popupLiberty")+'</span></a><a href="javascript:;" id="'+actionManager.addClickListener(this,this.selectStep,{index:3})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'libertyPopup', element: 'step_1_cancel'})\" class=\"qwant-oldapp__popup-btn\"><span class=\"qwant-oldapp__popup-btn--span\">"+_("I will do it later","popupLiberty")+'</span></a></div></div><div class="qwant-oldapp__popup-step" id="qwant-oldapp__popup-step2"><div class="qwant-oldapp__popup-step-header"><h3>'+_("Step 2/2","popupLiberty")+"</h3><p>"+_('Just press "<b>Install</b>"! Simple, isn\'t it?',"popupLiberty")+'</p></div><img src="/img/liberty/',-1!==["fr","de","it"].indexOf(applicationState.user.userSetting.getInterfaceLanguage().shorthand)?b+=""+applicationState.user.userSetting.getInterfaceLanguage().shorthand:b+="en",b+='_INSTALL@2x.png" class="qwant-oldapp__popup-step-img"/><div class="qwant-oldapp__popup-btn-container"><a href="https://play.google.com/store/apps/details?id=com.qwant.liberty" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event: \'click\', zone: \'libertyPopup\', element: \'step_2_redirect\'})" class="qwant-oldapp__popup-btn qwant-oldapp__popup-btn--blue"><span class="qwant-oldapp__popup-btn--span">'+_("I get it, take me to the Play Store.","popupLiberty")+'</span></a><a href="javascript:;" id="'+actionManager.addClickListener(this,this.selectStep,{index:3})+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'libertyPopup', element: 'step_2_cancel'})\" class=\"qwant-oldapp__popup-btn\"><span class=\"qwant-oldapp__popup-btn--span\">"+_("I will do it later","popupLiberty")+'</span></a></div></div><div class="qwant-oldapp__popup-step" id="qwant-oldapp__popup-step3"><h2 class="qwant-oldapp__popup-title">'+_("Do you want to be reminded to update?","popupLiberty")+'</h2><p class="qwant-oldapp__popup-text">'+_("This version of Qwant Mobile will soon be discontinued.","popupLiberty")+'</p><div class="qwant-oldapp__popup-choices"><span class="qwant-oldapp__popup-choice qwant-oldapp__popup-choice--active" id="'+actionManager.addClickListener(this,this.selectDelay,{delay:0})+'">'+_("Tomorrow","popupLiberty")+'</span><span class="qwant-oldapp__popup-choice" id="'+actionManager.addClickListener(this,this.selectDelay,{delay:1})+'">'+_("7 days","popupLiberty")+'</span><span class="qwant-oldapp__popup-choice" id="'+actionManager.addClickListener(this,this.selectDelay,{delay:2})+'">'+_("1 month","popupLiberty")+'</span><span class="qwant-oldapp__popup-choice" id="'+actionManager.addClickListener(this,this.selectDelay,{delay:3
})+'">'+_("Never","popupLiberty")+'</span></div><div class="qwant-oldapp__popup-btn-container"><a href="javascript:;" id="'+actionManager.addClickListener(this,this.popupDelay)+'" class="qwant-oldapp__popup-btn qwant-oldapp__popup-btn--blue"><span class="qwant-oldapp__popup-btn--span">'+_("Confirm","popupLiberty")+'</span></a></div></div><div class="qwant-oldapp__popup-step" id="qwant-oldapp__popup-step4"><img src="/img/liberty/check-circle.svg" class="qwant-oldapp__popup-img"/><h2 class="qwant-oldapp__popup-title">'+_("We got it!","popupLiberty")+'</h2><p class="qwant-oldapp__popup-text" id="qwant-oldapp__popup-delayString">'+this.getDelay()+'</p><div class="qwant-oldapp__popup-btn-container"><a href="javascript:;" id="'+actionManager.addClickListener(this,AppComponent.hidePopupLibertyApp)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'libertyPopup', element: 'step_4_done'})\" class=\"qwant-oldapp__popup-btn qwant-oldapp__popup-btn--blue\"><span class=\"qwant-oldapp__popup-btn--span\">"+_("Close this window","popupLiberty")+"</span></a></div></div></div></div>"},a.livestream_page=function(a){var b='<div class="livestream--container';return"fr_fr"===applicationState.user.userSetting.getInterfaceLanguageCode()&&(b+=" livestream--fr"),b+='" id="rmp-player_container"><div class="rmp-container" id="rmp-player"><div class="rmp-content"><video class="rmp-video" playsinline></video></div></div></div><div id="kmv_main"></div>'},a.switch_to_qwant=function(a){return'<div class="switch_to_qwant__header"><div class="switch_to_qwant__header--banner_up"></div><div class="switch_to_qwant__header--banner_down"></div><img class="switch_to_qwant__header--title" src="/img/switch_to_qwant/switch_flat.svg" alt="Switch to Qwant"/><h3 class="switch_to_qwant__header--subtitle">'+_("Qwant is the only European search engine that guarantees privacy and the confidentiality of the search of your company and its employees.","switch_to_qwant")+'</h3></div><div class="switch_to_qwant__video"><video controls autoplay poster="/img/switch_to_qwant/poster.jpg"><source src="https://f.qwant.com/communication/qwant-got.mp4" type="video/mp4"><source src="https://f.qwant.com/communication/qwant-got.ogv" type="video/ogg"><source src="https://f.qwant.com/communication/qwant-got.webm" type="video/webm">Your browser does not support the video tag.</video></div><div class="switch_to_qwant__content"><h2 class="switch_to_qwant__content--offers">'+_("Our offers","switch_to_qwant")+'</h2><div class="switch_to_qwant__content--item"><div class="switch_to_qwant__content--logo mobile"><img src="/img/switch_to_qwant/switch.svg" alt="Switch to Qwant"/></div><div class="switch_to_qwant__content--text"><h2 class="switch_to_qwant__content--title">#SWITCHTOQWANT</h2><div class="switch_to_qwant__content--desc"><ul><li>'+_("Install Qwant on your company's computers","switch_to_qwant")+"</li><li>"+_("Respect for the privacy of your employees","switch_to_qwant")+"</li><li>"+_("Secures the research environment","switch_to_qwant")+"</li><li>"+_("Confidentiality of research and neutrality of results","switch_to_qwant")+"</li><li>"+_("Prevents risks of data leaks","switch_to_qwant")+"</li><li>"+_("Contributes to an ethical approach","switch_to_qwant")+'</li></ul></div></div><div class="switch_to_qwant__content--logo desktop"><img src="/img/switch_to_qwant/switch.svg" alt="Switch to Qwant"/></div></div><div class="switch_to_qwant__content--item"><div class="switch_to_qwant__content--logo"><img src="/img/switch_to_qwant/api.svg" alt="API Site search"/></div><div class="switch_to_qwant__content--text"><h2 class="switch_to_qwant__content--title">'+_("Search API","switch_to_qwant")+'</h2><div class="switch_to_qwant__content--desc">'+_("Integrate the Qwant engine within your site to search the web, among the public pages of one or more sites, and get the best answers in privacy mode.","switch_to_qwant")+'</div></div></div><div class="switch_to_qwant__content--item"><div class="switch_to_qwant__content--logo mobile"><img src="/img/switch_to_qwant/formation.svg" alt="Formation"/></div><div class="switch_to_qwant__content--text"><h2 class="switch_to_qwant__content--title">'+_("Training","switch_to_qwant")+'</h2><div class="switch_to_qwant__content--desc">'+_("Understand and anticipate privacy and data leak issues.","switch_to_qwant")+'</div><div class="switch_to_qwant__content--desc"><ul><li>'+_("Take back control of your data","switch_to_qwant")+"</li><li>"+_("Understand the issues of respecting privacy","switch_to_qwant")+"</li><li>"+_("Prevent the risk of data leaks","switch_to_qwant")+"</li><li>"+_("Promote best practices","switch_to_qwant")+'</li></ul></div></div><div class="switch_to_qwant__content--logo desktop"><img src="/img/switch_to_qwant/formation.svg" alt="Formation"/></div></div><div class="switch_to_qwant__content--item"><div class="switch_to_qwant__content--logo"><img src="/img/switch_to_qwant/ads.svg" alt="Qwant Ads"/></div><div class="switch_to_qwant__content--text"><h2 class="switch_to_qwant__content--title">'+_("Advertising","switch_to_qwant")+'</h2><div class="switch_to_qwant__content--desc">'+_("Carry out custom advertising campaigns on ethical and premium media.","switch_to_qwant")+'</div><div class="switch_to_qwant__content--desc"><ul><li>'+_("Use our different advertising systems on Qwant.com and Qwant Maps","switch_to_qwant")+"</li><li>"+_("Protect your brand's reputation with Brand Premium","switch_to_qwant")+"</li><li>"+_("Develop your reputation with our Instant Answers","switch_to_qwant")+'</li></ul></div></div></div><div class="switch_to_qwant__form--container"><form class="switch_to_qwant__form" id="'+actionManager.addSubmitListener(this,this.send)+'"><h3 class="switch_to_qwant__form--title">'+_("Contact us!","switch_to_qwant")+'</h3><h2 class="switch_to_qwant__form--subtitle">'+_("Tell us what interests you and our teams will set up a meeting and support.","switch_to_qwant")+'</h2><div class="switch_to_qwant__form--checkboxes"><div class="switch_to_qwant__form--checkbox-item"><div class="settings__form__option__checkbox--container"><label for="#SwitchToQwant"></label><input type="checkbox" id="#SwitchToQwant" name="interested_in[]" aria-label="#SwitchToQwant"><span class="account_overlay__checkmark"></span></div><label class="switch_to_qwant__form--checkbox-label" for="#SwitchToQwant">#SwitchToQwant</label></div><div class="switch_to_qwant__form--checkbox-item"><div class="settings__form__option__checkbox--container"><label for="API Site Search"></label><input type="checkbox" id="API Site Search" name="interested_in[]" aria-label="API Site Search"><span class="account_overlay__checkmark"></span></div><label class="switch_to_qwant__form--checkbox-label" for="API Site Search">Search API</label></div><div class="switch_to_qwant__form--checkbox-item"><div class="settings__form__option__checkbox--container"><label for="Formation"></label><input type="checkbox" id="Formation" name="interested_in[]" aria-label="Formation"><span class="account_overlay__checkmark"></span></div><label class="switch_to_qwant__form--checkbox-label" for="Formation">Training</label></div><div class="switch_to_qwant__form--checkbox-item"><div class="settings__form__option__checkbox--container"><label for="Qwant Ads"></label><input type="checkbox" id="Qwant Ads" name="interested_in[]" aria-label="Qwant Ads"><span class="account_overlay__checkmark"></span></div><label class="switch_to_qwant__form--checkbox-label" for="Qwant Ads">Advertising</label></div></div><div class="switch_to_qwant__form--text-item"><label for="name">'+_("Your name","switch_to_qwant")+'</label><input type="text" id="name" aria-label="'+_("Your name","switch_to_qwant")+'" placeholder="Julien Dupont" maxLength="32" required></div><div class="switch_to_qwant__form--text-item"><label for="email">'+_("Your email","switch_to_qwant")+'</label><input type="email" id="email" aria-label="'+_("Your email","switch_to_qwant")+'" placeholder="julien.dupont@mail.com" maxLength="64" required></div><div class="switch_to_qwant__form--text-item"><label for="company">'+_("Company / Administration / Association","switch_to_qwant")+'</label><input type="text" id="company" aria-label="'+_("Company","switch_to_qwant")+'" placeholder="'+_("Site visit","switch_to_qwant")+'" maxLength="128" required></div><input class="button button--white" id="switch_to_qwant__submit" type="submit" value="'+_("Send","form")+'" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'userInteraction\', event:\'click\', zone: \'confirm\', component : \'form\', context: \'switch-to-qwant\', t:\'default\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)" aria-label="switch_to_qwant_submit"><div class="switch_to_qwant__form--validated" id="form_valid">'+_("Successfully sent email!","switch_to_qwant")+'</div><div class="switch_to_qwant__form--disclaimer"><span>'+_('The data collected from this form is intended exclusively for Qwant employees in charge of institutional or commercial relations, in order to allow them to get in touch with you. They will be retained for a maximum of one year after their receipt. In accordance with Regulation (EU) 2016/679 on the Protection of Data known as "GDRP" and the applicable laws, you have a right to access, rectification, erasure and portability of the data communicated (name, email address), a right to the limitation of their processing, the right to withdraw your consent (link in the body of the e-mail addressed to you), the right to file a complaint before a data protection authority. You may exercise these rights by contacting our Data Protection Officer at privacy@qwant.com, in accordance with our <a href="{link}" {target}>{text}</a>.',"switch_to_qwant",{link:_("https://about.qwant.com/legal/privacy/","result"),target:SecurityHelper.targetBlank(),text:_("Privacy Policy","switch_to_qwant")})+'</span></div></form><div class="switch_to_qwant__share"><button class="button button--blue" id='+actionManager.addClickListener(this,this.openPopup)+">"+_("share this page","switch_to_qwant")+"</button></div></div></div>"},a.welcome_page=function(a){var b='<div class="home__logo__container home__logo__container--default"><div class="home__logo" title="Qwant"></div></div>'+new SearchBarComponent({autofocus:!0}).render()+this.renderPartial("custom_video_event")+'<div class="welcome_page--container"><div class="welcome_page__shapes"><img src="/img/welcome_page/shapes.svg"/></div><div class="welcome_page__video--container"><div class="welcome_page__video"><div class="welcome_page__video--gradient"></div><div class="welcome_page__video__info--container"><h2 class="welcome_page__video__title">'+_("Why allow from a <b>search engine</b> something you won't in real life?","welcome_page")+'</h2><button id="'+actionManager.addClickListener(this,TrendsComponent.openCustomVideo,{src:"https://videos.qwant.com/qwant-tv-spot30s.mp4"})+'" class="button button--icon button--black-and-white" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'welcome_page_watch_video\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-music-play-mini"></span>'+_("View the video","welcome_page")+'</button><div class="welcome_page__video__share"><span class="welcome_page__video__share__text">'+_("Share on","welcome_page")+'</span><a id="'+actionManager.addClickListener(this,this.openPopup,{network:"twitter"})+'" href="https://twitter.com/share?url=https://www.qwant.com/tv?l='+applicationState.user.userSetting.getInterfaceLanguage().shorthand+"&amp;text="+_("Why allowing from a <b>search engine</b> something you won't in real life?","welcome_page").replace("<b>","").replace("</b>","")+'&amp;hashtags=switchToQwant" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'welcome_page_share_twitter\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-twitter"></span></a><a id="'+actionManager.addClickListener(this,this.openPopup,{network:"facebook"})+'" href="http://www.facebook.com/sharer.php?u=https://www.qwant.com/tv?l='+applicationState.user.userSetting.getInterfaceLanguage().shorthand+'" '+SecurityHelper.targetBlank()+' onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'welcome_page_share_facebook\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="icon icon-facebook"></span></a></div></div></div></div><div class="welcome_page__protection-switch--container"><img class="welcome_page__protection-switch__top-shadow" src="/img/welcome_page/ombre-top.png" /><div class="welcome_page__protection"><h2 class="welcome_page__protection__title">'+_("How Qwant <b>protects</b> your privacy","welcome_page")+'</h2><div class="welcome_page__protection__desc">'+_("Our commitments:","welcome_page")+'</div><div class="welcome_page__protection__items"><div class="welcome_page__protection__item"><img src="/img/welcome_page/picto1.png" /><span class="welcome_page__protection__item__text">'+_("Search<br/><b>neutrality</b>","welcome_page")+'</span></div><div class="welcome_page__protection__item"><img src="/img/welcome_page/picto2.png" /><span class="welcome_page__protection__item__text">'+_("Search<br/><b>relevance</b>","welcome_page")+'</span></div><div class="welcome_page__protection__item"><img src="/img/welcome_page/picto3.png" /><span class="welcome_page__protection__item__text">'+_("<b>No Tracking</b><br/>No Cookie","welcome_page")+'</span></div><div class="welcome_page__protection__item"><img src="/img/welcome_page/picto4.png" /><span class="welcome_page__protection__item__text">'+_("<b>Absolute respect</b><br/>of privacy","welcome_page")+'</span></div></div><button id="'+actionManager.addClickListener(this,ExtensionHelper.openExtensionOverlay)+'" class="button button--blue" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'welcome_page_install_qwant_0\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Install Qwant","welcome_page")+'</button></div><hr class="welcome_page__line" /><div class="welcome_page__switch"><h2 class="welcome_page__switch__title">'+_("<b>Switch</b> to Qwant","welcome_page")+'</h2><div class="welcome_page__switch__desc">'+_("For PC, Tablet and Smartphone","welcome_page")+'</div><div class="welcome_page__switch__device"><div class="welcome_page__switch__device__desktop"><img src="/img/welcome_page/pc.gif"/><button id="'+actionManager.addClickListener(this,ExtensionHelper.openExtensionOverlay)+'" class="welcome_page__switch__device__desktop--button button button--blue" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'welcome_page_install_qwant_1\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Install Qwant","welcome_page")+'</button></div><div class="welcome_page__switch__device__mobile"><img src="/img/welcome_page/mobile.gif"/><a href="https://play.google.com/store/apps/details?id=com.qwant.liberty&hl=';return-1!==a.appLocales.indexOf(applicationState.user.userSetting.getInterfaceLanguage().shorthand)?b+=""+applicationState.user.userSetting.getInterfaceLanguage().shorthand:b+="en",b+='" '+SecurityHelper.targetBlank()+' class="welcome_page__switch__device__mobile--button button button--black" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'welcome_page_install_android\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="/img/welcome_page/picto-gplay.png"/><div class="welcome_page__switch__device__mobile__text"><span class="welcome_page__switch__device__mobile__text--small">'+_("Available on","welcome_page")+'</span><span class="welcome_page__switch__device__mobile__text__brand">Google Play</span></div></a><a href="https://itunes.apple.com/',-1!==a.appLocales.indexOf(applicationState.user.userSetting.getInterfaceLanguage().shorthand)?b+=""+applicationState.user.userSetting.getInterfaceLanguage().shorthand:b+="en",b+='/app/qwant/id924470452" '+SecurityHelper.targetBlank()+' class="welcome_page__switch__device__mobile--button button button--black" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'welcome_page_install_apple\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="/img/welcome_page/picto-apple.png"/><div class="welcome_page__switch__device__mobile__text"><span class="welcome_page__switch__device__mobile__text--small">'+_("Download at","welcome_page")+'</span><span class="welcome_page__switch__device__mobile__text__brand">App Store</span></div></a></div></div></div><img class="welcome_page__protection-switch__bottom-shadow" src="/img/welcome_page/ombre-bottom.png" /></div><div class="welcome_page__privacy"><div class="welcome_page__privacy--gradient"></div><h2 class="welcome_page__privacy__title">'+_("We don't store or sell <b>any of your personal data</b>.","welcome_page")+'</h2><button id="'+actionManager.addClickListener(this,ExtensionHelper.openExtensionOverlay)+'" class="button button--blue" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \'all\', type: \'welcome_page_install_qwant_2\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'+_("Install Qwant","welcome_page")+'</button><div class="welcome_page__privacy__recommendation">'+_("Recommended by {brand}","welcome_page",{brand:'<a href="https://www.privacytools.io/"'+SecurityHelper.targetBlank()+'><img src="/img/welcome_page/logo-privacytools.png"/></a>'})+"</div>","fr"===applicationState.user.userSetting.getInterfaceLanguage().shorthand&&(b+='<div class="welcome_page__privacy__more">'+_("Learn more about privacy and data security:","welcome_page")+'</div><div class="welcome_page__privacy__more__img"><a href="https://www.cnil.fr/" '+SecurityHelper.targetBlank()+'><img src="/img/welcome_page/logo-cnil.png"/></a><a href="http://www.ssi.gouv.fr/" '+SecurityHelper.targetBlank()+'><img src="/img/welcome_page/logo-anssi.png"/></a></div>'),b+="</div></div>"},a.survey=function(a){var b="";if(null===a.survey)b+=""+_("Loading...","survey");else{if(b+='<form class="global__feedback__survey__form" onsubmit="return false;"><div class="overlay" id="'+actionManager.addClickListener(this,this.closeOverlay)+'"><div class="closer">'+_("Close","survey")+'<span class="icon icon-error close-icon"></span></div><img class="zoomed_image" src="" /></div>'+new HeaderStaticComponent(a.survey.name,{useNativeHistory:!0,route:this.route}).render()+'<div class="straight">',a.finished)b+='<h3 class="center">'+_("Thank you for your feedback!","survey")+'</h3><h3 class="center">'+_("Thanks to you, we continue to improve your search engine every day.","survey")+'</h3><div class="back2search"><button class="back2search_btn" id="'+actionManager.addClickListener(this,this.goBackToSearch)+'"><span class="icon icon-search search-icon"></span>'+_("Go back to Qwant","survey")+"</button></div>";else{var c=a.survey.questions;if(c)for(var d,e=-1,f=c.length-1;e<f;){if(d=c[e+=1],b+='<div class="step" id="step_q_'+d.id+'"><h3>'+d.content+" ",0==d.required&&(b+="<small>("+_("optional","survey")+")</small>"),b+="</h3>",""!=d.context&&(b+='<p class="context">'+d.context+"</p>"),"multiple"==d.answer_type){b+='<p class="rule">'+_("(you can select several answers)","survey")+'</p><ul class="choices">';var g=d.answers;if(g)for(var h,i=-1,j=g.length-1;i<j;)h=g[i+=1],b+='<li><input class="multiple_answer" id="feedback_'+d.id+"_"+i+'" value="'+h.content+'" type="checkbox"><label class="no-select" for="feedback_'+d.id+"_"+i+'">'+h.content+"</label></li>";b+="</ul>"}else if("simple"==d.answer_type)if(-1!==d.context.indexOf("ab_compare")&&2===d.answers.length){b+='<ul class="choices compare">';var k=d.answers;if(k)for(var h,i=-1,l=k.length-1;i<l;)h=k[i+=1],b+='<li><input class="simple_answer compare" id="feedback_'+d.id+"_"+i+'" value="'+h.content+'" type="radio" name="radio_'+d.id+'"><label class="no-select" for="feedback_'+d.id+"_"+i+'"><div class="before"><div class="check"><div class="checked"></div></div></div><div class="after"><span class="overtext">'+h.content+"</span></div>"+h.content+"</label></li>";b+="</ul>"}else{b+="<p>"+_("(one single possible answer)","survey")+'</p><ul class="choices">';var m=d.answers;if(m)for(var h,i=-1,n=m.length-1;i<n;)h=m[i+=1],b+='<li><input class="simple_answer" id="feedback_'+d.id+"_"+i+'" value="'+h.content+'" type="radio" name="radio_'+d.id+'"><label class="no-select" for="feedback_'+d.id+"_"+i+'">'+h.content+"</label></li>";b+="</ul>"}else"open"==d.answer_type?b+='<textarea placeholder="'+_("Message","survey")+'" autocomplete="off" id="feedback_'+d.id+'_open"></textarea>':"note"==d.answer_type?b+='<div class="note"><fieldset class="rating"><input type="radio" id="feedback_'+d.id+'_5" name="note_'+d.id+'" value="5" /><label id="'+actionManager.addClickListener(this,this.setNoteLabel,{qid:d.id,label:_("Awesome","survey"),propagate:!0})+'" class="full" for="feedback_'+d.id+'_5" title="5 - '+_("Awesome","survey")+'"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></label><input type="radio" id="feedback_'+d.id+'_4" name="note_'+d.id+'" value="4" /><label id="'+actionManager.addClickListener(this,this.setNoteLabel,{qid:d.id,label:_("Very good","survey"),propagate:!0})+'" class="full" for="feedback_'+d.id+'_4" title="4 - '+_("Very good","survey")+'"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></label><input type="radio" id="feedback_'+d.id+'_3" name="note_'+d.id+'" value="3" /><label id="'+actionManager.addClickListener(this,this.setNoteLabel,{qid:d.id,label:_("Good","survey"),propagate:!0})+'" class="full" for="feedback_'+d.id+'_3" title="3 - '+_("Good","survey")+'"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></label><input type="radio" id="feedback_'+d.id+'_2" name="note_'+d.id+'" value="2" /><label id="'+actionManager.addClickListener(this,this.setNoteLabel,{qid:d.id,label:_("Bad","survey"),propagate:!0})+'" class="full" for="feedback_'+d.id+'_2" title="2 - '+_("Bad","survey")+'"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></label><input type="radio" id="feedback_'+d.id+'_1" name="note_'+d.id+'" value="1" /><label id="'+actionManager.addClickListener(this,this.setNoteLabel,{qid:d.id,label:_("Very bad","survey"),propagate:!0
})+'" class="full" for="feedback_'+d.id+'_1" title="1 - '+_("Very bad","survey")+'"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></label></fieldset></div><div class="note_label note_label--'+d.id+'"></div>':"sus"==d.answer_type&&(b+='<table class="sus"><thead><tr><th></th><th><span class="score">1</span> '+_("Totally disagree","survey")+'</th><th><span class="score">2</span></th><th><span class="score">3</span></th><th><span class="score">4</span></th><th><span class="score">5</span> '+_("Totally agree","survey")+'</th></tr></thead><tbody><tr><td><span class="sus-q-num">1</span>'+_("I think I would like to use Qwant frequently as my search engine","survey")+'</td><td><label for="feedback_'+d.id+'_1_1"><input type="radio" name="feedback_'+d.id+'_1" id="feedback_'+d.id+'_1_1" value="0" /></label></td><td><label for="feedback_'+d.id+'_1_2"><input type="radio" name="feedback_'+d.id+'_1" id="feedback_'+d.id+'_1_2" value="1" /></label></td><td><label for="feedback_'+d.id+'_1_3"><input type="radio" name="feedback_'+d.id+'_1" id="feedback_'+d.id+'_1_3" value="2" /></label></td><td><label for="feedback_'+d.id+'_1_4"><input type="radio" name="feedback_'+d.id+'_1" id="feedback_'+d.id+'_1_4" value="3" /></label></td><td><label for="feedback_'+d.id+'_1_5"><input type="radio" name="feedback_'+d.id+'_1" id="feedback_'+d.id+'_1_5" value="4" /></label></td></tr><tr><td><span class="sus-q-num">2</span>'+_("I think the search engine is unnecessarily complex","survey")+'</td><td><label for="feedback_'+d.id+'_2_1"><input type="radio" name="feedback_'+d.id+'_2" id="feedback_'+d.id+'_2_1" value="4" /></label></td><td><label for="feedback_'+d.id+'_2_2"><input type="radio" name="feedback_'+d.id+'_2" id="feedback_'+d.id+'_2_2" value="3" /></label></td><td><label for="feedback_'+d.id+'_2_3"><input type="radio" name="feedback_'+d.id+'_2" id="feedback_'+d.id+'_2_3" value="2" /></label></td><td><label for="feedback_'+d.id+'_2_4"><input type="radio" name="feedback_'+d.id+'_2" id="feedback_'+d.id+'_2_4" value="1" /></label></td><td><label for="feedback_'+d.id+'_2_5"><input type="radio" name="feedback_'+d.id+'_2" id="feedback_'+d.id+'_2_5" value="0" /></label></td></tr><tr><td><span class="sus-q-num">3</span>'+_("I think the search engine is easy to use","survey")+'</td><td><label for="feedback_'+d.id+'_3_1"><input type="radio" name="feedback_'+d.id+'_3" id="feedback_'+d.id+'_3_1" value="0" /></label></td><td><label for="feedback_'+d.id+'_3_2"><input type="radio" name="feedback_'+d.id+'_3" id="feedback_'+d.id+'_3_2" value="1" /></label></td><td><label for="feedback_'+d.id+'_3_3"><input type="radio" name="feedback_'+d.id+'_3" id="feedback_'+d.id+'_3_3" value="2" /></label></td><td><label for="feedback_'+d.id+'_3_4"><input type="radio" name="feedback_'+d.id+'_3" id="feedback_'+d.id+'_3_4" value="3" /></label></td><td><label for="feedback_'+d.id+'_3_5"><input type="radio" name="feedback_'+d.id+'_3" id="feedback_'+d.id+'_3_5" value="4" /></label></td></tr><tr><td><span class="sus-q-num">4</span>'+_("I think I would need a specialist to learn how to use the search engine","survey")+'</td><td><label for="feedback_'+d.id+'_4_1"><input type="radio" name="feedback_'+d.id+'_4" id="feedback_'+d.id+'_4_1" value="4" /></label></td><td><label for="feedback_'+d.id+'_4_2"><input type="radio" name="feedback_'+d.id+'_4" id="feedback_'+d.id+'_4_2" value="3" /></label></td><td><label for="feedback_'+d.id+'_4_3"><input type="radio" name="feedback_'+d.id+'_4" id="feedback_'+d.id+'_4_3" value="2" /></label></td><td><label for="feedback_'+d.id+'_4_4"><input type="radio" name="feedback_'+d.id+'_4" id="feedback_'+d.id+'_4_4" value="1" /></label></td><td><label for="feedback_'+d.id+'_4_5"><input type="radio" name="feedback_'+d.id+'_4" id="feedback_'+d.id+'_4_5" value="0" /></label></td></tr><tr><td><span class="sus-q-num">5</span>'+_("I think the features of this search engine are well integrated","survey")+'</td><td><label for="feedback_'+d.id+'_5_1"><input type="radio" name="feedback_'+d.id+'_5" id="feedback_'+d.id+'_5_1" value="0" /></label></td><td><label for="feedback_'+d.id+'_5_2"><input type="radio" name="feedback_'+d.id+'_5" id="feedback_'+d.id+'_5_2" value="1" /></label></td><td><label for="feedback_'+d.id+'_5_3"><input type="radio" name="feedback_'+d.id+'_5" id="feedback_'+d.id+'_5_3" value="2" /></label></td><td><label for="feedback_'+d.id+'_5_4"><input type="radio" name="feedback_'+d.id+'_5" id="feedback_'+d.id+'_5_4" value="3" /></label></td><td><label for="feedback_'+d.id+'_5_5"><input type="radio" name="feedback_'+d.id+'_5" id="feedback_'+d.id+'_5_5" value="4" /></label></td></tr><tr><td><span class="sus-q-num">6</span>'+_("I think the search engine is too inconsistent","survey")+'</td><td><label for="feedback_'+d.id+'_6_1"><input type="radio" name="feedback_'+d.id+'_6" id="feedback_'+d.id+'_6_1" value="4" /></label></td><td><label for="feedback_'+d.id+'_6_2"><input type="radio" name="feedback_'+d.id+'_6" id="feedback_'+d.id+'_6_2" value="3" /></label></td><td><label for="feedback_'+d.id+'_6_3"><input type="radio" name="feedback_'+d.id+'_6" id="feedback_'+d.id+'_6_3" value="2" /></label></td><td><label for="feedback_'+d.id+'_6_4"><input type="radio" name="feedback_'+d.id+'_6" id="feedback_'+d.id+'_6_4" value="1" /></label></td><td><label for="feedback_'+d.id+'_6_5"><input type="radio" name="feedback_'+d.id+'_6" id="feedback_'+d.id+'_6_5" value="0" /></label></td></tr><tr><td><span class="sus-q-num">7</span>'+_("I think the search engine will be easy to use for a lot of people","survey")+'</td><td><label for="feedback_'+d.id+'_7_1"><input type="radio" name="feedback_'+d.id+'_7" id="feedback_'+d.id+'_7_1" value="0" /></label></td><td><label for="feedback_'+d.id+'_7_2"><input type="radio" name="feedback_'+d.id+'_7" id="feedback_'+d.id+'_7_2" value="1" /></label></td><td><label for="feedback_'+d.id+'_7_3"><input type="radio" name="feedback_'+d.id+'_7" id="feedback_'+d.id+'_7_3" value="2" /></label></td><td><label for="feedback_'+d.id+'_7_4"><input type="radio" name="feedback_'+d.id+'_7" id="feedback_'+d.id+'_7_4" value="3" /></label></td><td><label for="feedback_'+d.id+'_7_5"><input type="radio" name="feedback_'+d.id+'_7" id="feedback_'+d.id+'_7_5" value="4" /></label></td></tr><tr><td><span class="sus-q-num">8</span>'+_("I think the search engine is very constraining to use","survey")+'</td><td><label for="feedback_'+d.id+'_8_1"><input type="radio" name="feedback_'+d.id+'_8" id="feedback_'+d.id+'_8_1" value="4" /></label></td><td><label for="feedback_'+d.id+'_8_2"><input type="radio" name="feedback_'+d.id+'_8" id="feedback_'+d.id+'_8_2" value="3" /></label></td><td><label for="feedback_'+d.id+'_8_3"><input type="radio" name="feedback_'+d.id+'_8" id="feedback_'+d.id+'_8_3" value="2" /></label></td><td><label for="feedback_'+d.id+'_8_4"><input type="radio" name="feedback_'+d.id+'_8" id="feedback_'+d.id+'_8_4" value="1" /></label></td><td><label for="feedback_'+d.id+'_8_5"><input type="radio" name="feedback_'+d.id+'_8" id="feedback_'+d.id+'_8_5" value="0" /></label></td></tr><tr><td><span class="sus-q-num">9</span>'+_("I felt confident using the search engine","survey")+'</td><td><label for="feedback_'+d.id+'_9_1"><input type="radio" name="feedback_'+d.id+'_9" id="feedback_'+d.id+'_9_1" value="0" /></label></td><td><label for="feedback_'+d.id+'_9_2"><input type="radio" name="feedback_'+d.id+'_9" id="feedback_'+d.id+'_9_2" value="1" /></label></td><td><label for="feedback_'+d.id+'_9_3"><input type="radio" name="feedback_'+d.id+'_9" id="feedback_'+d.id+'_9_3" value="2" /></label></td><td><label for="feedback_'+d.id+'_9_4"><input type="radio" name="feedback_'+d.id+'_9" id="feedback_'+d.id+'_9_4" value="3" /></label></td><td><label for="feedback_'+d.id+'_9_5"><input type="radio" name="feedback_'+d.id+'_9" id="feedback_'+d.id+'_9_5" value="4" /></label></td></tr><tr><td><span class="sus-q-num">10</span>'+_("I had to learn a lot before I became familiar with the search engine","survey")+'</td><td><label for="feedback_'+d.id+'_10_1"><input type="radio" name="feedback_'+d.id+'_10" id="feedback_'+d.id+'_10_1" value="4" /></label></td><td><label for="feedback_'+d.id+'_10_2"><input type="radio" name="feedback_'+d.id+'_10" id="feedback_'+d.id+'_10_2" value="3" /></label></td><td><label for="feedback_'+d.id+'_10_3"><input type="radio" name="feedback_'+d.id+'_10" id="feedback_'+d.id+'_10_3" value="2" /></label></td><td><label for="feedback_'+d.id+'_10_4"><input type="radio" name="feedback_'+d.id+'_10" id="feedback_'+d.id+'_10_4" value="1" /></label></td><td><label for="feedback_'+d.id+'_10_5"><input type="radio" name="feedback_'+d.id+'_10" id="feedback_'+d.id+'_10_5" value="0" /></label></td></tr></tbody></table>');b+="</div>"}b+='<div class="submit_div"><input class="submit" id="'+actionManager.addClickListener(this,this.submitForm)+'" value="'+_("Submit","survey")+'" type="button"></div>'}b+="</div></form>"}return b},a.top_bar=function(a){var b='<nav class="sidebar" role="navigation"><div class="sidebar__inner"><ul class="sidebar__content">',c=a.menuItems;if(c)for(var d,e=-1,f=c.length-1;e<f;)(d=c[e+=1])&&!d.side&&(b+='<li class="sidebar__item sidebar__item--'+d.name,d.name===this.current&&(b+=" sidebar__item--current"),b+='"title="'+d.i18n+'" aria-label="'+d.i18n+'" '+this.webTagger.tag({target:d.name})+'id="'+actionManager.addClickListener(this,this.changeSearch,{item:d.name,changePage:!0})+'"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/sidebar-spritesheet.svg?1608192960675#icon-'+d.name+'"></use></svg><a href="javascript:;" class="sidebar__item__link">',""!=d.name[0]&&(b+='<span class="sidebar__item__label">'+d.i18n+"</span>"),b+="</a></li>");return b+='<li class="sidebar__item sidebar__item--music" '+this.webTagger.tag({target:"music"})+'title="Music" aria-label="Music" id="'+actionManager.addClickListener(this,this.changeSearch,{item:"music",changePage:!0})+'"><svg viewBox="0 0 24 24"><use xlink:href="/img/v4/sidebar-spritesheet.svg#icon-music"></use></svg><a href="javascript:;" class="sidebar__item__link"><span class="sidebar__item__label">Music</span></a></li><li class="sidebar__item--settings" title="'+_("Settings","sidebar")+'" aria-label="'+_("Settings","sidebar")+'"><a href="javascript:;" class="sidebar__item__link" id="'+actionManager.addClickListener(this,AppMenuComponent.open,{content:AppMenuComponent._SETTINGS})+'" title="'+_("Settings","sidebar")+'"><span class="sidebar__item__label">'+_("Settings","sidebar")+'</span></a></li></ul></div></nav><span class="top_bar_underline"></span>'},a.top_stories=function(a){var b='<div id="news__trends" class="news__trends">';return a.partialMosaic&&(b+=""+a.partialMosaic.render()),b+="</div>"},a._desktop_custom_event=function(a){var b='<div class="partial_mosaic_cell"><a class="v4_news_block" href="'+a.data.headline_video[0].link+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlinevideo', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_video[0].pict_mobile,attrList:{alt:a.data.headline_video[0].name,title:a.data.headline_video[0].name},classes:"v4_news_block__image",lazyload:!0}).render()+'</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+a.data.headline_video[0].name+'">'+a.data.headline_video[0].name+'</span><span class="v4_news_block__desc">';return a.data.headline_video[0].desc&&a.data.headline_video[0].desc.length>0?b+=""+t.data.headline_video[0].desc:b+=""+a.data.headline_video[0].name,b+="</span></div></a></div>"},a._desktop_custom_event__video=function(a){var b='<div class="partial_mosaic_cell"><a class="v4_news_block" href="'+a.data.headline_video[0].link+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'special_video', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_video[0].pict_mobile,attrList:{alt:a.data.headline_video[0].name,title:a.data.headline_video[0].name},classes:"v4_news_block__image",lazyload:!0}).render()+'<div class="circular-button"><span class="icon icon-video-large"></span></div></div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+a.data.headline_video[0].name+'">'+a.data.headline_video[0].name+'</span><span class="v4_news_block__desc">';return a.data.headline_video[0].desc&&a.data.headline_video[0].desc.length>0?b+=""+t.data.headline_video[0].desc:b+=""+a.data.headline_video[0].name,b+="</span></div></a></div>"},a._desktop_custom_image_events=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c="";return a.data.headline_images&&a.data.headline_images[0]&&a.data.headline_images[0].is_external&&"1"===a.data.headline_images[0].is_external?(c+='<div class="partial_mosaic_cell"><a class="v4_news_block" href="'+a.data.headline_images[0].link+'" ',"_blank"===a.data.headline_images[0].ev_target?c+=""+SecurityHelper.targetBlank():c+=' target="_self"',c+=" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', position: 0, t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlineimages_partner', item: '"+(a.data.headline_images[0].id?a.data.headline_images[0].id:"0")+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_images[0].image,attrList:{alt:a.data.headline_images[0].title,title:a.data.headline_images[0].title},classes:"v4_news_block__image",lazyload:!0}).render()+'</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+b(a.data.headline_images[0].title)+'">'+a.data.headline_images[0].title+'</span><span class="v4_news_block__desc">'+a.data.headline_images[0].location+"</span>","1"===a.data.headline_images[0].is_partnership&&(c+='<span class="trends--general__info__text--brand v4_news_block__partner">'+_("Partnership","homepage")+"</span>"),c+="</div></a></div>"):c+='<div class="partial_mosaic_cell"><a class="v4_news_block" onclick="$i(\'popup_image\').style.display=\'block\';TrendsComponent.getInstance().show_day('+(a.data.headline_images[6]?6:0)+");\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlineimages', item: '"+(a.data.headline_images[6]?a.data.headline_images[6].id:"0")+'\'});" onmouseup="LinkHelper.mouseUpHandler(this, Event);"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_images[a.displayImageIndex].image,fallbackSrc:"/img/fallback_qwulture.jpg",attrList:{alt:a.data.headline_images[0].title,title:a.data.headline_images[0].title},classes:"v4_news_block__image",lazyload:!0}).render()+'</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+b(_("Cultural Events","trends"))+'">'+_("Cultural Events","trends")+'</span><span class="v4_news_block__desc">'+_("Discover the whole French cultural activity","trends")+"</span></div></a></div>",c},a._desktop_custom_image_events_popup=function(a){for(var b='<div class="trends--general__popup-image trends--general__popup-image--culture" id="popup_image"><div class="trends--general__popup__content"><div class="trends--general__popup__days">',c=0;c<a.data.headline_images.length;c++)b+='<div class="trends--general__popup__day ',c+1!=a.data.headline_images.length&&(b+=" trends--general__popup__day--hidden "),b+='"><a class="trends--general__popup__content__img" href="'+a.data.headline_images[c].link+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlineimages_outlink', position: '"+(c+1)+"', item: '"+(a.data.headline_images[c].id?a.data.headline_images[c].id:"0")+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><img src="'+a.data.headline_images[c].image+'" onerror="this.onerror=null;this.src=\'/img/fallback_qwulture.jpg\';"></a><div class="trends--general__popup__info"><div class="trends--general__popup__info__prev" onclick="TrendsComponent.getInstance().day_prev()"  title="'+_("Previous","trends")+'"><span class="icon icon-nav-selector-icon-large"></span></div><div class="trends--general__popup__info__date"><span class="trends--general__popup__info__date__normal"><span class="trends--general__trend--right__plus7__date">'+strftime(i18n.date.timelineFormat[1],new Date(a.data.headline_images[c].begin_date))+"<sup>"+strftime(i18n.date.timelineFormat[2],new Date(a.data.headline_images[c].begin_date))+"</sup>"+strftime("%Y",new Date(a.data.headline_images[c].begin_date))+'</span><span class="trends--general__trend--right__plus7__separator"> - </span><span class="trends--general__trend--right__plus7__date">'+strftime(i18n.date.timelineFormat[1],new Date(a.data.headline_images[c].end_date))+"<sup>"+strftime(i18n.date.timelineFormat[2],new Date(a.data.headline_images[c].end_date))+"</sup>"+strftime("%Y",new Date(a.data.headline_images[c].end_date))+'</span></span></div><div class="trends--general__popup__info__next" onclick="TrendsComponent.getInstance().day_next()" title="'+_("Next","trends")+'"><span class="icon icon-nav-selector-icon-large-reverse"></span></div><a class="trends--general__popup__info__title" href="'+a.data.headline_images[c].link+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlineimages_outlink', position: '"+(c+1)+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><span class="trends--general__popup__info__title__main">'+a.data.headline_images[c].title+'</span><span class="trends--general__popup__info__title__sub"><span class="trends--general__popup__info__title__sub--type">'+a.data.headline_images[c].type_event+'</span><span class="trends--general__popup__info__title__sub--location">'+a.data.headline_images[c].location+"</span></span></a></div></div>";b+='</div><div class="trends--general__popup__dots"><div class="trends--general__popup__dot__image--container"><img class="trends--general__popup__dot__image" src="" /></div>';var d=0,e=a.timestampArray;if(e)for(var f,g=-1,h=e.length-1;g<h;){f=e[g+=1];var i=a.popup_images[f.getTime()+g].length,j=Math.floor(1e3/a.popup_days_counter)/10,k=Math.floor(1e3/i)/10;b+='<div class="trends--general__popup__dot trends--general__popup__dot--'+i+'" style="width:'+j+'%">';var l=a.popup_images[f.getTime()+g];if(l)for(var m,n=-1,o=l.length-1;n<o;)m=l[n+=1],b+='<div class="trends--general__popup__dot__line--container"onclick="TrendsComponent.getInstance().show_day('+d+')"'+actionManager.addHoverListener(this,this.displayPopupImage,this.hidePopupImage,{days_number:a.popup_days_counter,lines_number:i,current_day:g,current_line:n,image:m,parent:this,alreadyGotId:!0})+'style="width:'+k+'%"><span class="trends--general__popup__dot__line"></span></div>',d++;b+='<div class="trends--general__popup__dot__date">'+m.title+"</div></div>"}return b+="</div></div></div>"},a._desktop_daily_video=function(a){var b='<div class="partial_mosaic_cell">';return a.data.headline_video[0].is_on_homepage?b+='<a class="v4_news_block" href="javascript:;" id="'+actionManager.addClickListener(this,this.displaySpecialVideoEvent,a)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'special_video', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">':(b+='<a class="v4_news_block" ',a.data.headline_video[0].link&&""!=a.data.headline_video[0].link?b+='href="'+a.data.headline_video[0].link+'"':b+='href="?q='+encodeURIComponent(a.data.headline_video[0].name)+"&f=h:"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"")+"&t="+a.data.headline_video[0].section+'&p=1"',b+=" ","_blank"===a.data.headline_video[0].target?b+=""+SecurityHelper.targetBlank():b+='target="_self"',b+=" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: '"+("live"===a.data.headline_video[0].section?"headline_video_live":"headline_video")+"', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'),b+='<div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_video[0].pict_mobile,attrList:{alt:a.data.headline_video[0].name.replace(/^vid.o ?[-.]/i,""),title:a.data.headline_video[0].name.replace(/^vid.o ?[-.]/i,"")},classes:"v4_news_block__image",lazyload:!0}).render(),a.data.headline_video[0].is_video&&(b+='<svg class="v4_news_block__play"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-feather-play"></use></svg>'),b+='</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+_("Video of the day","trends")+'">',a.data.headline_video[0].name?b+=""+a.data.headline_video[0].name.replace(/^vid.o ?[-.]/i,""):b+=""+_("Video of the day","trends"),b+='</span><span class="v4_news_block__desc">',a.data.headline_video[0].desc&&a.data.headline_video[0].desc.length>0?b+=""+a.data.headline_video[0].desc.replace(/^vid.o ?[-.]/i,""):b+=""+a.data.headline_video[0].name.replace(/^vid.o ?[-.]/i,""),b+='</span><div class="v4_news_block__owner">',a.data.headline_video[0].logo&&a.data.headline_video[0].owner&&a.data.headline_video[0].date&&(b+='<img src="'+a.data.headline_video[0].logo+'" alt="logo" height="24" width="24"/><span>'+a.data.headline_video[0].owner+"</span> ・<span>"+DateHelper.formatDate(a.data.headline_video[0].date,i18n.date.dateFormat)+"</span>"),a.data.headline_video[0].is_partnership&&(b+='<span class="ad_mention">'+_("Ad","homepage")+"</span>"),b+="</div></div></a></div>"},a._desktop_latest_news=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="trends--news partial_posaic"><div class="partial_mosaic_4_cells partial_mosaic_spacing--12">',d=a.data.latest_news;if(d)for(var e=-1,f=d.length-1;e<f;)d[e+=1],c+='<div class="partial_mosaic_cell"><a href="?q='+encodeURIComponent(a.data.latest_news[e].name)+"&f=h:"+a.data.latest_news[e].id+'&t=news" class="v4_news_block latest" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \''+QwantHomepageComponent.currentHomepage.name+"', type: 'latestnews', position: '"+(e+1)+"', category: '"+a.data.latest_news[e].category+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.latest_news[e].pict_mobile,fallbackSrc:a.data.latest_news[e].pict_desktop_alternative&&null!==a.data.latest_news[e].pict_desktop_alternative?a.data.latest_news[e].pict_desktop_alternative:"/img/error/news_error--large.png",attrList:{alt:a.data.latest_news[e].name,title:a.data.latest_news[e].name},classes:"v4_news_block__image",lazyload:!0}).render()+'</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+b(a.data.latest_news[e].name)+'">'+a.data.latest_news[e].name+'</span></div><div class="v4_news_block__footer"><div class="v4_news_block__date"><svg><use xlink:href="/img/v4/icon-spritesheet.svg#icon-clock"></use></svg><span>'+DateHelper.formatDate(a.data.latest_news[e].freshestdate,i18n.date.dateFormat)+"</span></div></div></a></div>";return c+="</div></div>"},a._desktop_more_latest_news=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="partial_posaic"><div class="partial_mosaic_4_cells partial_mosaic_spacing--12">',d=a.more_latest_news;if(d)for(var e=-1,f=d.length-1;e<f;)d[e+=1],c+='<div class="partial_mosaic_cell"><a href="?q='+encodeURIComponent(a.more_latest_news[e].name)+"&f=h:"+a.more_latest_news[e].id+'&t=news" class="v4_news_block latest" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \''+QwantHomepageComponent.currentHomepage.name+"', type: 'latestnews', position: '"+(e+5)+"', category: '"+a.more_latest_news[e].category+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container"><img src="'+a.more_latest_news[e].pict_big+'" class="v4_news_block__image" alt="'+a.more_latest_news[e].name+'" title="'+a.more_latest_news[e].name+'" /></div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+b(a.more_latest_news[e].name)+'">'+a.more_latest_news[e].name+'</span></div><div class="v4_news_block__footer"><div class="v4_news_block__date"><svg><use xlink:href="/img/v4/icon-spritesheet.svg#icon-clock"></use></svg><span>'+DateHelper.formatDate(a.more_latest_news[e].freshestdate,i18n.date.dateFormat)+"</span></div></div></a></div>";return c+="</div></div>"},a._desktop_special_custom_event=function(a){var b='<div class="partial_mosaic_cell">';return a.data.headline_video[0].is_on_homepage?b+='<a class="v4_news_block" href="javascript:;" id="'+actionManager.addClickListener(this,this.displaySpecialVideoEvent,a)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'special_video', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">':b+='<a class="v4_news_block" href="'+a.data.headline_video[0].link+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'special_video', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">',b+='<div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_video[0].pict_mobile,attrList:{alt:a.data.headline_video[0].name,title:a.data.headline_video[0].name},classes:"v4_news_block__image",lazyload:!0}).render()+'<div class="circular-button"><span class="icon icon-video-large"></span></div></div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+a.data.headline_video[0].name+'">'+a.data.headline_video[0].name+'</span><span class="v4_news_block__desc">'+a.data.headline_video[0].desc,a.data.headline_video[0].is_partnership&&(b+='<span class="trends--general__info__text--brand">'+_("Partnership","homepage")+"</span>"),b+="</span></div></a></div>"},a._desktop_top_story=function(a){return'<div class="partial_mosaic_cell"><a class="v4_news_block" href="?q='+encodeURIComponent(a.data.headline_news[0].name)+"&f=h:"+a.data.headline_news[0].id+"&t=news\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlinenews', category: '"+a.data.headline_news[0].category+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_news[0].pict_mobile,fallbackSrc:a.data.headline_news[0].pict_desktop_alternative&&null!==a.data.headline_news[0].pict_desktop_alternative?a.data.headline_news[0].pict_desktop_alternative:"/img/error/news_error--large.png",attrList:{alt:a.data.headline_news[0].name,title:a.data.headline_news[0].name},classes:"v4_news_block__image",lazyload:!0}).render()+'</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+_("Top story","trends")+'">'+_("Top story","trends")+'</span><span class="v4_news_block__desc">'+a.data.headline_news[0].name+"</span></div></a></div>"},a._desktop_week_pictures=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}();return'<div class="partial_mosaic_cell trends--general__trend--right-v4"><a href="javascript:;" class="v4_news_block"><div class="v4_news_block__image--container" onclick="$i(\'popup_image\').style.display=\'block\';TrendsComponent.getInstance().show_day('+(a.data.headline_images[6]?6:0)+");\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlineimages', item: '"+(a.data.headline_images[6]?a.data.headline_images[6].id:"0")+'\'});" onmouseup="LinkHelper.mouseUpHandler(this, Event);">'+new ImageComponent({src:a.data.headline_images[6]?a.data.headline_images[6].pict_desktop:a.data.headline_images[0].pict_desktop,attrList:{alt:_("A week in pictures","trends"),title:_("A week in pictures","trends")},classes:"v4_news_block__image",lazyload:!0}).render()+"</div><div class=\"v4_news_block__text--container\" onclick=\"$i('popup_image').style.display='block';TrendsComponent.getInstance().show_day("+(a.data.headline_images[6]?6:0)+");\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlineimages', item: '"+(a.data.headline_images[6]?a.data.headline_images[6].id:"0")+'\'});" onmouseup="LinkHelper.mouseUpHandler(this, Event);"><span class="v4_news_block__title" title="'+b(_("A week in pictures","trends"))+'">'+_("A week in pictures","trends")+'</span><span class="v4_news_block__desc">'+_("Review the latest news of the week","trends")+"</span></div></a></div>"},a._desktop_week_pictures_popup=function(a){for(var b='<div class="trends--general__popup-image" id="popup_image"><div class="trends--general__popup__content"><div class="trends--general__popup__label">'+_("A week in pictures","trends")+"</div><span onclick=\"$i('popup_image').style.display='none'\" title=\""+_("Close","trends")+'" class="media_overlay__close__container"><svg class="media_overlay__close" width="22" height="22" viewBox="0 0 24 24"><use xlink:href="/img/v4/icon-spritesheet.svg?1539938515#circle-close"></use></svg></span><div class="trends--general__popup__days">',c=0;c<a.data.headline_images.length;c++)b+='<div class="trends--general__popup__day ',c+1!=a.data.headline_images.length&&(b+=" trends--general__popup__day--hidden "),b+='"><a class="trends--general__popup__content__img">'+new ImageComponent({
src:a.data.headline_images[c].pict_desktop,attrList:{alt:a.data.headline_images[c].name,title:a.data.headline_images[c].name},lazyload:!0}).render()+'</a><div class="trends--general__popup__info"><div class="trends--general__popup__info__prev" onclick="TrendsComponent.getInstance().day_prev()"  title="'+_("Previous","trends")+'"><span class="icon icon-nav-selector-icon-large"></span></div><div class="trends--general__popup__info__date"><span class="trends--general__popup__info__date__normal">'+i18n.date.dayNamesShort[new Date(1e3*a.data.headline_images[c].freshestdate).getDay()]+'</span><span class="trends--general__popup__info__date__big">'+new Date(1e3*a.data.headline_images[c].freshestdate).getDate()+'</span><span class="trends--general__popup__info__date__sup">'+i18n.date.monthNames[new Date(1e3*a.data.headline_images[c].freshestdate).getMonth()]+'</span></div><div class="trends--general__popup__info__next" onclick="TrendsComponent.getInstance().day_next()" title="'+_("Next","trends")+'"><span class="icon icon-nav-selector-icon-large-reverse"></span></div><a href="?q='+encodeURIComponent(a.data.headline_images[c].name)+"&f=h:"+a.data.headline_images[c].id+'&t=news" class="trends--general__popup__info__title">'+a.data.headline_images[c].name+"</a></div></div>";b+='</div><div class="trends--general__popup__dots"><div class="trends--general__popup__dot__image--container"><img class="trends--general__popup__dot__image" src="" /></div>';var d=0,e=a.timestampArray;if(e)for(var f,g=-1,h=e.length-1;g<h;)if(f=e[g+=1],a.popup_images[f.getDate()]){var i=a.popup_images[f.getDate()].length,j=Math.floor(1e3/a.popup_days_counter)/10;Math.floor(1e3/i);b+='<div class="trends--general__popup__dot trends--general__popup__dot--'+i+'" style="width:'+j+'%">';var k=a.popup_images[f.getDate()];if(k)for(var l,m=-1,n=k.length-1;m<n;)l=k[m+=1],b+='<div class="trends--general__popup__dot__line--container"onclick="TrendsComponent.getInstance().show_day('+d+')"'+actionManager.addHoverListener(this,this.displayPopupImage,this.hidePopupImage,{days_number:a.popup_days_counter,lines_number:i,current_day:g,current_line:m,image:l,parent:this,alreadyGotId:!0})+'><span class="trends--general__popup__dot__line"></span></div>',d++;b+='<div class="trends--general__popup__dot__date">'+strftime(i18n.date.timelineFormat[0],f)+" "+strftime(i18n.date.timelineFormat[1],f)+"<sup>"+strftime(i18n.date.timelineFormat[2],f)+"</sup></div></div>"}return b+="</div></div></div>"},a._mobile_custom_event=function(a){var b='<div class="partial_mosaic_cell"><a class="v4_news_block" href="'+a.data.headline_video[0].link+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlinevideo', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_video[0].pict_mobile,attrList:{alt:a.data.headline_video[0].name,title:a.data.headline_video[0].name},classes:"v4_news_block__image",lazyload:!0}).render()+'</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+a.data.headline_video[0].name+'">'+a.data.headline_video[0].name+'</span><span class="v4_news_block__desc">';return a.data.headline_video[0].desc&&a.data.headline_video[0].desc.length>0?b+=""+t.data.headline_video[0].desc:b+=""+a.data.headline_video[0].name,b+="</span></div></a></div>"},a._mobile_custom_event__video=function(a){var b='<div class="partial_mosaic_cell"><a class="v4_news_block" href="'+a.data.headline_video[0].link+'" '+SecurityHelper.targetBlank()+" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'special_video', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_video[0].pict_mobile,attrList:{alt:a.data.headline_video[0].name,title:a.data.headline_video[0].name},classes:"v4_news_block__image",lazyload:!0}).render()+'<div class="circular-button"><span class="icon icon-video-large"></span></div></div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+a.data.headline_video[0].name+'">'+a.data.headline_video[0].name+'</span><span class="v4_news_block__desc">';return a.data.headline_video[0].desc&&a.data.headline_video[0].desc.length>0?b+=""+t.data.headline_video[0].desc:b+=""+a.data.headline_video[0].name,b+="</span></div></a></div>"},a._mobile_custom_image_events=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c="";return a.data.headline_images&&a.data.headline_images[0]&&a.data.headline_images[0].is_external&&"1"===a.data.headline_images[0].is_external?(c+='<div class="partial_mosaic_cell"><a class="v4_news_block" href="'+a.data.headline_images[0].link+'" ',"_blank"===a.data.headline_images[0].ev_target?c+=""+SecurityHelper.targetBlank():c+=' target="_self"',c+=" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', position: 0, t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlineimages_partner', item: '"+(a.data.headline_images[0].id?a.data.headline_images[0].id:"0")+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_images[0].image,attrList:{alt:a.data.headline_images[0].title,title:a.data.headline_images[0].title},classes:"v4_news_block__image",lazyload:!0}).render()+'</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+b(a.data.headline_images[0].title)+'">'+a.data.headline_images[0].title+'</span><span class="v4_news_block__desc">'+a.data.headline_images[0].location+"</span>","1"===a.data.headline_images[0].is_partnership&&(c+='<span class="trends--general__info__text--brand">'+_("Partnership","homepage")+"</span>"),c+="</div></a></div>"):c+='<div class="partial_mosaic_cell"><a class="v4_news_block" onclick="$i(\'popup_image\').style.display=\'block\';TrendsComponent.getInstance().show_day('+(a.data.headline_images[6]?6:0)+");\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlineimages', item: '"+(a.data.headline_images[6]?a.data.headline_images[6].id:"0")+'\'});" onmouseup="LinkHelper.mouseUpHandler(this, Event);"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_images[a.displayImageIndex].image,fallbackSrc:"/img/fallback_qwulture.jpg",attrList:{alt:a.data.headline_images[0].title,title:a.data.headline_images[0].title},classes:"v4_news_block__image",lazyload:!0}).render()+'</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+b(_("Cultural Events","trends"))+'">'+_("Cultural Events","trends")+'</span><span class="v4_news_block__desc">'+_("Discover the whole French cultural activity","trends")+"</span></div></a></div>",c},a._mobile_daily_video=function(a){var b='<div class="partial_mosaic_cell">';return a.data.headline_video[0].is_on_homepage?b+='<a class="v4_news_block" href="javascript:;" id="'+actionManager.addClickListener(this,this.displaySpecialVideoEvent,a)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'special_video', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">':(b+='<a class="v4_news_block" ',a.data.headline_video[0].link&&""!=a.data.headline_video[0].link?b+='href="'+a.data.headline_video[0].link+'"':b+='href="?q='+encodeURIComponent(a.data.headline_video[0].name)+"&f=h:"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"")+"&t="+a.data.headline_video[0].section+'&p=1"',b+=" ","_blank"===a.data.headline_video[0].target?b+=""+SecurityHelper.targetBlank():b+='target="_self"',b+=" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: '"+("live"===a.data.headline_video[0].section?"headline_video_live":"headline_video")+"', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">'),b+='<div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_video[0].pict_mobile,attrList:{alt:a.data.headline_video[0].name.replace(/^vid.o ?[-.]/i,""),title:a.data.headline_video[0].name.replace(/^vid.o ?[-.]/i,"")},classes:"v4_news_block__image",lazyload:!0}).render(),a.data.headline_video[0].is_video&&(b+='<svg class="v4_news_block__play"><use xlink:href="/img/v4/icon-spritesheet.svg?1608192960675#icon-feather-play"></use></svg>'),b+='</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+_("Video of the day","trends")+'">',a.data.headline_video[0].is_video?b+=""+_("Video of the day","trends"):b+=""+a.data.headline_video[0].name,b+='</span><span class="v4_news_block__desc">',a.data.headline_video[0].desc&&a.data.headline_video[0].desc.length>0?b+=""+a.data.headline_video[0].desc.replace(/^vid.o ?[-.]/i,""):b+=""+a.data.headline_video[0].name.replace(/^vid.o ?[-.]/i,""),b+='</span><div class="v4_news_block__owner">',a.data.headline_video[0].logo&&a.data.headline_video[0].owner&&a.data.headline_video[0].date&&(b+='<img src="'+a.data.headline_video[0].logo+'" alt="logo" height="24" width="24"/><span>'+a.data.headline_video[0].owner+"</span> ・<span>"+DateHelper.formatDate(a.data.headline_video[0].date,i18n.date.dateFormat)+"</span>"),a.data.headline_video[0].is_partnership&&(b+='<span class="ad_mention">'+_("Ad","homepage")+"</span>"),b+="</div></div></a></div>"},a._mobile_latest_news=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="trends--news partial_posaic"><div class="partial_mosaic_4_cells partial_mosaic_spacing--12">',d=a.data.latest_news;if(d)for(var e=-1,f=d.length-1;e<f;)d[e+=1],c+='<div class="partial_mosaic_cell"><a href="?q='+encodeURIComponent(a.data.latest_news[e].name)+"&f=h:"+a.data.latest_news[e].id+'&t=news" class="v4_news_block latest" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \''+QwantHomepageComponent.currentHomepage.name+"', type: 'latestnews', position: '"+(e+1)+"', category: '"+a.data.latest_news[e].category+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.latest_news[e].pict_mobile,fallbackSrc:a.data.latest_news[e].pict_desktop_alternative&&null!==a.data.latest_news[e].pict_desktop_alternative?a.data.latest_news[e].pict_desktop_alternative:"/img/error/news_error--large.png",attrList:{alt:a.data.latest_news[e].name,title:a.data.latest_news[e].name},classes:"v4_news_block__image",lazyload:!0}).render()+'</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+b(a.data.latest_news[e].name)+'">'+a.data.latest_news[e].name+'</span></div><div class="v4_news_block__footer"><div class="v4_news_block__date"><svg><use xlink:href="/img/v4/icon-spritesheet.svg#icon-clock"></use></svg><span>'+DateHelper.formatDate(a.data.latest_news[e].freshestdate,i18n.date.dateFormat)+"</span></div></div></a></div>";return c+="</div></div>"},a._mobile_more_latest_news=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="partial_posaic"><div class="partial_mosaic_4_cells partial_mosaic_spacing--12">',d=a.more_latest_news;if(d)for(var e=-1,f=d.length-1;e<f;)d[e+=1],c+='<div class="partial_mosaic_cell"><a href="?q='+encodeURIComponent(a.more_latest_news[e].name)+"&f=h:"+a.more_latest_news[e].id+'&t=news" class="v4_news_block latest" onmousedown="LinkHelper.logHandler(this, Event, {AjaxRoute: \'homepage\', t: \''+QwantHomepageComponent.currentHomepage.name+"', type: 'latestnews', position: '"+(e+5)+"', category: '"+a.more_latest_news[e].category+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container"><img src="'+a.more_latest_news[e].pict_big+'" class="v4_news_block__image" alt="'+a.more_latest_news[e].name+'" title="'+a.more_latest_news[e].name+'" /></div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+b(a.more_latest_news[e].name)+'">'+a.more_latest_news[e].name+'</span></div><div class="v4_news_block__footer"><div class="v4_news_block__date"><svg><use xlink:href="/img/v4/icon-spritesheet.svg#icon-clock"></use></svg><span>'+DateHelper.formatDate(a.more_latest_news[e].freshestdate,i18n.date.dateFormat)+"</span></div></div></a></div>";return c+="</div></div>"},a._mobile_special_custom_event=function(a){var b='<div class="partial_mosaic_cell">';return a.data.headline_video[0].is_on_homepage?b+='<a class="v4_news_block" href="javascript:;" id="'+actionManager.addClickListener(this,this.displaySpecialVideoEvent,a)+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'special_video', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">':b+='<a class="v4_news_block" href="'+a.data.headline_video[0].link+"\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'special_video', item: '"+(a.data.headline_video[0].id?a.data.headline_video[0].id:"0")+'\'})" onmouseup="LinkHelper.mouseUpHandler(this, Event)">',b+='<div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_video[0].pict_mobile,attrList:{alt:a.data.headline_video[0].name,title:a.data.headline_video[0].name},classes:"v4_news_block__image",lazyload:!0}).render()+'<div class="circular-button"><span class="icon icon-video-large"></span></div></div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+a.data.headline_video[0].name+'">'+a.data.headline_video[0].name+'</span><span class="v4_news_block__desc">'+a.data.headline_video[0].desc,a.data.headline_video[0].is_partnership&&(b+='<span class="trends--general__info__text--brand">'+_("Partnership","homepage")+"</span>"),b+="</span></div></a></div>"},a._mobile_top_story=function(a){return'<div class="partial_mosaic_cell"><a class="v4_news_block" href="?q='+encodeURIComponent(a.data.headline_news[0].name)+"&f=h:"+a.data.headline_news[0].id+"&t=news\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'homepage', t: '"+QwantHomepageComponent.currentHomepage.name+"', type: 'headlinenews', category: '"+a.data.headline_news[0].category+'\'})" onclick="LinkHelper.clickHandler(this, Event)" onmouseup="LinkHelper.mouseUpHandler(this, Event)"><div class="v4_news_block__image--container">'+new ImageComponent({src:a.data.headline_news[0].pict_mobile,fallbackSrc:a.data.headline_news[0].pict_desktop_alternative&&null!==a.data.headline_news[0].pict_desktop_alternative?a.data.headline_news[0].pict_desktop_alternative:"/img/error/news_error--large.png",attrList:{alt:a.data.headline_news[0].name,title:a.data.headline_news[0].name},classes:"v4_news_block__image",lazyload:!0}).render()+'</div><div class="v4_news_block__text--container"><span class="v4_news_block__title" title="'+_("Top story","trends")+'">'+_("Top story","trends")+'</span><span class="v4_news_block__desc">'+a.data.headline_news[0].name+"</span></div></a></div>"},a._mobile_trends=function(a){var b='<div class="trends--mobile">';return a.data.headline_news&&a.data.headline_news.length>0&&(b+=""+this.renderPartial("mobile_top_story",a)),a.data.headline_video&&a.data.headline_video.length>0&&("special_event"===a.data.headline_video[0].section?b+=""+this.renderPartial("mobile_special_custom_event",a):"event"===a.data.headline_video[0].section?a.data.headline_video[0].link&&a.data.headline_video[0].link.indexOf(".mp4")>-1?b+=""+this.renderPartial("mobile_custom_event__video",a):b+=""+this.renderPartial("mobile_custom_event",a):b+=""+this.renderPartial("mobile_daily_video",a)),a.data.headline_images&&a.data.headline_images.length>0&&this.displayCulturalEvents(a.data.headline_images)&&(b+=""+this.renderPartial("mobile_custom_image_events",a)),a.data.latest_news&&a.data.latest_news.length>0&&(b+=""+this.renderPartial("mobile_latest_news",a)),b+="</div>"},a.trends=function(a){var b="";return a.data&&(b+='<div class="trends--big-text trends--big-text--hot">'+_("Hot trends","home")+"</div>",a.data.headline_news&&a.data.headline_news.length>0&&a.data.headline_video&&a.data.headline_video.length>0&&a.data.headline_images&&a.data.headline_images.length>0&&(b+='<div class="trends--general partial_posaic"><div class="partial_mosaic_3_cells partial_mosaic_spacing--12">'+this.renderPartial("desktop_top_story",a),"special_event"===a.data.headline_video[0].section?b+=""+this.renderPartial("desktop_special_custom_event",a):"event"===a.data.headline_video[0].section?a.data.headline_video[0].link&&a.data.headline_video[0].link.indexOf(".mp4")>-1?b+=""+this.renderPartial("desktop_custom_event__video",a):b+=""+this.renderPartial("desktop_custom_event",a):b+=""+this.renderPartial("desktop_daily_video",a),this.displayCulturalEvents(a.data.headline_images)?b+=""+this.renderPartial("desktop_custom_image_events",a):b+=""+this.renderPartial("desktop_week_pictures",a),b+="</div></div>"),this.displayCulturalEvents(a.data.headline_images)?b+=""+this.renderPartial("desktop_custom_image_events_popup",a):a.data.headline_images&&a.data.headline_images.length>0&&(b+=""+this.renderPartial("desktop_week_pictures_popup",a)),a.data.latest_news&&a.data.latest_news.length>0&&(b+=""+this.renderPartial("desktop_latest_news",a)),b+=this.renderPartial("mobile_trends",a)+'<div class="trends--news--more"></div><div class="more-news-container"><a href="javascript:;" id="'+actionManager.addClickListener(this,this.loadMoreLatestNews)+"\" class=\"trends--big-text trends--big-text__more-news trends--big-text__more-news button\" onmousedown=\"LinkHelper.logHandler(this, Event, {AjaxRoute: 'userInteraction', event: 'click', zone: 'more-news-button', context: 'true', t: 'default', component: 'trends'})\" onclick=\"LinkHelper.clickHandler(this, Event)\" onmouseup=\"LinkHelper.mouseUpHandler(this, Event)\"><span class=\"trends--big-text__more-news--text\">"+_("Discover more news","trends")+"</span></a></div>"),b},a}();